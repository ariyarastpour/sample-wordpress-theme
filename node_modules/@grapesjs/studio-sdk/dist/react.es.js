import * as He from "react";
import I, { useRef as G, useEffect as W, useState as U, forwardRef as Mt, memo as me, useLayoutEffect as yl, useMemo as oe, Fragment as bt, isValidElement as M0, cloneElement as $0, createElement as ci, useCallback as it, createContext as De, useContext as Oe, useReducer as Gr, createRef as ui, useImperativeHandle as xl, Children as N0 } from "react";
import * as R0 from "react-dom";
import Pd, { unstable_batchedUpdates as Us, flushSync as tm, createPortal as Ed } from "react-dom";
function _d(e) {
  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e;
}
var nm = { exports: {} }, Ls = {};
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var rf;
function D0() {
  if (rf)
    return Ls;
  rf = 1;
  var e = I, t = Symbol.for("react.element"), n = Symbol.for("react.fragment"), r = Object.prototype.hasOwnProperty, o = e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, s = { key: !0, ref: !0, __self: !0, __source: !0 };
  function i(a, c, u) {
    var d, p = {}, f = null, h = null;
    u !== void 0 && (f = "" + u), c.key !== void 0 && (f = "" + c.key), c.ref !== void 0 && (h = c.ref);
    for (d in c)
      r.call(c, d) && !s.hasOwnProperty(d) && (p[d] = c[d]);
    if (a && a.defaultProps)
      for (d in c = a.defaultProps, c)
        p[d] === void 0 && (p[d] = c[d]);
    return { $$typeof: t, type: a, key: f, ref: h, props: p, _owner: o.current };
  }
  return Ls.Fragment = n, Ls.jsx = i, Ls.jsxs = i, Ls;
}
nm.exports = D0();
var l = nm.exports;
class I0 extends Error {
  constructor(t, n) {
    super(t), this.error = t, this.errorData = n;
  }
}
const ea = async (e, { onError: t, onLoading: n, onResult: r, params: o, rawText: s, ...i }) => {
  try {
    n == null || n(!0);
    const a = o ? new URLSearchParams(o).toString() : "", c = a ? `?${a}` : "", u = await fetch(`${e}${c}`, i);
    if (!u.ok) {
      const p = await u.json();
      throw new I0(p.error || "Request failed!", p.errorData);
    }
    const d = s ? await u.text() : await u.json();
    return r == null || r(d), d;
  } catch (a) {
    const c = a instanceof Error ? a : new Error(a);
    return t == null || t(c), c;
  } finally {
    n == null || n(!1);
  }
};
class sr {
  static async get(t, n) {
    return ea(t, { ...n, method: "GET" });
  }
  static async post(t, n) {
    return ea(t, { ...n, method: "POST" });
  }
  static async put(t, n) {
    return ea(t, { ...n, method: "PUT" });
  }
  static async delete(t, n) {
    return ea(t, { ...n, method: "DELETE" });
  }
}
function Be(e) {
  for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
    n[r - 1] = arguments[r];
  throw new Error(typeof e == "number" ? "[MobX] minified error nr: " + e + (n.length ? " " + n.map(String).join(",") : "") + ". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts" : "[MobX] " + e);
}
var V0 = {};
function wl() {
  return typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : V0;
}
var rm = Object.assign, Ua = Object.getOwnPropertyDescriptor, Jn = Object.defineProperty, Sl = Object.prototype, Eu = [];
Object.freeze(Eu);
var Od = {};
Object.freeze(Od);
var H0 = typeof Proxy < "u", B0 = /* @__PURE__ */ Object.toString();
function om() {
  H0 || Be("Proxy not available");
}
function sm(e) {
  var t = !1;
  return function() {
    if (!t)
      return t = !0, e.apply(this, arguments);
  };
}
var zo = function() {
};
function $n(e) {
  return typeof e == "function";
}
function fo(e) {
  var t = typeof e;
  switch (t) {
    case "string":
    case "symbol":
    case "number":
      return !0;
  }
  return !1;
}
function jl(e) {
  return e !== null && typeof e == "object";
}
function jr(e) {
  if (!jl(e))
    return !1;
  var t = Object.getPrototypeOf(e);
  if (t == null)
    return !0;
  var n = Object.hasOwnProperty.call(t, "constructor") && t.constructor;
  return typeof n == "function" && n.toString() === B0;
}
function im(e) {
  var t = e == null ? void 0 : e.constructor;
  return t ? t.name === "GeneratorFunction" || t.displayName === "GeneratorFunction" : !1;
}
function Oi(e, t, n) {
  Jn(e, t, {
    enumerable: !1,
    writable: !0,
    configurable: !0,
    value: n
  });
}
function am(e, t, n) {
  Jn(e, t, {
    enumerable: !1,
    writable: !1,
    configurable: !0,
    value: n
  });
}
function So(e, t) {
  var n = "isMobX" + e;
  return t.prototype[n] = !0, function(r) {
    return jl(r) && r[n] === !0;
  };
}
function fs(e) {
  return e != null && Object.prototype.toString.call(e) === "[object Map]";
}
function z0(e) {
  var t = Object.getPrototypeOf(e), n = Object.getPrototypeOf(t), r = Object.getPrototypeOf(n);
  return r === null;
}
function fr(e) {
  return e != null && Object.prototype.toString.call(e) === "[object Set]";
}
var lm = typeof Object.getOwnPropertySymbols < "u";
function F0(e) {
  var t = Object.keys(e);
  if (!lm)
    return t;
  var n = Object.getOwnPropertySymbols(e);
  return n.length ? [].concat(t, n.filter(function(r) {
    return Sl.propertyIsEnumerable.call(e, r);
  })) : t;
}
var es = typeof Reflect < "u" && Reflect.ownKeys ? Reflect.ownKeys : lm ? function(e) {
  return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e));
} : (
  /* istanbul ignore next */
  Object.getOwnPropertyNames
);
function cm(e) {
  return e === null ? null : typeof e == "object" ? "" + e : e;
}
function yr(e, t) {
  return Sl.hasOwnProperty.call(e, t);
}
var U0 = Object.getOwnPropertyDescriptors || function(t) {
  var n = {};
  return es(t).forEach(function(r) {
    n[r] = Ua(t, r);
  }), n;
};
function Jt(e, t) {
  return !!(e & t);
}
function Qt(e, t, n) {
  return n ? e |= t : e &= ~t, e;
}
function of(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++)
    r[n] = e[n];
  return r;
}
function sf(e, t) {
  for (var n = 0; n < t.length; n++) {
    var r = t[n];
    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, G0(r.key), r);
  }
}
function hs(e, t, n) {
  return t && sf(e.prototype, t), n && sf(e, n), Object.defineProperty(e, "prototype", {
    writable: !1
  }), e;
}
function Fo(e, t) {
  var n = typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n)
    return (n = n.call(e)).next.bind(n);
  if (Array.isArray(e) || (n = K0(e)) || t && e && typeof e.length == "number") {
    n && (e = n);
    var r = 0;
    return function() {
      return r >= e.length ? {
        done: !0
      } : {
        done: !1,
        value: e[r++]
      };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function ho() {
  return ho = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n)
        ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, ho.apply(null, arguments);
}
function um(e, t) {
  e.prototype = Object.create(t.prototype), e.prototype.constructor = e, _u(e, t);
}
function _u(e, t) {
  return _u = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, r) {
    return n.__proto__ = r, n;
  }, _u(e, t);
}
function W0(e, t) {
  if (typeof e != "object" || !e)
    return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var r = n.call(e, t || "default");
    if (typeof r != "object")
      return r;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function G0(e) {
  var t = W0(e, "string");
  return typeof t == "symbol" ? t : t + "";
}
function K0(e, t) {
  if (e) {
    if (typeof e == "string")
      return of(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? of(e, t) : void 0;
  }
}
var Xn = /* @__PURE__ */ Symbol("mobx-stored-annotations");
function Qn(e) {
  function t(n, r) {
    if (Ai(r))
      return e.decorate_20223_(n, r);
    Ti(n, r, e);
  }
  return Object.assign(t, e);
}
function Ti(e, t, n) {
  yr(e, Xn) || Oi(e, Xn, ho({}, e[Xn])), ny(n) || (e[Xn][t] = n);
}
function q0(e) {
  return yr(e, Xn) || Oi(e, Xn, ho({}, e[Xn])), e[Xn];
}
function Ai(e) {
  return typeof e == "object" && typeof e.kind == "string";
}
var xe = /* @__PURE__ */ Symbol("mobx administration"), Kr = /* @__PURE__ */ function() {
  function e(n) {
    n === void 0 && (n = "Atom"), this.name_ = void 0, this.flags_ = 0, this.observers_ = /* @__PURE__ */ new Set(), this.lastAccessedBy_ = 0, this.lowestObserverState_ = We.NOT_TRACKING_, this.onBOL = void 0, this.onBUOL = void 0, this.name_ = n;
  }
  var t = e.prototype;
  return t.onBO = function() {
    this.onBOL && this.onBOL.forEach(function(r) {
      return r();
    });
  }, t.onBUO = function() {
    this.onBUOL && this.onBUOL.forEach(function(r) {
      return r();
    });
  }, t.reportObserved = function() {
    return Em(this);
  }, t.reportChanged = function() {
    gn(), _m(this), mn();
  }, t.toString = function() {
    return this.name_;
  }, hs(e, [{
    key: "isBeingObserved",
    get: function() {
      return Jt(this.flags_, e.isBeingObservedMask_);
    },
    set: function(r) {
      this.flags_ = Qt(this.flags_, e.isBeingObservedMask_, r);
    }
  }, {
    key: "isPendingUnobservation",
    get: function() {
      return Jt(this.flags_, e.isPendingUnobservationMask_);
    },
    set: function(r) {
      this.flags_ = Qt(this.flags_, e.isPendingUnobservationMask_, r);
    }
  }, {
    key: "diffValue",
    get: function() {
      return Jt(this.flags_, e.diffValueMask_) ? 1 : 0;
    },
    set: function(r) {
      this.flags_ = Qt(this.flags_, e.diffValueMask_, r === 1);
    }
  }]);
}();
Kr.isBeingObservedMask_ = 1;
Kr.isPendingUnobservationMask_ = 2;
Kr.diffValueMask_ = 4;
var Td = /* @__PURE__ */ So("Atom", Kr);
function dm(e, t, n) {
  t === void 0 && (t = zo), n === void 0 && (n = zo);
  var r = new Kr(e);
  return t !== zo && ax(r, t), n !== zo && $m(r, n), r;
}
function Y0(e, t) {
  return e === t;
}
function X0(e, t) {
  return $d(e, t);
}
function Z0(e, t) {
  return $d(e, t, 1);
}
function J0(e, t) {
  return Object.is ? Object.is(e, t) : e === t ? e !== 0 || 1 / e === 1 / t : e !== e && t !== t;
}
var ts = {
  identity: Y0,
  structural: X0,
  default: J0,
  shallow: Z0
};
function go(e, t, n) {
  return Vm(e) ? e : Array.isArray(e) ? At.array(e, {
    name: n
  }) : jr(e) ? At.object(e, void 0, {
    name: n
  }) : fs(e) ? At.map(e, {
    name: n
  }) : fr(e) ? At.set(e, {
    name: n
  }) : typeof e == "function" && !pi(e) && !fi(e) ? im(e) ? vo(e) : di(n, e) : e;
}
function Q0(e, t, n) {
  if (e == null || hi(e) || Al(e) || Co(e) || qn(e))
    return e;
  if (Array.isArray(e))
    return At.array(e, {
      name: n,
      deep: !1
    });
  if (jr(e))
    return At.object(e, void 0, {
      name: n,
      deep: !1
    });
  if (fs(e))
    return At.map(e, {
      name: n,
      deep: !1
    });
  if (fr(e))
    return At.set(e, {
      name: n,
      deep: !1
    });
}
function Cl(e) {
  return e;
}
function ey(e, t) {
  return $d(e, t) ? t : e;
}
var ty = "override";
function ny(e) {
  return e.annotationType_ === ty;
}
function Li(e, t) {
  return {
    annotationType_: e,
    options_: t,
    make_: ry,
    extend_: oy,
    decorate_20223_: sy
  };
}
function ry(e, t, n, r) {
  var o;
  if ((o = this.options_) != null && o.bound)
    return this.extend_(e, t, n, !1) === null ? 0 : 1;
  if (r === e.target_)
    return this.extend_(e, t, n, !1) === null ? 0 : 2;
  if (pi(n.value))
    return 1;
  var s = pm(e, this, t, n, !1);
  return Jn(r, t, s), 2;
}
function oy(e, t, n, r) {
  var o = pm(e, this, t, n);
  return e.defineProperty_(t, o, r);
}
function sy(e, t) {
  var n = t.kind, r = t.name, o = t.addInitializer, s = this, i = function(u) {
    var d, p, f, h;
    return mo((d = (p = s.options_) == null ? void 0 : p.name) != null ? d : r.toString(), u, (f = (h = s.options_) == null ? void 0 : h.autoAction) != null ? f : !1);
  };
  if (n == "field")
    return function(c) {
      var u, d = c;
      return pi(d) || (d = i(d)), (u = s.options_) != null && u.bound && (d = d.bind(this), d.isMobxAction = !0), d;
    };
  if (n == "method") {
    var a;
    return pi(e) || (e = i(e)), (a = this.options_) != null && a.bound && o(function() {
      var c = this, u = c[r].bind(c);
      u.isMobxAction = !0, c[r] = u;
    }), e;
  }
  Be("Cannot apply '" + s.annotationType_ + "' to '" + String(r) + "' (kind: " + n + "):" + (`
'` + s.annotationType_ + "' can only be used on properties with a function value."));
}
function iy(e, t, n, r) {
  t.annotationType_, r.value;
}
function pm(e, t, n, r, o) {
  var s, i, a, c, u, d, p;
  o === void 0 && (o = ue.safeDescriptors), iy(e, t, n, r);
  var f = r.value;
  if ((s = t.options_) != null && s.bound) {
    var h;
    f = f.bind((h = e.proxy_) != null ? h : e.target_);
  }
  return {
    value: mo(
      (i = (a = t.options_) == null ? void 0 : a.name) != null ? i : n.toString(),
      f,
      (c = (u = t.options_) == null ? void 0 : u.autoAction) != null ? c : !1,
      // https://github.com/mobxjs/mobx/discussions/3140
      (d = t.options_) != null && d.bound ? (p = e.proxy_) != null ? p : e.target_ : void 0
    ),
    // Non-configurable for classes
    // prevents accidental field redefinition in subclass
    configurable: o ? e.isPlainObject_ : !0,
    // https://github.com/mobxjs/mobx/pull/2641#issuecomment-737292058
    enumerable: !1,
    // Non-obsevable, therefore non-writable
    // Also prevents rewriting in subclass constructor
    writable: !o
  };
}
function fm(e, t) {
  return {
    annotationType_: e,
    options_: t,
    make_: ay,
    extend_: ly,
    decorate_20223_: cy
  };
}
function ay(e, t, n, r) {
  var o;
  if (r === e.target_)
    return this.extend_(e, t, n, !1) === null ? 0 : 2;
  if ((o = this.options_) != null && o.bound && (!yr(e.target_, t) || !fi(e.target_[t])) && this.extend_(e, t, n, !1) === null)
    return 0;
  if (fi(n.value))
    return 1;
  var s = hm(e, this, t, n, !1, !1);
  return Jn(r, t, s), 2;
}
function ly(e, t, n, r) {
  var o, s = hm(e, this, t, n, (o = this.options_) == null ? void 0 : o.bound);
  return e.defineProperty_(t, s, r);
}
function cy(e, t) {
  var n, r = t.name, o = t.addInitializer;
  return fi(e) || (e = vo(e)), (n = this.options_) != null && n.bound && o(function() {
    var s = this, i = s[r].bind(s);
    i.isMobXFlow = !0, s[r] = i;
  }), e;
}
function uy(e, t, n, r) {
  t.annotationType_, r.value;
}
function hm(e, t, n, r, o, s) {
  s === void 0 && (s = ue.safeDescriptors), uy(e, t, n, r);
  var i = r.value;
  if (fi(i) || (i = vo(i)), o) {
    var a;
    i = i.bind((a = e.proxy_) != null ? a : e.target_), i.isMobXFlow = !0;
  }
  return {
    value: i,
    // Non-configurable for classes
    // prevents accidental field redefinition in subclass
    configurable: s ? e.isPlainObject_ : !0,
    // https://github.com/mobxjs/mobx/pull/2641#issuecomment-737292058
    enumerable: !1,
    // Non-obsevable, therefore non-writable
    // Also prevents rewriting in subclass constructor
    writable: !s
  };
}
function Ad(e, t) {
  return {
    annotationType_: e,
    options_: t,
    make_: dy,
    extend_: py,
    decorate_20223_: fy
  };
}
function dy(e, t, n) {
  return this.extend_(e, t, n, !1) === null ? 0 : 1;
}
function py(e, t, n, r) {
  return hy(e, this, t, n), e.defineComputedProperty_(t, ho({}, this.options_, {
    get: n.get,
    set: n.set
  }), r);
}
function fy(e, t) {
  var n = this, r = t.name, o = t.addInitializer;
  return o(function() {
    var s = Po(this)[xe], i = ho({}, n.options_, {
      get: e,
      context: this
    });
    i.name || (i.name = "ObservableObject." + r.toString()), s.values_.set(r, new Nn(i));
  }), function() {
    return this[xe].getObservablePropValue_(r);
  };
}
function hy(e, t, n, r) {
  t.annotationType_, r.get;
}
function Pl(e, t) {
  return {
    annotationType_: e,
    options_: t,
    make_: gy,
    extend_: my,
    decorate_20223_: vy
  };
}
function gy(e, t, n) {
  return this.extend_(e, t, n, !1) === null ? 0 : 1;
}
function my(e, t, n, r) {
  var o, s;
  return by(e, this), e.defineObservableProperty_(t, n.value, (o = (s = this.options_) == null ? void 0 : s.enhancer) != null ? o : go, r);
}
function vy(e, t) {
  var n = this, r = t.kind, o = t.name, s = /* @__PURE__ */ new WeakSet();
  function i(a, c) {
    var u, d, p = Po(a)[xe], f = new lo(c, (u = (d = n.options_) == null ? void 0 : d.enhancer) != null ? u : go, "ObservableObject." + o.toString(), !1);
    p.values_.set(o, f), s.add(a);
  }
  if (r == "accessor")
    return {
      get: function() {
        return s.has(this) || i(this, e.get.call(this)), this[xe].getObservablePropValue_(o);
      },
      set: function(c) {
        return s.has(this) || i(this, c), this[xe].setObservablePropValue_(o, c);
      },
      init: function(c) {
        return s.has(this) || i(this, c), c;
      }
    };
}
function by(e, t, n, r) {
  t.annotationType_;
}
var yy = "true", xy = /* @__PURE__ */ gm();
function gm(e) {
  return {
    annotationType_: yy,
    options_: e,
    make_: wy,
    extend_: Sy,
    decorate_20223_: jy
  };
}
function wy(e, t, n, r) {
  var o, s;
  if (n.get)
    return El.make_(e, t, n, r);
  if (n.set) {
    var i = mo(t.toString(), n.set);
    return r === e.target_ ? e.defineProperty_(t, {
      configurable: ue.safeDescriptors ? e.isPlainObject_ : !0,
      set: i
    }) === null ? 0 : 2 : (Jn(r, t, {
      configurable: !0,
      set: i
    }), 2);
  }
  if (r !== e.target_ && typeof n.value == "function") {
    var a;
    if (im(n.value)) {
      var c, u = (c = this.options_) != null && c.autoBind ? vo.bound : vo;
      return u.make_(e, t, n, r);
    }
    var d = (a = this.options_) != null && a.autoBind ? di.bound : di;
    return d.make_(e, t, n, r);
  }
  var p = ((o = this.options_) == null ? void 0 : o.deep) === !1 ? At.ref : At;
  if (typeof n.value == "function" && (s = this.options_) != null && s.autoBind) {
    var f;
    n.value = n.value.bind((f = e.proxy_) != null ? f : e.target_);
  }
  return p.make_(e, t, n, r);
}
function Sy(e, t, n, r) {
  var o, s;
  if (n.get)
    return El.extend_(e, t, n, r);
  if (n.set)
    return e.defineProperty_(t, {
      configurable: ue.safeDescriptors ? e.isPlainObject_ : !0,
      set: mo(t.toString(), n.set)
    }, r);
  if (typeof n.value == "function" && (o = this.options_) != null && o.autoBind) {
    var i;
    n.value = n.value.bind((i = e.proxy_) != null ? i : e.target_);
  }
  var a = ((s = this.options_) == null ? void 0 : s.deep) === !1 ? At.ref : At;
  return a.extend_(e, t, n, r);
}
function jy(e, t) {
  Be("'" + this.annotationType_ + "' cannot be used as a decorator");
}
var Cy = "observable", Py = "observable.ref", Ey = "observable.shallow", _y = "observable.struct", mm = {
  deep: !0,
  name: void 0,
  defaultDecorator: void 0,
  proxy: !0
};
Object.freeze(mm);
function ta(e) {
  return e || mm;
}
var Ou = /* @__PURE__ */ Pl(Cy), Oy = /* @__PURE__ */ Pl(Py, {
  enhancer: Cl
}), Ty = /* @__PURE__ */ Pl(Ey, {
  enhancer: Q0
}), Ay = /* @__PURE__ */ Pl(_y, {
  enhancer: ey
}), vm = /* @__PURE__ */ Qn(Ou);
function na(e) {
  return e.deep === !0 ? go : e.deep === !1 ? Cl : ky(e.defaultDecorator);
}
function Ly(e) {
  var t;
  return e ? (t = e.defaultDecorator) != null ? t : gm(e) : void 0;
}
function ky(e) {
  var t, n;
  return e && (t = (n = e.options_) == null ? void 0 : n.enhancer) != null ? t : go;
}
function bm(e, t, n) {
  if (Ai(t))
    return Ou.decorate_20223_(e, t);
  if (fo(t)) {
    Ti(e, t, Ou);
    return;
  }
  return Vm(e) ? e : jr(e) ? At.object(e, t, n) : Array.isArray(e) ? At.array(e, t) : fs(e) ? At.map(e, t) : fr(e) ? At.set(e, t) : typeof e == "object" && e !== null ? e : At.box(e, t);
}
rm(bm, vm);
var My = {
  box: function(t, n) {
    var r = ta(n);
    return new lo(t, na(r), r.name, !0, r.equals);
  },
  array: function(t, n) {
    var r = ta(n);
    return (ue.useProxies === !1 || r.proxy === !1 ? Lx : wx)(t, na(r), r.name);
  },
  map: function(t, n) {
    var r = ta(n);
    return new Bm(t, na(r), r.name);
  },
  set: function(t, n) {
    var r = ta(n);
    return new zm(t, na(r), r.name);
  },
  object: function(t, n, r) {
    return qr(function() {
      return Rm(ue.useProxies === !1 || (r == null ? void 0 : r.proxy) === !1 ? Po({}, r) : vx({}, r), t, n);
    });
  },
  ref: /* @__PURE__ */ Qn(Oy),
  shallow: /* @__PURE__ */ Qn(Ty),
  deep: vm,
  struct: /* @__PURE__ */ Qn(Ay)
}, At = /* @__PURE__ */ rm(bm, My), ym = "computed", $y = "computed.struct", Tu = /* @__PURE__ */ Ad(ym), Ny = /* @__PURE__ */ Ad($y, {
  equals: ts.structural
}), El = function(t, n) {
  if (Ai(n))
    return Tu.decorate_20223_(t, n);
  if (fo(n))
    return Ti(t, n, Tu);
  if (jr(t))
    return Qn(Ad(ym, t));
  var r = jr(n) ? n : {};
  return r.get = t, r.name || (r.name = t.name || ""), new Nn(r);
};
Object.assign(El, Tu);
El.struct = /* @__PURE__ */ Qn(Ny);
var af, lf, Wa = 0, Ry = 1, Dy = (af = (lf = /* @__PURE__ */ Ua(function() {
}, "name")) == null ? void 0 : lf.configurable) != null ? af : !1, cf = {
  value: "action",
  configurable: !0,
  writable: !1,
  enumerable: !1
};
function mo(e, t, n, r) {
  n === void 0 && (n = !1);
  function o() {
    return Iy(e, n, t, r || this, arguments);
  }
  return o.isMobxAction = !0, o.toString = function() {
    return t.toString();
  }, Dy && (cf.value = e, Jn(o, "name", cf)), o;
}
function Iy(e, t, n, r, o) {
  var s = Vy(e, t);
  try {
    return n.apply(r, o);
  } catch (i) {
    throw s.error_ = i, i;
  } finally {
    Hy(s);
  }
}
function Vy(e, t, n, r) {
  var o = !1, s = 0, i = ue.trackingDerivation, a = !t || !i;
  gn();
  var c = ue.allowStateChanges;
  a && (jo(), c = _l(!0));
  var u = Ld(!0), d = {
    runAsAction_: a,
    prevDerivation_: i,
    prevAllowStateChanges_: c,
    prevAllowStateReads_: u,
    notifySpy_: o,
    startTime_: s,
    actionId_: Ry++,
    parentActionId_: Wa
  };
  return Wa = d.actionId_, d;
}
function Hy(e) {
  Wa !== e.actionId_ && Be(30), Wa = e.parentActionId_, e.error_ !== void 0 && (ue.suppressReactionErrors = !0), Ol(e.prevAllowStateChanges_), qs(e.prevAllowStateReads_), mn(), e.runAsAction_ && xr(e.prevDerivation_), ue.suppressReactionErrors = !1;
}
function By(e, t) {
  var n = _l(e);
  try {
    return t();
  } finally {
    Ol(n);
  }
}
function _l(e) {
  var t = ue.allowStateChanges;
  return ue.allowStateChanges = e, t;
}
function Ol(e) {
  ue.allowStateChanges = e;
}
var lo = /* @__PURE__ */ function(e) {
  function t(r, o, s, i, a) {
    var c;
    return s === void 0 && (s = "ObservableValue"), a === void 0 && (a = ts.default), c = e.call(this, s) || this, c.enhancer = void 0, c.name_ = void 0, c.equals = void 0, c.hasUnreportedChange_ = !1, c.interceptors_ = void 0, c.changeListeners_ = void 0, c.value_ = void 0, c.dehancer = void 0, c.enhancer = o, c.name_ = s, c.equals = a, c.value_ = o(r, void 0, s), c;
  }
  um(t, e);
  var n = t.prototype;
  return n.dehanceValue = function(o) {
    return this.dehancer !== void 0 ? this.dehancer(o) : o;
  }, n.set = function(o) {
    this.value_, o = this.prepareNewValue_(o), o !== ue.UNCHANGED && this.setNewValue_(o);
  }, n.prepareNewValue_ = function(o) {
    if (fn(this)) {
      var s = hn(this, {
        object: this,
        type: er,
        newValue: o
      });
      if (!s)
        return ue.UNCHANGED;
      o = s.newValue;
    }
    return o = this.enhancer(o, this.value_, this.name_), this.equals(this.value_, o) ? ue.UNCHANGED : o;
  }, n.setNewValue_ = function(o) {
    var s = this.value_;
    this.value_ = o, this.reportChanged(), Ln(this) && kn(this, {
      type: er,
      object: this,
      newValue: o,
      oldValue: s
    });
  }, n.get = function() {
    return this.reportObserved(), this.dehanceValue(this.value_);
  }, n.intercept_ = function(o) {
    return ki(this, o);
  }, n.observe_ = function(o, s) {
    return s && o({
      observableKind: "value",
      debugObjectName: this.name_,
      object: this,
      type: er,
      newValue: this.value_,
      oldValue: void 0
    }), Mi(this, o);
  }, n.raw = function() {
    return this.value_;
  }, n.toJSON = function() {
    return this.get();
  }, n.toString = function() {
    return this.name_ + "[" + this.value_ + "]";
  }, n.valueOf = function() {
    return cm(this.get());
  }, n[Symbol.toPrimitive] = function() {
    return this.valueOf();
  }, t;
}(Kr), Nn = /* @__PURE__ */ function() {
  function e(n) {
    this.dependenciesState_ = We.NOT_TRACKING_, this.observing_ = [], this.newObserving_ = null, this.observers_ = /* @__PURE__ */ new Set(), this.runId_ = 0, this.lastAccessedBy_ = 0, this.lowestObserverState_ = We.UP_TO_DATE_, this.unboundDepsCount_ = 0, this.value_ = new Ka(null), this.name_ = void 0, this.triggeredBy_ = void 0, this.flags_ = 0, this.derivation = void 0, this.setter_ = void 0, this.isTracing_ = Ga.NONE, this.scope_ = void 0, this.equals_ = void 0, this.requiresReaction_ = void 0, this.keepAlive_ = void 0, this.onBOL = void 0, this.onBUOL = void 0, n.get || Be(31), this.derivation = n.get, this.name_ = n.name || "ComputedValue", n.set && (this.setter_ = mo("ComputedValue-setter", n.set)), this.equals_ = n.equals || (n.compareStructural || n.struct ? ts.structural : ts.default), this.scope_ = n.context, this.requiresReaction_ = n.requiresReaction, this.keepAlive_ = !!n.keepAlive;
  }
  var t = e.prototype;
  return t.onBecomeStale_ = function() {
    Gy(this);
  }, t.onBO = function() {
    this.onBOL && this.onBOL.forEach(function(r) {
      return r();
    });
  }, t.onBUO = function() {
    this.onBUOL && this.onBUOL.forEach(function(r) {
      return r();
    });
  }, t.get = function() {
    if (this.isComputing && Be(32, this.name_, this.derivation), ue.inBatch === 0 && // !globalState.trackingDerivatpion &&
    this.observers_.size === 0 && !this.keepAlive_)
      Au(this) && (this.warnAboutUntrackedRead_(), gn(), this.value_ = this.computeValue_(!1), mn());
    else if (Em(this), Au(this)) {
      var r = ue.trackingContext;
      this.keepAlive_ && !r && (ue.trackingContext = this), this.trackAndCompute() && Wy(this), ue.trackingContext = r;
    }
    var o = this.value_;
    if (Ra(o))
      throw o.cause;
    return o;
  }, t.set = function(r) {
    if (this.setter_) {
      this.isRunningSetter && Be(33, this.name_), this.isRunningSetter = !0;
      try {
        this.setter_.call(this.scope_, r);
      } finally {
        this.isRunningSetter = !1;
      }
    } else
      Be(34, this.name_);
  }, t.trackAndCompute = function() {
    var r = this.value_, o = (
      /* see #1208 */
      this.dependenciesState_ === We.NOT_TRACKING_
    ), s = this.computeValue_(!0), i = o || Ra(r) || Ra(s) || !this.equals_(r, s);
    return i && (this.value_ = s), i;
  }, t.computeValue_ = function(r) {
    this.isComputing = !0;
    var o = _l(!1), s;
    if (r)
      s = xm(this, this.derivation, this.scope_);
    else if (ue.disableErrorBoundaries === !0)
      s = this.derivation.call(this.scope_);
    else
      try {
        s = this.derivation.call(this.scope_);
      } catch (i) {
        s = new Ka(i);
      }
    return Ol(o), this.isComputing = !1, s;
  }, t.suspend_ = function() {
    this.keepAlive_ || (Lu(this), this.value_ = void 0);
  }, t.observe_ = function(r, o) {
    var s = this, i = !0, a = void 0;
    return nx(function() {
      var c = s.get();
      if (!i || o) {
        var u = jo();
        r({
          observableKind: "computed",
          debugObjectName: s.name_,
          type: er,
          object: s,
          newValue: c,
          oldValue: a
        }), xr(u);
      }
      i = !1, a = c;
    });
  }, t.warnAboutUntrackedRead_ = function() {
  }, t.toString = function() {
    return this.name_ + "[" + this.derivation.toString() + "]";
  }, t.valueOf = function() {
    return cm(this.get());
  }, t[Symbol.toPrimitive] = function() {
    return this.valueOf();
  }, hs(e, [{
    key: "isComputing",
    get: function() {
      return Jt(this.flags_, e.isComputingMask_);
    },
    set: function(r) {
      this.flags_ = Qt(this.flags_, e.isComputingMask_, r);
    }
  }, {
    key: "isRunningSetter",
    get: function() {
      return Jt(this.flags_, e.isRunningSetterMask_);
    },
    set: function(r) {
      this.flags_ = Qt(this.flags_, e.isRunningSetterMask_, r);
    }
  }, {
    key: "isBeingObserved",
    get: function() {
      return Jt(this.flags_, e.isBeingObservedMask_);
    },
    set: function(r) {
      this.flags_ = Qt(this.flags_, e.isBeingObservedMask_, r);
    }
  }, {
    key: "isPendingUnobservation",
    get: function() {
      return Jt(this.flags_, e.isPendingUnobservationMask_);
    },
    set: function(r) {
      this.flags_ = Qt(this.flags_, e.isPendingUnobservationMask_, r);
    }
  }, {
    key: "diffValue",
    get: function() {
      return Jt(this.flags_, e.diffValueMask_) ? 1 : 0;
    },
    set: function(r) {
      this.flags_ = Qt(this.flags_, e.diffValueMask_, r === 1);
    }
  }]);
}();
Nn.isComputingMask_ = 1;
Nn.isRunningSetterMask_ = 2;
Nn.isBeingObservedMask_ = 4;
Nn.isPendingUnobservationMask_ = 8;
Nn.diffValueMask_ = 16;
var Tl = /* @__PURE__ */ So("ComputedValue", Nn), We;
(function(e) {
  e[e.NOT_TRACKING_ = -1] = "NOT_TRACKING_", e[e.UP_TO_DATE_ = 0] = "UP_TO_DATE_", e[e.POSSIBLY_STALE_ = 1] = "POSSIBLY_STALE_", e[e.STALE_ = 2] = "STALE_";
})(We || (We = {}));
var Ga;
(function(e) {
  e[e.NONE = 0] = "NONE", e[e.LOG = 1] = "LOG", e[e.BREAK = 2] = "BREAK";
})(Ga || (Ga = {}));
var Ka = function(t) {
  this.cause = void 0, this.cause = t;
};
function Ra(e) {
  return e instanceof Ka;
}
function Au(e) {
  switch (e.dependenciesState_) {
    case We.UP_TO_DATE_:
      return !1;
    case We.NOT_TRACKING_:
    case We.STALE_:
      return !0;
    case We.POSSIBLY_STALE_: {
      for (var t = Ld(!0), n = jo(), r = e.observing_, o = r.length, s = 0; s < o; s++) {
        var i = r[s];
        if (Tl(i)) {
          if (ue.disableErrorBoundaries)
            i.get();
          else
            try {
              i.get();
            } catch {
              return xr(n), qs(t), !0;
            }
          if (e.dependenciesState_ === We.STALE_)
            return xr(n), qs(t), !0;
        }
      }
      return Sm(e), xr(n), qs(t), !1;
    }
  }
}
function xm(e, t, n) {
  var r = Ld(!0);
  Sm(e), e.newObserving_ = new Array(
    // Reserve constant space for initial dependencies, dynamic space otherwise.
    // See https://github.com/mobxjs/mobx/pull/3833
    e.runId_ === 0 ? 100 : e.observing_.length
  ), e.unboundDepsCount_ = 0, e.runId_ = ++ue.runId;
  var o = ue.trackingDerivation;
  ue.trackingDerivation = e, ue.inBatch++;
  var s;
  if (ue.disableErrorBoundaries === !0)
    s = t.call(n);
  else
    try {
      s = t.call(n);
    } catch (i) {
      s = new Ka(i);
    }
  return ue.inBatch--, ue.trackingDerivation = o, zy(e), qs(r), s;
}
function zy(e) {
  for (var t = e.observing_, n = e.observing_ = e.newObserving_, r = We.UP_TO_DATE_, o = 0, s = e.unboundDepsCount_, i = 0; i < s; i++) {
    var a = n[i];
    a.diffValue === 0 && (a.diffValue = 1, o !== i && (n[o] = a), o++), a.dependenciesState_ > r && (r = a.dependenciesState_);
  }
  for (n.length = o, e.newObserving_ = null, s = t.length; s--; ) {
    var c = t[s];
    c.diffValue === 0 && Cm(c, e), c.diffValue = 0;
  }
  for (; o--; ) {
    var u = n[o];
    u.diffValue === 1 && (u.diffValue = 0, Uy(u, e));
  }
  r !== We.UP_TO_DATE_ && (e.dependenciesState_ = r, e.onBecomeStale_());
}
function Lu(e) {
  var t = e.observing_;
  e.observing_ = [];
  for (var n = t.length; n--; )
    Cm(t[n], e);
  e.dependenciesState_ = We.NOT_TRACKING_;
}
function wm(e) {
  var t = jo();
  try {
    return e();
  } finally {
    xr(t);
  }
}
function jo() {
  var e = ue.trackingDerivation;
  return ue.trackingDerivation = null, e;
}
function xr(e) {
  ue.trackingDerivation = e;
}
function Ld(e) {
  var t = ue.allowStateReads;
  return ue.allowStateReads = e, t;
}
function qs(e) {
  ue.allowStateReads = e;
}
function Sm(e) {
  if (e.dependenciesState_ !== We.UP_TO_DATE_) {
    e.dependenciesState_ = We.UP_TO_DATE_;
    for (var t = e.observing_, n = t.length; n--; )
      t[n].lowestObserverState_ = We.UP_TO_DATE_;
  }
}
var Da = function() {
  this.version = 6, this.UNCHANGED = {}, this.trackingDerivation = null, this.trackingContext = null, this.runId = 0, this.mobxGuid = 0, this.inBatch = 0, this.pendingUnobservations = [], this.pendingReactions = [], this.isRunningReactions = !1, this.allowStateChanges = !1, this.allowStateReads = !0, this.enforceActions = !0, this.spyListeners = [], this.globalReactionErrorHandlers = [], this.computedRequiresReaction = !1, this.reactionRequiresObservable = !1, this.observableRequiresReaction = !1, this.disableErrorBoundaries = !1, this.suppressReactionErrors = !1, this.useProxies = !0, this.verifyProxies = !1, this.safeDescriptors = !0;
}, Ia = !0, jm = !1, ue = /* @__PURE__ */ function() {
  var e = /* @__PURE__ */ wl();
  return e.__mobxInstanceCount > 0 && !e.__mobxGlobals && (Ia = !1), e.__mobxGlobals && e.__mobxGlobals.version !== new Da().version && (Ia = !1), Ia ? e.__mobxGlobals ? (e.__mobxInstanceCount += 1, e.__mobxGlobals.UNCHANGED || (e.__mobxGlobals.UNCHANGED = {}), e.__mobxGlobals) : (e.__mobxInstanceCount = 1, e.__mobxGlobals = /* @__PURE__ */ new Da()) : (setTimeout(function() {
    jm || Be(35);
  }, 1), new Da());
}();
function Fy() {
  if ((ue.pendingReactions.length || ue.inBatch || ue.isRunningReactions) && Be(36), jm = !0, Ia) {
    var e = wl();
    --e.__mobxInstanceCount === 0 && (e.__mobxGlobals = void 0), ue = new Da();
  }
}
function Uy(e, t) {
  e.observers_.add(t), e.lowestObserverState_ > t.dependenciesState_ && (e.lowestObserverState_ = t.dependenciesState_);
}
function Cm(e, t) {
  e.observers_.delete(t), e.observers_.size === 0 && Pm(e);
}
function Pm(e) {
  e.isPendingUnobservation === !1 && (e.isPendingUnobservation = !0, ue.pendingUnobservations.push(e));
}
function gn() {
  ue.inBatch++;
}
function mn() {
  if (--ue.inBatch === 0) {
    Om();
    for (var e = ue.pendingUnobservations, t = 0; t < e.length; t++) {
      var n = e[t];
      n.isPendingUnobservation = !1, n.observers_.size === 0 && (n.isBeingObserved && (n.isBeingObserved = !1, n.onBUO()), n instanceof Nn && n.suspend_());
    }
    ue.pendingUnobservations = [];
  }
}
function Em(e) {
  var t = ue.trackingDerivation;
  return t !== null ? (t.runId_ !== e.lastAccessedBy_ && (e.lastAccessedBy_ = t.runId_, t.newObserving_[t.unboundDepsCount_++] = e, !e.isBeingObserved && ue.trackingContext && (e.isBeingObserved = !0, e.onBO())), e.isBeingObserved) : (e.observers_.size === 0 && ue.inBatch > 0 && Pm(e), !1);
}
function _m(e) {
  e.lowestObserverState_ !== We.STALE_ && (e.lowestObserverState_ = We.STALE_, e.observers_.forEach(function(t) {
    t.dependenciesState_ === We.UP_TO_DATE_ && t.onBecomeStale_(), t.dependenciesState_ = We.STALE_;
  }));
}
function Wy(e) {
  e.lowestObserverState_ !== We.STALE_ && (e.lowestObserverState_ = We.STALE_, e.observers_.forEach(function(t) {
    t.dependenciesState_ === We.POSSIBLY_STALE_ ? t.dependenciesState_ = We.STALE_ : t.dependenciesState_ === We.UP_TO_DATE_ && (e.lowestObserverState_ = We.UP_TO_DATE_);
  }));
}
function Gy(e) {
  e.lowestObserverState_ === We.UP_TO_DATE_ && (e.lowestObserverState_ = We.POSSIBLY_STALE_, e.observers_.forEach(function(t) {
    t.dependenciesState_ === We.UP_TO_DATE_ && (t.dependenciesState_ = We.POSSIBLY_STALE_, t.onBecomeStale_());
  }));
}
var rr = /* @__PURE__ */ function() {
  function e(n, r, o, s) {
    n === void 0 && (n = "Reaction"), this.name_ = void 0, this.onInvalidate_ = void 0, this.errorHandler_ = void 0, this.requiresObservable_ = void 0, this.observing_ = [], this.newObserving_ = [], this.dependenciesState_ = We.NOT_TRACKING_, this.runId_ = 0, this.unboundDepsCount_ = 0, this.flags_ = 0, this.isTracing_ = Ga.NONE, this.name_ = n, this.onInvalidate_ = r, this.errorHandler_ = o, this.requiresObservable_ = s;
  }
  var t = e.prototype;
  return t.onBecomeStale_ = function() {
    this.schedule_();
  }, t.schedule_ = function() {
    this.isScheduled || (this.isScheduled = !0, ue.pendingReactions.push(this), Om());
  }, t.runReaction_ = function() {
    if (!this.isDisposed) {
      gn(), this.isScheduled = !1;
      var r = ue.trackingContext;
      if (ue.trackingContext = this, Au(this)) {
        this.isTrackPending = !0;
        try {
          this.onInvalidate_();
        } catch (o) {
          this.reportExceptionInDerivation_(o);
        }
      }
      ue.trackingContext = r, mn();
    }
  }, t.track = function(r) {
    if (!this.isDisposed) {
      gn(), this.isRunning = !0;
      var o = ue.trackingContext;
      ue.trackingContext = this;
      var s = xm(this, r, void 0);
      ue.trackingContext = o, this.isRunning = !1, this.isTrackPending = !1, this.isDisposed && Lu(this), Ra(s) && this.reportExceptionInDerivation_(s.cause), mn();
    }
  }, t.reportExceptionInDerivation_ = function(r) {
    var o = this;
    if (this.errorHandler_) {
      this.errorHandler_(r, this);
      return;
    }
    if (ue.disableErrorBoundaries)
      throw r;
    var s = "[mobx] uncaught error in '" + this + "'";
    ue.suppressReactionErrors || console.error(s, r), ue.globalReactionErrorHandlers.forEach(function(i) {
      return i(r, o);
    });
  }, t.dispose = function() {
    this.isDisposed || (this.isDisposed = !0, this.isRunning || (gn(), Lu(this), mn()));
  }, t.getDisposer_ = function(r) {
    var o = this, s = function i() {
      o.dispose(), r == null || r.removeEventListener == null || r.removeEventListener("abort", i);
    };
    return r == null || r.addEventListener == null || r.addEventListener("abort", s), s[xe] = this, s;
  }, t.toString = function() {
    return "Reaction[" + this.name_ + "]";
  }, t.trace = function(r) {
  }, hs(e, [{
    key: "isDisposed",
    get: function() {
      return Jt(this.flags_, e.isDisposedMask_);
    },
    set: function(r) {
      this.flags_ = Qt(this.flags_, e.isDisposedMask_, r);
    }
  }, {
    key: "isScheduled",
    get: function() {
      return Jt(this.flags_, e.isScheduledMask_);
    },
    set: function(r) {
      this.flags_ = Qt(this.flags_, e.isScheduledMask_, r);
    }
  }, {
    key: "isTrackPending",
    get: function() {
      return Jt(this.flags_, e.isTrackPendingMask_);
    },
    set: function(r) {
      this.flags_ = Qt(this.flags_, e.isTrackPendingMask_, r);
    }
  }, {
    key: "isRunning",
    get: function() {
      return Jt(this.flags_, e.isRunningMask_);
    },
    set: function(r) {
      this.flags_ = Qt(this.flags_, e.isRunningMask_, r);
    }
  }, {
    key: "diffValue",
    get: function() {
      return Jt(this.flags_, e.diffValueMask_) ? 1 : 0;
    },
    set: function(r) {
      this.flags_ = Qt(this.flags_, e.diffValueMask_, r === 1);
    }
  }]);
}();
rr.isDisposedMask_ = 1;
rr.isScheduledMask_ = 2;
rr.isTrackPendingMask_ = 4;
rr.isRunningMask_ = 8;
rr.diffValueMask_ = 16;
var Ky = 100, ku = function(t) {
  return t();
};
function Om() {
  ue.inBatch > 0 || ue.isRunningReactions || ku(qy);
}
function qy() {
  ue.isRunningReactions = !0;
  for (var e = ue.pendingReactions, t = 0; e.length > 0; ) {
    ++t === Ky && (console.error("[mobx] cycle in reaction: " + e[0]), e.splice(0));
    for (var n = e.splice(0), r = 0, o = n.length; r < o; r++)
      n[r].runReaction_();
  }
  ue.isRunningReactions = !1;
}
var qa = /* @__PURE__ */ So("Reaction", rr);
function Yy(e) {
  var t = ku;
  ku = function(r) {
    return e(function() {
      return t(r);
    });
  };
}
function Ys() {
  return !1;
}
function Xy(e) {
  return console.warn("[mobx.spy] Is a no-op in production builds"), function() {
  };
}
var Tm = "action", Zy = "action.bound", Am = "autoAction", Jy = "autoAction.bound", Qy = "<unnamed action>", Mu = /* @__PURE__ */ Li(Tm), ex = /* @__PURE__ */ Li(Zy, {
  bound: !0
}), $u = /* @__PURE__ */ Li(Am, {
  autoAction: !0
}), tx = /* @__PURE__ */ Li(Jy, {
  autoAction: !0,
  bound: !0
});
function Lm(e) {
  var t = function(r, o) {
    if ($n(r))
      return mo(r.name || Qy, r, e);
    if ($n(o))
      return mo(r, o, e);
    if (Ai(o))
      return (e ? $u : Mu).decorate_20223_(r, o);
    if (fo(o))
      return Ti(r, o, e ? $u : Mu);
    if (fo(r))
      return Qn(Li(e ? Am : Tm, {
        name: r,
        autoAction: e
      }));
  };
  return t;
}
var so = /* @__PURE__ */ Lm(!1);
Object.assign(so, Mu);
var di = /* @__PURE__ */ Lm(!0);
Object.assign(di, $u);
so.bound = /* @__PURE__ */ Qn(ex);
di.bound = /* @__PURE__ */ Qn(tx);
function pi(e) {
  return $n(e) && e.isMobxAction === !0;
}
function nx(e, t) {
  var n, r, o, s;
  t === void 0 && (t = Od);
  var i = (n = (r = t) == null ? void 0 : r.name) != null ? n : "Autorun", a = !t.scheduler && !t.delay, c;
  if (a)
    c = new rr(i, function() {
      this.track(p);
    }, t.onError, t.requiresObservable);
  else {
    var u = km(t), d = !1;
    c = new rr(i, function() {
      d || (d = !0, u(function() {
        d = !1, c.isDisposed || c.track(p);
      }));
    }, t.onError, t.requiresObservable);
  }
  function p() {
    e(c);
  }
  return (o = t) != null && (o = o.signal) != null && o.aborted || c.schedule_(), c.getDisposer_((s = t) == null ? void 0 : s.signal);
}
var rx = function(t) {
  return t();
};
function km(e) {
  return e.scheduler ? e.scheduler : e.delay ? function(t) {
    return setTimeout(t, e.delay);
  } : rx;
}
function Mm(e, t, n) {
  var r, o, s;
  n === void 0 && (n = Od);
  var i = (r = n.name) != null ? r : "Reaction", a = so(i, n.onError ? ox(n.onError, t) : t), c = !n.scheduler && !n.delay, u = km(n), d = !0, p = !1, f, h = n.compareStructural ? ts.structural : n.equals || ts.default, v = new rr(i, function() {
    d || c ? g() : p || (p = !0, u(g));
  }, n.onError, n.requiresObservable);
  function g() {
    if (p = !1, !v.isDisposed) {
      var b = !1, m = f;
      v.track(function() {
        var y = By(!1, function() {
          return e(v);
        });
        b = d || !h(f, y), f = y;
      }), (d && n.fireImmediately || !d && b) && a(f, m, v), d = !1;
    }
  }
  return (o = n) != null && (o = o.signal) != null && o.aborted || v.schedule_(), v.getDisposer_((s = n) == null ? void 0 : s.signal);
}
function ox(e, t) {
  return function() {
    try {
      return t.apply(this, arguments);
    } catch (n) {
      e.call(this, n);
    }
  };
}
var sx = "onBO", ix = "onBUO";
function ax(e, t, n) {
  return Nm(sx, e, t, n);
}
function $m(e, t, n) {
  return Nm(ix, e, t, n);
}
function Nm(e, t, n, r) {
  var o = typeof r == "function" ? ns(t, n) : ns(t), s = $n(r) ? r : n, i = e + "L";
  return o[i] ? o[i].add(s) : o[i] = /* @__PURE__ */ new Set([s]), function() {
    var a = o[i];
    a && (a.delete(s), a.size === 0 && delete o[i]);
  };
}
var lx = "never", ra = "always", cx = "observed";
function ux(e) {
  e.isolateGlobalState === !0 && Fy();
  var t = e.useProxies, n = e.enforceActions;
  if (t !== void 0 && (ue.useProxies = t === ra ? !0 : t === lx ? !1 : typeof Proxy < "u"), t === "ifavailable" && (ue.verifyProxies = !0), n !== void 0) {
    var r = n === ra ? ra : n === cx;
    ue.enforceActions = r, ue.allowStateChanges = !(r === !0 || r === ra);
  }
  ["computedRequiresReaction", "reactionRequiresObservable", "observableRequiresReaction", "disableErrorBoundaries", "safeDescriptors"].forEach(function(o) {
    o in e && (ue[o] = !!e[o]);
  }), ue.allowStateReads = !ue.observableRequiresReaction, e.reactionScheduler && Yy(e.reactionScheduler);
}
function Rm(e, t, n, r) {
  var o = U0(t);
  return qr(function() {
    var s = Po(e, r)[xe];
    es(o).forEach(function(i) {
      s.extend_(
        i,
        o[i],
        // must pass "undefined" for { key: undefined }
        n && i in n ? n[i] : !0
      );
    });
  }), e;
}
function dx(e, t) {
  return Dm(ns(e, t));
}
function Dm(e) {
  var t = {
    name: e.name_
  };
  return e.observing_ && e.observing_.length > 0 && (t.dependencies = px(e.observing_).map(Dm)), t;
}
function px(e) {
  return Array.from(new Set(e));
}
var fx = 0;
function Im() {
  this.message = "FLOW_CANCELLED";
}
Im.prototype = /* @__PURE__ */ Object.create(Error.prototype);
var bc = /* @__PURE__ */ fm("flow"), hx = /* @__PURE__ */ fm("flow.bound", {
  bound: !0
}), vo = /* @__PURE__ */ Object.assign(function(t, n) {
  if (Ai(n))
    return bc.decorate_20223_(t, n);
  if (fo(n))
    return Ti(t, n, bc);
  var r = t, o = r.name || "<unnamed flow>", s = function() {
    var a = this, c = arguments, u = ++fx, d = so(o + " - runid: " + u + " - init", r).apply(a, c), p, f = void 0, h = new Promise(function(v, g) {
      var b = 0;
      p = g;
      function m(w) {
        f = void 0;
        var S;
        try {
          S = so(o + " - runid: " + u + " - yield " + b++, d.next).call(d, w);
        } catch (j) {
          return g(j);
        }
        x(S);
      }
      function y(w) {
        f = void 0;
        var S;
        try {
          S = so(o + " - runid: " + u + " - yield " + b++, d.throw).call(d, w);
        } catch (j) {
          return g(j);
        }
        x(S);
      }
      function x(w) {
        if ($n(w == null ? void 0 : w.then)) {
          w.then(x, g);
          return;
        }
        return w.done ? v(w.value) : (f = Promise.resolve(w.value), f.then(m, y));
      }
      m(void 0);
    });
    return h.cancel = so(o + " - runid: " + u + " - cancel", function() {
      try {
        f && uf(f);
        var v = d.return(void 0), g = Promise.resolve(v.value);
        g.then(zo, zo), uf(g), p(new Im());
      } catch (b) {
        p(b);
      }
    }), h;
  };
  return s.isMobXFlow = !0, s;
}, bc);
vo.bound = /* @__PURE__ */ Qn(hx);
function uf(e) {
  $n(e.cancel) && e.cancel();
}
function fi(e) {
  return (e == null ? void 0 : e.isMobXFlow) === !0;
}
function gx(e, t) {
  return e ? t !== void 0 ? hi(e) ? e[xe].values_.has(t) : !1 : hi(e) || !!e[xe] || Td(e) || qa(e) || Tl(e) : !1;
}
function Vm(e) {
  return gx(e);
}
function hr(e, t) {
  t === void 0 && (t = void 0), gn();
  try {
    return e.apply(t);
  } finally {
    mn();
  }
}
function No(e) {
  return e[xe];
}
var mx = {
  has: function(t, n) {
    return No(t).has_(n);
  },
  get: function(t, n) {
    return No(t).get_(n);
  },
  set: function(t, n, r) {
    var o;
    return fo(n) ? (o = No(t).set_(n, r, !0)) != null ? o : !0 : !1;
  },
  deleteProperty: function(t, n) {
    var r;
    return fo(n) ? (r = No(t).delete_(n, !0)) != null ? r : !0 : !1;
  },
  defineProperty: function(t, n, r) {
    var o;
    return (o = No(t).defineProperty_(n, r)) != null ? o : !0;
  },
  ownKeys: function(t) {
    return No(t).ownKeys_();
  },
  preventExtensions: function(t) {
    Be(13);
  }
};
function vx(e, t) {
  var n, r;
  return om(), e = Po(e, t), (r = (n = e[xe]).proxy_) != null ? r : n.proxy_ = new Proxy(e, mx);
}
function fn(e) {
  return e.interceptors_ !== void 0 && e.interceptors_.length > 0;
}
function ki(e, t) {
  var n = e.interceptors_ || (e.interceptors_ = []);
  return n.push(t), sm(function() {
    var r = n.indexOf(t);
    r !== -1 && n.splice(r, 1);
  });
}
function hn(e, t) {
  var n = jo();
  try {
    for (var r = [].concat(e.interceptors_ || []), o = 0, s = r.length; o < s && (t = r[o](t), t && !t.type && Be(14), !!t); o++)
      ;
    return t;
  } finally {
    xr(n);
  }
}
function Ln(e) {
  return e.changeListeners_ !== void 0 && e.changeListeners_.length > 0;
}
function Mi(e, t) {
  var n = e.changeListeners_ || (e.changeListeners_ = []);
  return n.push(t), sm(function() {
    var r = n.indexOf(t);
    r !== -1 && n.splice(r, 1);
  });
}
function kn(e, t) {
  var n = jo(), r = e.changeListeners_;
  if (r) {
    r = r.slice();
    for (var o = 0, s = r.length; o < s; o++)
      r[o](t);
    xr(n);
  }
}
function bx(e, t, n) {
  return qr(function() {
    var r, o = Po(e, n)[xe];
    (r = t) != null || (t = q0(e)), es(t).forEach(function(s) {
      return o.make_(s, t[s]);
    });
  }), e;
}
var yc = /* @__PURE__ */ Symbol("mobx-keys");
function Xt(e, t, n) {
  return jr(e) ? Rm(e, e, t, n) : (qr(function() {
    var r = Po(e, n)[xe];
    if (!e[yc]) {
      var o = Object.getPrototypeOf(e), s = new Set([].concat(es(e), es(o)));
      s.delete("constructor"), s.delete(xe), Oi(o, yc, s);
    }
    e[yc].forEach(function(i) {
      return r.make_(
        i,
        // must pass "undefined" for { key: undefined }
        t && i in t ? t[i] : !0
      );
    });
  }), e);
}
var df = "splice", er = "update", yx = 1e4, xx = {
  get: function(t, n) {
    var r = t[xe];
    return n === xe ? r : n === "length" ? r.getArrayLength_() : typeof n == "string" && !isNaN(n) ? r.get_(parseInt(n)) : yr(Ya, n) ? Ya[n] : t[n];
  },
  set: function(t, n, r) {
    var o = t[xe];
    return n === "length" && o.setArrayLength_(r), typeof n == "symbol" || isNaN(n) ? t[n] = r : o.set_(parseInt(n), r), !0;
  },
  preventExtensions: function() {
    Be(15);
  }
}, kd = /* @__PURE__ */ function() {
  function e(n, r, o, s) {
    n === void 0 && (n = "ObservableArray"), this.owned_ = void 0, this.legacyMode_ = void 0, this.atom_ = void 0, this.values_ = [], this.interceptors_ = void 0, this.changeListeners_ = void 0, this.enhancer_ = void 0, this.dehancer = void 0, this.proxy_ = void 0, this.lastKnownLength_ = 0, this.owned_ = o, this.legacyMode_ = s, this.atom_ = new Kr(n), this.enhancer_ = function(i, a) {
      return r(i, a, "ObservableArray[..]");
    };
  }
  var t = e.prototype;
  return t.dehanceValue_ = function(r) {
    return this.dehancer !== void 0 ? this.dehancer(r) : r;
  }, t.dehanceValues_ = function(r) {
    return this.dehancer !== void 0 && r.length > 0 ? r.map(this.dehancer) : r;
  }, t.intercept_ = function(r) {
    return ki(this, r);
  }, t.observe_ = function(r, o) {
    return o === void 0 && (o = !1), o && r({
      observableKind: "array",
      object: this.proxy_,
      debugObjectName: this.atom_.name_,
      type: "splice",
      index: 0,
      added: this.values_.slice(),
      addedCount: this.values_.length,
      removed: [],
      removedCount: 0
    }), Mi(this, r);
  }, t.getArrayLength_ = function() {
    return this.atom_.reportObserved(), this.values_.length;
  }, t.setArrayLength_ = function(r) {
    (typeof r != "number" || isNaN(r) || r < 0) && Be("Out of range: " + r);
    var o = this.values_.length;
    if (r !== o)
      if (r > o) {
        for (var s = new Array(r - o), i = 0; i < r - o; i++)
          s[i] = void 0;
        this.spliceWithArray_(o, 0, s);
      } else
        this.spliceWithArray_(r, o - r);
  }, t.updateArrayLength_ = function(r, o) {
    r !== this.lastKnownLength_ && Be(16), this.lastKnownLength_ += o, this.legacyMode_ && o > 0 && Gm(r + o + 1);
  }, t.spliceWithArray_ = function(r, o, s) {
    var i = this;
    this.atom_;
    var a = this.values_.length;
    if (r === void 0 ? r = 0 : r > a ? r = a : r < 0 && (r = Math.max(0, a + r)), arguments.length === 1 ? o = a - r : o == null ? o = 0 : o = Math.max(0, Math.min(o, a - r)), s === void 0 && (s = Eu), fn(this)) {
      var c = hn(this, {
        object: this.proxy_,
        type: df,
        index: r,
        removedCount: o,
        added: s
      });
      if (!c)
        return Eu;
      o = c.removedCount, s = c.added;
    }
    if (s = s.length === 0 ? s : s.map(function(p) {
      return i.enhancer_(p, void 0);
    }), this.legacyMode_) {
      var u = s.length - o;
      this.updateArrayLength_(a, u);
    }
    var d = this.spliceItemsIntoValues_(r, o, s);
    return (o !== 0 || s.length !== 0) && this.notifyArraySplice_(r, s, d), this.dehanceValues_(d);
  }, t.spliceItemsIntoValues_ = function(r, o, s) {
    if (s.length < yx) {
      var i;
      return (i = this.values_).splice.apply(i, [r, o].concat(s));
    } else {
      var a = this.values_.slice(r, r + o), c = this.values_.slice(r + o);
      this.values_.length += s.length - o;
      for (var u = 0; u < s.length; u++)
        this.values_[r + u] = s[u];
      for (var d = 0; d < c.length; d++)
        this.values_[r + s.length + d] = c[d];
      return a;
    }
  }, t.notifyArrayChildUpdate_ = function(r, o, s) {
    var i = !this.owned_ && Ys(), a = Ln(this), c = a || i ? {
      observableKind: "array",
      object: this.proxy_,
      type: er,
      debugObjectName: this.atom_.name_,
      index: r,
      newValue: o,
      oldValue: s
    } : null;
    this.atom_.reportChanged(), a && kn(this, c);
  }, t.notifyArraySplice_ = function(r, o, s) {
    var i = !this.owned_ && Ys(), a = Ln(this), c = a || i ? {
      observableKind: "array",
      object: this.proxy_,
      debugObjectName: this.atom_.name_,
      type: df,
      index: r,
      removed: s,
      added: o,
      removedCount: s.length,
      addedCount: o.length
    } : null;
    this.atom_.reportChanged(), a && kn(this, c);
  }, t.get_ = function(r) {
    if (this.legacyMode_ && r >= this.values_.length) {
      console.warn("[mobx] Out of bounds read: " + r);
      return;
    }
    return this.atom_.reportObserved(), this.dehanceValue_(this.values_[r]);
  }, t.set_ = function(r, o) {
    var s = this.values_;
    if (this.legacyMode_ && r > s.length && Be(17, r, s.length), r < s.length) {
      this.atom_;
      var i = s[r];
      if (fn(this)) {
        var a = hn(this, {
          type: er,
          object: this.proxy_,
          // since "this" is the real array we need to pass its proxy
          index: r,
          newValue: o
        });
        if (!a)
          return;
        o = a.newValue;
      }
      o = this.enhancer_(o, i);
      var c = o !== i;
      c && (s[r] = o, this.notifyArrayChildUpdate_(r, o, i));
    } else {
      for (var u = new Array(r + 1 - s.length), d = 0; d < u.length - 1; d++)
        u[d] = void 0;
      u[u.length - 1] = o, this.spliceWithArray_(s.length, 0, u);
    }
  }, e;
}();
function wx(e, t, n, r) {
  return n === void 0 && (n = "ObservableArray"), r === void 0 && (r = !1), om(), qr(function() {
    var o = new kd(n, t, r, !1);
    am(o.values_, xe, o);
    var s = new Proxy(o.values_, xx);
    return o.proxy_ = s, e && e.length && o.spliceWithArray_(0, 0, e), s;
  });
}
var Ya = {
  clear: function() {
    return this.splice(0);
  },
  replace: function(t) {
    var n = this[xe];
    return n.spliceWithArray_(0, n.values_.length, t);
  },
  // Used by JSON.stringify
  toJSON: function() {
    return this.slice();
  },
  /*
   * functions that do alter the internal structure of the array, (based on lib.es6.d.ts)
   * since these functions alter the inner structure of the array, the have side effects.
   * Because the have side effects, they should not be used in computed function,
   * and for that reason the do not call dependencyState.notifyObserved
   */
  splice: function(t, n) {
    for (var r = arguments.length, o = new Array(r > 2 ? r - 2 : 0), s = 2; s < r; s++)
      o[s - 2] = arguments[s];
    var i = this[xe];
    switch (arguments.length) {
      case 0:
        return [];
      case 1:
        return i.spliceWithArray_(t);
      case 2:
        return i.spliceWithArray_(t, n);
    }
    return i.spliceWithArray_(t, n, o);
  },
  spliceWithArray: function(t, n, r) {
    return this[xe].spliceWithArray_(t, n, r);
  },
  push: function() {
    for (var t = this[xe], n = arguments.length, r = new Array(n), o = 0; o < n; o++)
      r[o] = arguments[o];
    return t.spliceWithArray_(t.values_.length, 0, r), t.values_.length;
  },
  pop: function() {
    return this.splice(Math.max(this[xe].values_.length - 1, 0), 1)[0];
  },
  shift: function() {
    return this.splice(0, 1)[0];
  },
  unshift: function() {
    for (var t = this[xe], n = arguments.length, r = new Array(n), o = 0; o < n; o++)
      r[o] = arguments[o];
    return t.spliceWithArray_(0, 0, r), t.values_.length;
  },
  reverse: function() {
    return ue.trackingDerivation && Be(37, "reverse"), this.replace(this.slice().reverse()), this;
  },
  sort: function() {
    ue.trackingDerivation && Be(37, "sort");
    var t = this.slice();
    return t.sort.apply(t, arguments), this.replace(t), this;
  },
  remove: function(t) {
    var n = this[xe], r = n.dehanceValues_(n.values_).indexOf(t);
    return r > -1 ? (this.splice(r, 1), !0) : !1;
  }
};
rt("at", sn);
rt("concat", sn);
rt("flat", sn);
rt("includes", sn);
rt("indexOf", sn);
rt("join", sn);
rt("lastIndexOf", sn);
rt("slice", sn);
rt("toString", sn);
rt("toLocaleString", sn);
rt("toSorted", sn);
rt("toSpliced", sn);
rt("with", sn);
rt("every", Rn);
rt("filter", Rn);
rt("find", Rn);
rt("findIndex", Rn);
rt("findLast", Rn);
rt("findLastIndex", Rn);
rt("flatMap", Rn);
rt("forEach", Rn);
rt("map", Rn);
rt("some", Rn);
rt("toReversed", Rn);
rt("reduce", Hm);
rt("reduceRight", Hm);
function rt(e, t) {
  typeof Array.prototype[e] == "function" && (Ya[e] = t(e));
}
function sn(e) {
  return function() {
    var t = this[xe];
    t.atom_.reportObserved();
    var n = t.dehanceValues_(t.values_);
    return n[e].apply(n, arguments);
  };
}
function Rn(e) {
  return function(t, n) {
    var r = this, o = this[xe];
    o.atom_.reportObserved();
    var s = o.dehanceValues_(o.values_);
    return s[e](function(i, a) {
      return t.call(n, i, a, r);
    });
  };
}
function Hm(e) {
  return function() {
    var t = this, n = this[xe];
    n.atom_.reportObserved();
    var r = n.dehanceValues_(n.values_), o = arguments[0];
    return arguments[0] = function(s, i, a) {
      return o(s, i, a, t);
    }, r[e].apply(r, arguments);
  };
}
var Sx = /* @__PURE__ */ So("ObservableArrayAdministration", kd);
function Al(e) {
  return jl(e) && Sx(e[xe]);
}
var jx = {}, Dr = "add", Xa = "delete", Bm = /* @__PURE__ */ function() {
  function e(n, r, o) {
    var s = this;
    r === void 0 && (r = go), o === void 0 && (o = "ObservableMap"), this.enhancer_ = void 0, this.name_ = void 0, this[xe] = jx, this.data_ = void 0, this.hasMap_ = void 0, this.keysAtom_ = void 0, this.interceptors_ = void 0, this.changeListeners_ = void 0, this.dehancer = void 0, this.enhancer_ = r, this.name_ = o, $n(Map) || Be(18), qr(function() {
      s.keysAtom_ = dm("ObservableMap.keys()"), s.data_ = /* @__PURE__ */ new Map(), s.hasMap_ = /* @__PURE__ */ new Map(), n && s.merge(n);
    });
  }
  var t = e.prototype;
  return t.has_ = function(r) {
    return this.data_.has(r);
  }, t.has = function(r) {
    var o = this;
    if (!ue.trackingDerivation)
      return this.has_(r);
    var s = this.hasMap_.get(r);
    if (!s) {
      var i = s = new lo(this.has_(r), Cl, "ObservableMap.key?", !1);
      this.hasMap_.set(r, i), $m(i, function() {
        return o.hasMap_.delete(r);
      });
    }
    return s.get();
  }, t.set = function(r, o) {
    var s = this.has_(r);
    if (fn(this)) {
      var i = hn(this, {
        type: s ? er : Dr,
        object: this,
        newValue: o,
        name: r
      });
      if (!i)
        return this;
      o = i.newValue;
    }
    return s ? this.updateValue_(r, o) : this.addValue_(r, o), this;
  }, t.delete = function(r) {
    var o = this;
    if (this.keysAtom_, fn(this)) {
      var s = hn(this, {
        type: Xa,
        object: this,
        name: r
      });
      if (!s)
        return !1;
    }
    if (this.has_(r)) {
      var i = Ys(), a = Ln(this), c = a || i ? {
        observableKind: "map",
        debugObjectName: this.name_,
        type: Xa,
        object: this,
        oldValue: this.data_.get(r).value_,
        name: r
      } : null;
      return hr(function() {
        var u;
        o.keysAtom_.reportChanged(), (u = o.hasMap_.get(r)) == null || u.setNewValue_(!1);
        var d = o.data_.get(r);
        d.setNewValue_(void 0), o.data_.delete(r);
      }), a && kn(this, c), !0;
    }
    return !1;
  }, t.updateValue_ = function(r, o) {
    var s = this.data_.get(r);
    if (o = s.prepareNewValue_(o), o !== ue.UNCHANGED) {
      var i = Ys(), a = Ln(this), c = a || i ? {
        observableKind: "map",
        debugObjectName: this.name_,
        type: er,
        object: this,
        oldValue: s.value_,
        name: r,
        newValue: o
      } : null;
      s.setNewValue_(o), a && kn(this, c);
    }
  }, t.addValue_ = function(r, o) {
    var s = this;
    this.keysAtom_, hr(function() {
      var u, d = new lo(o, s.enhancer_, "ObservableMap.key", !1);
      s.data_.set(r, d), o = d.value_, (u = s.hasMap_.get(r)) == null || u.setNewValue_(!0), s.keysAtom_.reportChanged();
    });
    var i = Ys(), a = Ln(this), c = a || i ? {
      observableKind: "map",
      debugObjectName: this.name_,
      type: Dr,
      object: this,
      name: r,
      newValue: o
    } : null;
    a && kn(this, c);
  }, t.get = function(r) {
    return this.has(r) ? this.dehanceValue_(this.data_.get(r).get()) : this.dehanceValue_(void 0);
  }, t.dehanceValue_ = function(r) {
    return this.dehancer !== void 0 ? this.dehancer(r) : r;
  }, t.keys = function() {
    return this.keysAtom_.reportObserved(), this.data_.keys();
  }, t.values = function() {
    var r = this, o = this.keys();
    return pf({
      next: function() {
        var i = o.next(), a = i.done, c = i.value;
        return {
          done: a,
          value: a ? void 0 : r.get(c)
        };
      }
    });
  }, t.entries = function() {
    var r = this, o = this.keys();
    return pf({
      next: function() {
        var i = o.next(), a = i.done, c = i.value;
        return {
          done: a,
          value: a ? void 0 : [c, r.get(c)]
        };
      }
    });
  }, t[Symbol.iterator] = function() {
    return this.entries();
  }, t.forEach = function(r, o) {
    for (var s = Fo(this), i; !(i = s()).done; ) {
      var a = i.value, c = a[0], u = a[1];
      r.call(o, u, c, this);
    }
  }, t.merge = function(r) {
    var o = this;
    return Co(r) && (r = new Map(r)), hr(function() {
      jr(r) ? F0(r).forEach(function(s) {
        return o.set(s, r[s]);
      }) : Array.isArray(r) ? r.forEach(function(s) {
        var i = s[0], a = s[1];
        return o.set(i, a);
      }) : fs(r) ? (z0(r) || Be(19, r), r.forEach(function(s, i) {
        return o.set(i, s);
      })) : r != null && Be(20, r);
    }), this;
  }, t.clear = function() {
    var r = this;
    hr(function() {
      wm(function() {
        for (var o = Fo(r.keys()), s; !(s = o()).done; ) {
          var i = s.value;
          r.delete(i);
        }
      });
    });
  }, t.replace = function(r) {
    var o = this;
    return hr(function() {
      for (var s = Cx(r), i = /* @__PURE__ */ new Map(), a = !1, c = Fo(o.data_.keys()), u; !(u = c()).done; ) {
        var d = u.value;
        if (!s.has(d)) {
          var p = o.delete(d);
          if (p)
            a = !0;
          else {
            var f = o.data_.get(d);
            i.set(d, f);
          }
        }
      }
      for (var h = Fo(s.entries()), v; !(v = h()).done; ) {
        var g = v.value, b = g[0], m = g[1], y = o.data_.has(b);
        if (o.set(b, m), o.data_.has(b)) {
          var x = o.data_.get(b);
          i.set(b, x), y || (a = !0);
        }
      }
      if (!a)
        if (o.data_.size !== i.size)
          o.keysAtom_.reportChanged();
        else
          for (var w = o.data_.keys(), S = i.keys(), j = w.next(), E = S.next(); !j.done; ) {
            if (j.value !== E.value) {
              o.keysAtom_.reportChanged();
              break;
            }
            j = w.next(), E = S.next();
          }
      o.data_ = i;
    }), this;
  }, t.toString = function() {
    return "[object ObservableMap]";
  }, t.toJSON = function() {
    return Array.from(this);
  }, t.observe_ = function(r, o) {
    return Mi(this, r);
  }, t.intercept_ = function(r) {
    return ki(this, r);
  }, hs(e, [{
    key: "size",
    get: function() {
      return this.keysAtom_.reportObserved(), this.data_.size;
    }
  }, {
    key: Symbol.toStringTag,
    get: function() {
      return "Map";
    }
  }]);
}(), Co = /* @__PURE__ */ So("ObservableMap", Bm);
function pf(e) {
  return e[Symbol.toStringTag] = "MapIterator", Nd(e);
}
function Cx(e) {
  if (fs(e) || Co(e))
    return e;
  if (Array.isArray(e))
    return new Map(e);
  if (jr(e)) {
    var t = /* @__PURE__ */ new Map();
    for (var n in e)
      t.set(n, e[n]);
    return t;
  } else
    return Be(21, e);
}
var Px = {}, zm = /* @__PURE__ */ function() {
  function e(n, r, o) {
    var s = this;
    r === void 0 && (r = go), o === void 0 && (o = "ObservableSet"), this.name_ = void 0, this[xe] = Px, this.data_ = /* @__PURE__ */ new Set(), this.atom_ = void 0, this.changeListeners_ = void 0, this.interceptors_ = void 0, this.dehancer = void 0, this.enhancer_ = void 0, this.name_ = o, $n(Set) || Be(22), this.enhancer_ = function(i, a) {
      return r(i, a, o);
    }, qr(function() {
      s.atom_ = dm(s.name_), n && s.replace(n);
    });
  }
  var t = e.prototype;
  return t.dehanceValue_ = function(r) {
    return this.dehancer !== void 0 ? this.dehancer(r) : r;
  }, t.clear = function() {
    var r = this;
    hr(function() {
      wm(function() {
        for (var o = Fo(r.data_.values()), s; !(s = o()).done; ) {
          var i = s.value;
          r.delete(i);
        }
      });
    });
  }, t.forEach = function(r, o) {
    for (var s = Fo(this), i; !(i = s()).done; ) {
      var a = i.value;
      r.call(o, a, a, this);
    }
  }, t.add = function(r) {
    var o = this;
    if (this.atom_, fn(this)) {
      var s = hn(this, {
        type: Dr,
        object: this,
        newValue: r
      });
      if (!s)
        return this;
    }
    if (!this.has(r)) {
      hr(function() {
        o.data_.add(o.enhancer_(r, void 0)), o.atom_.reportChanged();
      });
      var i = !1, a = Ln(this), c = a || i ? {
        observableKind: "set",
        debugObjectName: this.name_,
        type: Dr,
        object: this,
        newValue: r
      } : null;
      a && kn(this, c);
    }
    return this;
  }, t.delete = function(r) {
    var o = this;
    if (fn(this)) {
      var s = hn(this, {
        type: Xa,
        object: this,
        oldValue: r
      });
      if (!s)
        return !1;
    }
    if (this.has(r)) {
      var i = !1, a = Ln(this), c = a || i ? {
        observableKind: "set",
        debugObjectName: this.name_,
        type: Xa,
        object: this,
        oldValue: r
      } : null;
      return hr(function() {
        o.atom_.reportChanged(), o.data_.delete(r);
      }), a && kn(this, c), !0;
    }
    return !1;
  }, t.has = function(r) {
    return this.atom_.reportObserved(), this.data_.has(this.dehanceValue_(r));
  }, t.entries = function() {
    var r = 0, o = Array.from(this.keys()), s = Array.from(this.values());
    return ff({
      next: function() {
        var a = r;
        return r += 1, a < s.length ? {
          value: [o[a], s[a]],
          done: !1
        } : {
          value: void 0,
          done: !0
        };
      }
    });
  }, t.keys = function() {
    return this.values();
  }, t.values = function() {
    this.atom_.reportObserved();
    var r = this, o = 0, s = Array.from(this.data_.values());
    return ff({
      next: function() {
        return o < s.length ? {
          value: r.dehanceValue_(s[o++]),
          done: !1
        } : {
          value: void 0,
          done: !0
        };
      }
    });
  }, t.intersection = function(r) {
    if (fr(r) && !qn(r))
      return r.intersection(this);
    var o = new Set(this);
    return o.intersection(r);
  }, t.union = function(r) {
    if (fr(r) && !qn(r))
      return r.union(this);
    var o = new Set(this);
    return o.union(r);
  }, t.difference = function(r) {
    return new Set(this).difference(r);
  }, t.symmetricDifference = function(r) {
    if (fr(r) && !qn(r))
      return r.symmetricDifference(this);
    var o = new Set(this);
    return o.symmetricDifference(r);
  }, t.isSubsetOf = function(r) {
    return new Set(this).isSubsetOf(r);
  }, t.isSupersetOf = function(r) {
    return new Set(this).isSupersetOf(r);
  }, t.isDisjointFrom = function(r) {
    if (fr(r) && !qn(r))
      return r.isDisjointFrom(this);
    var o = new Set(this);
    return o.isDisjointFrom(r);
  }, t.replace = function(r) {
    var o = this;
    return qn(r) && (r = new Set(r)), hr(function() {
      Array.isArray(r) ? (o.clear(), r.forEach(function(s) {
        return o.add(s);
      })) : fr(r) ? (o.clear(), r.forEach(function(s) {
        return o.add(s);
      })) : r != null && Be("Cannot initialize set from " + r);
    }), this;
  }, t.observe_ = function(r, o) {
    return Mi(this, r);
  }, t.intercept_ = function(r) {
    return ki(this, r);
  }, t.toJSON = function() {
    return Array.from(this);
  }, t.toString = function() {
    return "[object ObservableSet]";
  }, t[Symbol.iterator] = function() {
    return this.values();
  }, hs(e, [{
    key: "size",
    get: function() {
      return this.atom_.reportObserved(), this.data_.size;
    }
  }, {
    key: Symbol.toStringTag,
    get: function() {
      return "Set";
    }
  }]);
}(), qn = /* @__PURE__ */ So("ObservableSet", zm);
function ff(e) {
  return e[Symbol.toStringTag] = "SetIterator", Nd(e);
}
var hf = /* @__PURE__ */ Object.create(null), gf = "remove", Fm = /* @__PURE__ */ function() {
  function e(n, r, o, s) {
    r === void 0 && (r = /* @__PURE__ */ new Map()), s === void 0 && (s = xy), this.target_ = void 0, this.values_ = void 0, this.name_ = void 0, this.defaultAnnotation_ = void 0, this.keysAtom_ = void 0, this.changeListeners_ = void 0, this.interceptors_ = void 0, this.proxy_ = void 0, this.isPlainObject_ = void 0, this.appliedAnnotations_ = void 0, this.pendingKeys_ = void 0, this.target_ = n, this.values_ = r, this.name_ = o, this.defaultAnnotation_ = s, this.keysAtom_ = new Kr("ObservableObject.keys"), this.isPlainObject_ = jr(this.target_);
  }
  var t = e.prototype;
  return t.getObservablePropValue_ = function(r) {
    return this.values_.get(r).get();
  }, t.setObservablePropValue_ = function(r, o) {
    var s = this.values_.get(r);
    if (s instanceof Nn)
      return s.set(o), !0;
    if (fn(this)) {
      var i = hn(this, {
        type: er,
        object: this.proxy_ || this.target_,
        name: r,
        newValue: o
      });
      if (!i)
        return null;
      o = i.newValue;
    }
    if (o = s.prepareNewValue_(o), o !== ue.UNCHANGED) {
      var a = Ln(this), c = !1, u = a || c ? {
        type: er,
        observableKind: "object",
        debugObjectName: this.name_,
        object: this.proxy_ || this.target_,
        oldValue: s.value_,
        name: r,
        newValue: o
      } : null;
      s.setNewValue_(o), a && kn(this, u);
    }
    return !0;
  }, t.get_ = function(r) {
    return ue.trackingDerivation && !yr(this.target_, r) && this.has_(r), this.target_[r];
  }, t.set_ = function(r, o, s) {
    return s === void 0 && (s = !1), yr(this.target_, r) ? this.values_.has(r) ? this.setObservablePropValue_(r, o) : s ? Reflect.set(this.target_, r, o) : (this.target_[r] = o, !0) : this.extend_(r, {
      value: o,
      enumerable: !0,
      writable: !0,
      configurable: !0
    }, this.defaultAnnotation_, s);
  }, t.has_ = function(r) {
    if (!ue.trackingDerivation)
      return r in this.target_;
    this.pendingKeys_ || (this.pendingKeys_ = /* @__PURE__ */ new Map());
    var o = this.pendingKeys_.get(r);
    return o || (o = new lo(r in this.target_, Cl, "ObservableObject.key?", !1), this.pendingKeys_.set(r, o)), o.get();
  }, t.make_ = function(r, o) {
    if (o === !0 && (o = this.defaultAnnotation_), o !== !1) {
      if (!(r in this.target_)) {
        var s;
        if ((s = this.target_[Xn]) != null && s[r])
          return;
        Be(1, o.annotationType_, this.name_ + "." + r.toString());
      }
      for (var i = this.target_; i && i !== Sl; ) {
        var a = Ua(i, r);
        if (a) {
          var c = o.make_(this, r, a, i);
          if (c === 0)
            return;
          if (c === 1)
            break;
        }
        i = Object.getPrototypeOf(i);
      }
      vf(this, o, r);
    }
  }, t.extend_ = function(r, o, s, i) {
    if (i === void 0 && (i = !1), s === !0 && (s = this.defaultAnnotation_), s === !1)
      return this.defineProperty_(r, o, i);
    var a = s.extend_(this, r, o, i);
    return a && vf(this, s, r), a;
  }, t.defineProperty_ = function(r, o, s) {
    s === void 0 && (s = !1), this.keysAtom_;
    try {
      gn();
      var i = this.delete_(r);
      if (!i)
        return i;
      if (fn(this)) {
        var a = hn(this, {
          object: this.proxy_ || this.target_,
          name: r,
          type: Dr,
          newValue: o.value
        });
        if (!a)
          return null;
        var c = a.newValue;
        o.value !== c && (o = ho({}, o, {
          value: c
        }));
      }
      if (s) {
        if (!Reflect.defineProperty(this.target_, r, o))
          return !1;
      } else
        Jn(this.target_, r, o);
      this.notifyPropertyAddition_(r, o.value);
    } finally {
      mn();
    }
    return !0;
  }, t.defineObservableProperty_ = function(r, o, s, i) {
    i === void 0 && (i = !1), this.keysAtom_;
    try {
      gn();
      var a = this.delete_(r);
      if (!a)
        return a;
      if (fn(this)) {
        var c = hn(this, {
          object: this.proxy_ || this.target_,
          name: r,
          type: Dr,
          newValue: o
        });
        if (!c)
          return null;
        o = c.newValue;
      }
      var u = mf(r), d = {
        configurable: ue.safeDescriptors ? this.isPlainObject_ : !0,
        enumerable: !0,
        get: u.get,
        set: u.set
      };
      if (i) {
        if (!Reflect.defineProperty(this.target_, r, d))
          return !1;
      } else
        Jn(this.target_, r, d);
      var p = new lo(o, s, "ObservableObject.key", !1);
      this.values_.set(r, p), this.notifyPropertyAddition_(r, p.value_);
    } finally {
      mn();
    }
    return !0;
  }, t.defineComputedProperty_ = function(r, o, s) {
    s === void 0 && (s = !1), this.keysAtom_;
    try {
      gn();
      var i = this.delete_(r);
      if (!i)
        return i;
      if (fn(this)) {
        var a = hn(this, {
          object: this.proxy_ || this.target_,
          name: r,
          type: Dr,
          newValue: void 0
        });
        if (!a)
          return null;
      }
      o.name || (o.name = "ObservableObject.key"), o.context = this.proxy_ || this.target_;
      var c = mf(r), u = {
        configurable: ue.safeDescriptors ? this.isPlainObject_ : !0,
        enumerable: !1,
        get: c.get,
        set: c.set
      };
      if (s) {
        if (!Reflect.defineProperty(this.target_, r, u))
          return !1;
      } else
        Jn(this.target_, r, u);
      this.values_.set(r, new Nn(o)), this.notifyPropertyAddition_(r, void 0);
    } finally {
      mn();
    }
    return !0;
  }, t.delete_ = function(r, o) {
    if (o === void 0 && (o = !1), this.keysAtom_, !yr(this.target_, r))
      return !0;
    if (fn(this)) {
      var s = hn(this, {
        object: this.proxy_ || this.target_,
        name: r,
        type: gf
      });
      if (!s)
        return null;
    }
    try {
      var i;
      gn();
      var a = Ln(this), c = !1, u = this.values_.get(r), d = void 0;
      if (!u && (a || c)) {
        var p;
        d = (p = Ua(this.target_, r)) == null ? void 0 : p.value;
      }
      if (o) {
        if (!Reflect.deleteProperty(this.target_, r))
          return !1;
      } else
        delete this.target_[r];
      if (u && (this.values_.delete(r), u instanceof lo && (d = u.value_), _m(u)), this.keysAtom_.reportChanged(), (i = this.pendingKeys_) == null || (i = i.get(r)) == null || i.set(r in this.target_), a || c) {
        var f = {
          type: gf,
          observableKind: "object",
          object: this.proxy_ || this.target_,
          debugObjectName: this.name_,
          oldValue: d,
          name: r
        };
        a && kn(this, f);
      }
    } finally {
      mn();
    }
    return !0;
  }, t.observe_ = function(r, o) {
    return Mi(this, r);
  }, t.intercept_ = function(r) {
    return ki(this, r);
  }, t.notifyPropertyAddition_ = function(r, o) {
    var s, i = Ln(this), a = !1;
    if (i || a) {
      var c = i || a ? {
        type: Dr,
        observableKind: "object",
        debugObjectName: this.name_,
        object: this.proxy_ || this.target_,
        name: r,
        newValue: o
      } : null;
      i && kn(this, c);
    }
    (s = this.pendingKeys_) == null || (s = s.get(r)) == null || s.set(!0), this.keysAtom_.reportChanged();
  }, t.ownKeys_ = function() {
    return this.keysAtom_.reportObserved(), es(this.target_);
  }, t.keys_ = function() {
    return this.keysAtom_.reportObserved(), Object.keys(this.target_);
  }, e;
}();
function Po(e, t) {
  var n;
  if (yr(e, xe))
    return e;
  var r = (n = t == null ? void 0 : t.name) != null ? n : "ObservableObject", o = new Fm(e, /* @__PURE__ */ new Map(), String(r), Ly(t));
  return Oi(e, xe, o), e;
}
var Ex = /* @__PURE__ */ So("ObservableObjectAdministration", Fm);
function mf(e) {
  return hf[e] || (hf[e] = {
    get: function() {
      return this[xe].getObservablePropValue_(e);
    },
    set: function(n) {
      return this[xe].setObservablePropValue_(e, n);
    }
  });
}
function hi(e) {
  return jl(e) ? Ex(e[xe]) : !1;
}
function vf(e, t, n) {
  var r;
  (r = e.target_[Xn]) == null || delete r[n];
}
var _x = /* @__PURE__ */ Wm(0), Ox = /* @__PURE__ */ function() {
  var e = !1, t = {};
  return Object.defineProperty(t, "0", {
    set: function() {
      e = !0;
    }
  }), Object.create(t)[0] = 1, e === !1;
}(), xc = 0, Um = function() {
};
function Tx(e, t) {
  Object.setPrototypeOf ? Object.setPrototypeOf(e.prototype, t) : e.prototype.__proto__ !== void 0 ? e.prototype.__proto__ = t : e.prototype = t;
}
Tx(Um, Array.prototype);
var Md = /* @__PURE__ */ function(e) {
  function t(r, o, s, i) {
    var a;
    return s === void 0 && (s = "ObservableArray"), i === void 0 && (i = !1), a = e.call(this) || this, qr(function() {
      var c = new kd(s, o, i, !0);
      c.proxy_ = a, am(a, xe, c), r && r.length && a.spliceWithArray(0, 0, r), Ox && Object.defineProperty(a, "0", _x);
    }), a;
  }
  um(t, e);
  var n = t.prototype;
  return n.concat = function() {
    this[xe].atom_.reportObserved();
    for (var o = arguments.length, s = new Array(o), i = 0; i < o; i++)
      s[i] = arguments[i];
    return Array.prototype.concat.apply(
      this.slice(),
      //@ts-ignore
      s.map(function(a) {
        return Al(a) ? a.slice() : a;
      })
    );
  }, n[Symbol.iterator] = function() {
    var r = this, o = 0;
    return Nd({
      next: function() {
        return o < r.length ? {
          value: r[o++],
          done: !1
        } : {
          done: !0,
          value: void 0
        };
      }
    });
  }, hs(t, [{
    key: "length",
    get: function() {
      return this[xe].getArrayLength_();
    },
    set: function(o) {
      this[xe].setArrayLength_(o);
    }
  }, {
    key: Symbol.toStringTag,
    get: function() {
      return "Array";
    }
  }]);
}(Um);
Object.entries(Ya).forEach(function(e) {
  var t = e[0], n = e[1];
  t !== "concat" && Oi(Md.prototype, t, n);
});
function Wm(e) {
  return {
    enumerable: !1,
    configurable: !0,
    get: function() {
      return this[xe].get_(e);
    },
    set: function(n) {
      this[xe].set_(e, n);
    }
  };
}
function Ax(e) {
  Jn(Md.prototype, "" + e, Wm(e));
}
function Gm(e) {
  if (e > xc) {
    for (var t = xc; t < e + 100; t++)
      Ax(t);
    xc = e;
  }
}
Gm(1e3);
function Lx(e, t, n) {
  return new Md(e, t, n);
}
function ns(e, t) {
  if (typeof e == "object" && e !== null) {
    if (Al(e))
      return t !== void 0 && Be(23), e[xe].atom_;
    if (qn(e))
      return e.atom_;
    if (Co(e)) {
      if (t === void 0)
        return e.keysAtom_;
      var n = e.data_.get(t) || e.hasMap_.get(t);
      return n || Be(25, t, Nu(e)), n;
    }
    if (hi(e)) {
      if (!t)
        return Be(26);
      var r = e[xe].values_.get(t);
      return r || Be(27, t, Nu(e)), r;
    }
    if (Td(e) || Tl(e) || qa(e))
      return e;
  } else if ($n(e) && qa(e[xe]))
    return e[xe];
  Be(28);
}
function Km(e, t) {
  if (e || Be(29), t !== void 0)
    return Km(ns(e, t));
  if (Td(e) || Tl(e) || qa(e) || Co(e) || qn(e))
    return e;
  if (e[xe])
    return e[xe];
  Be(24, e);
}
function Nu(e, t) {
  var n;
  if (t !== void 0)
    n = ns(e, t);
  else {
    if (pi(e))
      return e.name;
    hi(e) || Co(e) || qn(e) ? n = Km(e) : n = ns(e);
  }
  return n.name_;
}
function qr(e) {
  var t = jo(), n = _l(!0);
  gn();
  try {
    return e();
  } finally {
    mn(), Ol(n), xr(t);
  }
}
var bf = Sl.toString;
function $d(e, t, n) {
  return n === void 0 && (n = -1), Ru(e, t, n);
}
function Ru(e, t, n, r, o) {
  if (e === t)
    return e !== 0 || 1 / e === 1 / t;
  if (e == null || t == null)
    return !1;
  if (e !== e)
    return t !== t;
  var s = typeof e;
  if (s !== "function" && s !== "object" && typeof t != "object")
    return !1;
  var i = bf.call(e);
  if (i !== bf.call(t))
    return !1;
  switch (i) {
    case "[object RegExp]":
    case "[object String]":
      return "" + e == "" + t;
    case "[object Number]":
      return +e != +e ? +t != +t : +e == 0 ? 1 / +e === 1 / t : +e == +t;
    case "[object Date]":
    case "[object Boolean]":
      return +e == +t;
    case "[object Symbol]":
      return typeof Symbol < "u" && Symbol.valueOf.call(e) === Symbol.valueOf.call(t);
    case "[object Map]":
    case "[object Set]":
      n >= 0 && n++;
      break;
  }
  e = yf(e), t = yf(t);
  var a = i === "[object Array]";
  if (!a) {
    if (typeof e != "object" || typeof t != "object")
      return !1;
    var c = e.constructor, u = t.constructor;
    if (c !== u && !($n(c) && c instanceof c && $n(u) && u instanceof u) && "constructor" in e && "constructor" in t)
      return !1;
  }
  if (n === 0)
    return !1;
  n < 0 && (n = -1), r = r || [], o = o || [];
  for (var d = r.length; d--; )
    if (r[d] === e)
      return o[d] === t;
  if (r.push(e), o.push(t), a) {
    if (d = e.length, d !== t.length)
      return !1;
    for (; d--; )
      if (!Ru(e[d], t[d], n - 1, r, o))
        return !1;
  } else {
    var p = Object.keys(e), f;
    if (d = p.length, Object.keys(t).length !== d)
      return !1;
    for (; d--; )
      if (f = p[d], !(yr(t, f) && Ru(e[f], t[f], n - 1, r, o)))
        return !1;
  }
  return r.pop(), o.pop(), !0;
}
function yf(e) {
  return Al(e) ? e.slice() : fs(e) || Co(e) || fr(e) || qn(e) ? Array.from(e.entries()) : e;
}
var xf, kx = ((xf = wl().Iterator) == null ? void 0 : xf.prototype) || {};
function Nd(e) {
  return e[Symbol.iterator] = Mx, Object.assign(Object.create(kx), e);
}
function Mx() {
  return this;
}
["Symbol", "Map", "Set"].forEach(function(e) {
  var t = wl();
  typeof t[e] > "u" && Be("MobX requires global '" + e + "' to be available or polyfilled");
});
typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ == "object" && __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({
  spy: Xy,
  extras: {
    getDebugName: Nu
  },
  $mobx: xe
});
const qm = "app.grapesjs.com", Ym = "app-stage.grapesjs.com", Xm = "gs-studio-root", wf = [
  qm,
  Ym,
  "localhost",
  "127.0.0.1",
  ".local-credentialless.webcontainer.io",
  // For stackblitz.com demos
  ".local.webcontainer.io",
  // For stackblitz.com demos
  "-sandpack.codesandbox.io"
  // For Sandpack demos
], $x = "license:check:start", Sf = "license:check:end", ir = () => typeof window < "u", gi = (e) => e && e.stopPropagation(), Nx = (e, t) => {
  const n = (r) => r.key === e && t();
  return document.addEventListener("keydown", n), () => document.removeEventListener("keydown", n);
}, Rx = (e = "") => {
  const t = document.createElement("textarea");
  t.value = e, t.setAttribute("readonly", ""), t.style.position = "absolute", t.style.left = "-9999px", document.body.appendChild(t), t.select(), document.execCommand("copy"), document.body.removeChild(t);
}, Dx = (e) => Nx("Escape", e), Ix = (e, t = {}) => {
  const n = Lt(e) ? { id: e, src: e } : e;
  return new Promise((r, o) => {
    var c, u;
    const s = document.querySelector(`script[src="${n.src}"]`), { id: i } = n;
    if (s)
      return (c = t.onScript) == null || c.call(t, s), r(i);
    const a = document.createElement("script");
    a.src = n.src, a.onload = () => r(i), a.onerror = () => o(i), document.head.appendChild(a), (u = t.onScript) == null || u.call(t, a);
  });
}, Vx = (e) => {
  const t = e.map((n) => Ix(n));
  return Promise.allSettled(t);
};
function Hx(e) {
  const t = e.ownerDocument.createElement("script");
  return t.text = e.innerHTML, Array.from(e.attributes).forEach((n) => t.setAttribute(n.nodeName, n.nodeValue)), t;
}
function jf(e) {
  const t = (r) => {
    var o;
    if (r.length) {
      const s = r.shift(), i = Hx(s);
      i.onerror = i.onload = t.bind(null, r), (o = s.parentNode) == null || o.replaceChild(i, s);
    }
  }, n = Array.from(e.querySelectorAll("script"));
  t(n);
}
const Zm = (e) => new DOMParser().parseFromString(e, "text/html"), Bx = (e = "") => Zm(`<body>${e}</body>`).body.innerHTML, zx = (e = "") => Zm(`<head>${e}</head>`).head.innerHTML, Fx = (e = "", t) => {
  const r = new DOMParser().parseFromString(e, "text/html");
  if (t) {
    const s = r.querySelectorAll("svg")[0].style || {}, i = Yx(t) ? `${t}px` : t;
    s.width = i, s.height = i, s.fill = "currentColor";
  }
  return new XMLSerializer().serializeToString(r);
}, Ux = ({ isDev: e, isStage: t }) => `${e ? "" : `https://${t ? Ym : qm}`}/api`, Jm = (e = {}) => {
  const { width: t = 300, height: n, text: r = "IMAGE", bg: o = "777", fg: s = "white" } = e, i = n ? `x${n}` : "";
  return `https://placehold.co/${t}${i}/${o}/${s}.png?text=${r}`;
}, Wx = Jm(), Rd = () => {
  const e = ir() && window.location.hostname;
  return !!e && (wf.includes(e) || wf.some((t) => e.endsWith(t)));
}, mr = (e) => e && e.charAt(0).toUpperCase() + e.substring(1), Gx = (e) => e.replace(/[A-Z]+(?![a-z])|[A-Z]/g, (t, n) => (n ? "-" : "") + t.toLowerCase()), Kx = () => {
}, qx = 240, wr = (e) => typeof e < "u", Lt = (e) => typeof e == "string", Yx = (e) => typeof e == "number";
function pt(e) {
  return typeof e == "function";
}
function rs(e) {
  return e && !Array.isArray(e) && typeof e == "object";
}
const Xx = (e) => !e || Object.keys(e).length === 0, Du = (e, t) => {
  const n = { ...e }, r = { ...t };
  for (const o in r) {
    const s = n[o], i = r[o];
    rs(s) && rs(i) ? n[o] = Du(s, i) : n[o] = i;
  }
  return n;
}, qo = (e, t) => {
  const n = (e || "").toLocaleLowerCase(), r = (t || "").toLocaleLowerCase();
  return n.includes(r);
}, Zx = (e = "") => {
  const t = e[0] === "?" ? e.substring(1) : e, n = new URLSearchParams(t);
  return Object.fromEntries(n);
}, Jx = (e = 16) => {
  let t = "";
  const n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", r = n.length;
  for (let o = 0; o < e; o++)
    t += n.charAt(Math.floor(Math.random() * r));
  return t;
}, Dd = (e) => (e || "").toLowerCase().trim().replace(/\s+/g, "-").replace(/[^a-zA-Z0-9-._]+/g, "").replace(/--+/g, "-").trim();
var oa, Qx = new Uint8Array(16);
function ew() {
  if (!oa && (oa = typeof crypto < "u" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto < "u" && typeof msCrypto.getRandomValues == "function" && msCrypto.getRandomValues.bind(msCrypto), !oa))
    throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
  return oa(Qx);
}
const tw = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;
function nw(e) {
  return typeof e == "string" && tw.test(e);
}
var Ot = [];
for (var wc = 0; wc < 256; ++wc)
  Ot.push((wc + 256).toString(16).substr(1));
function rw(e) {
  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, n = (Ot[e[t + 0]] + Ot[e[t + 1]] + Ot[e[t + 2]] + Ot[e[t + 3]] + "-" + Ot[e[t + 4]] + Ot[e[t + 5]] + "-" + Ot[e[t + 6]] + Ot[e[t + 7]] + "-" + Ot[e[t + 8]] + Ot[e[t + 9]] + "-" + Ot[e[t + 10]] + Ot[e[t + 11]] + Ot[e[t + 12]] + Ot[e[t + 13]] + Ot[e[t + 14]] + Ot[e[t + 15]]).toLowerCase();
  if (!nw(n))
    throw TypeError("Stringified UUID is invalid");
  return n;
}
function Qm(e, t, n) {
  e = e || {};
  var r = e.random || (e.rng || ew)();
  if (r[6] = r[6] & 15 | 64, r[8] = r[8] & 63 | 128, t) {
    n = n || 0;
    for (var o = 0; o < 16; ++o)
      t[n + o] = r[o];
    return t;
  }
  return rw(r);
}
const Id = () => {
  const { baseApiUrl: e } = Xo();
  return `${e}/assets/sdk`;
}, ow = (e) => `${Id()}/${e}`, sw = async (e, t, n) => {
  const r = await sr.get(Id(), {
    params: { projectId: t, identityId: n, d: window.location.hostname, licenseKey: e }
  });
  return ((r == null ? void 0 : r.result) ?? []).map(({ asset: o, cdnUrl: s }) => ({
    ...o,
    size: parseInt(o.size),
    src: s
  }));
}, iw = async (e, t, n, r) => {
  const o = await sr.post(Id(), {
    body: JSON.stringify({ fileMetadata: e, projectId: n, identityId: r }),
    params: { d: window.location.hostname, licenseKey: t }
  });
  return o == null ? void 0 : o.result;
}, aw = async (e, t) => await sr.put(t, {
  body: e,
  rawText: !0
}), lw = async (e, t, n, r) => Promise.all(
  e.map(
    (o) => iw(
      // don't send the whole file, just the metadata
      { name: o.name, size: o.size, type: o.type },
      t,
      n,
      r
    ).then(async (s) => {
      if (!s)
        throw new Error("No asset");
      const { asset: i, cdnUrl: a, uploadUrl: c } = s, u = await aw(o, c);
      if (u instanceof Error)
        throw console.error(u), new Error("Upload failed");
      return {
        ...i,
        size: parseInt(i.size),
        src: a
      };
    })
  )
), cw = async (e, t, n, r) => {
  const o = await sr.delete(ow(e), {
    body: JSON.stringify({ projectId: n, identityId: r }),
    params: { d: window.location.hostname, licenseKey: t }
  });
  return o == null ? void 0 : o.result;
}, Cf = async (e, t, n, r) => Promise.all(e.map((o) => cw(o.id || o.src, t, n, r)));
var ye = /* @__PURE__ */ ((e) => (e.toastAdd = "studio:toastAdd", e.dialogOpen = "studio:dialogOpen", e.dialogClose = "studio:dialogClose", e.sidebarLeftSet = "studio:sidebarLeft:set", e.sidebarLeftGet = "studio:sidebarLeft:get", e.sidebarLeftToggle = "studio:sidebarLeft:toggle", e.sidebarRightSet = "studio:sidebarRight:set", e.sidebarRightGet = "studio:sidebarRight:get", e.sidebarRightToggle = "studio:sidebarRight:toggle", e.sidebarTopSet = "studio:sidebarTop:set", e.sidebarTopGet = "studio:sidebarTop:get", e.sidebarTopToggle = "studio:sidebarTop:toggle", e.sidebarBottomSet = "studio:sidebarBottom:set", e.sidebarBottomGet = "studio:sidebarBottom:get", e.sidebarBottomToggle = "studio:sidebarBottom:toggle", e.symbolAdd = "studio:symbolAdd", e.symbolDetach = "studio:symbolDetach", e.symbolOverride = "studio:symbolOverride", e.symbolPropagateStyles = "studio:propagateStyles", e.getPagesConfig = "studio:getPagesConfig", e.setPagesConfig = "studio:setPagesConfig", e.getPageSettings = "studio:getPageSettings", e.setPageSettings = "studio:setPageSettings", e.projectFiles = "studio:projectFiles", e.canvasReload = "studio:canvasReload", e.getBlocksPanel = "studio:getBlocksPanel", e.setBlocksPanel = "studio:setBlocksPanel", e.getStateContextMenu = "studio:getStateContextMenu", e.setStateContextMenu = "studio:setStateContextMenu", e.contextMenuComponent = "studio:contextMenuComponent", e.layoutAdd = "studio:layoutAdd", e.layoutRemove = "studio:layoutRemove", e.layoutToggle = "studio:layoutToggle", e.getStateTheme = "studio:getStateTheme", e.setStateTheme = "studio:setStateTheme", e))(ye || {}), zr = /* @__PURE__ */ ((e) => (e.layoutToggleId = "studio:layoutToggle:", e.toggleBlocksPanel = "studio:toggleBlocksPanel", e.pageSettingsUpdate = "studio:pageSettingsUpdate", e))(zr || {});
const e1 = /* @__PURE__ */ new Set(), tn = /* @__PURE__ */ new WeakMap(), Yo = /* @__PURE__ */ new WeakMap(), bo = /* @__PURE__ */ new WeakMap(), Iu = /* @__PURE__ */ new WeakMap(), uw = /* @__PURE__ */ new WeakMap(), os = /* @__PURE__ */ new WeakMap(), Za = /* @__PURE__ */ new WeakMap();
let Fr;
const io = "__aa_tgt", Vu = "__aa_del", dw = (e) => {
  const t = mw(e);
  t && t.forEach((n) => vw(n));
}, pw = (e) => {
  e.forEach((t) => {
    t.target === Fr && hw(), tn.has(t.target) && Eo(t.target);
  });
};
function fw(e) {
  const t = Iu.get(e);
  t == null || t.disconnect();
  let n = tn.get(e), r = 0;
  const o = 5;
  n || (n = ss(e), tn.set(e, n));
  const { offsetWidth: s, offsetHeight: i } = Fr, c = [
    n.top - o,
    s - (n.left + o + n.width),
    i - (n.top + o + n.height),
    n.left - o
  ].map((d) => `${-1 * Math.floor(d)}px`).join(" "), u = new IntersectionObserver(() => {
    ++r > 1 && Eo(e);
  }, {
    root: Fr,
    threshold: 1,
    rootMargin: c
  });
  u.observe(e), Iu.set(e, u);
}
function Eo(e) {
  clearTimeout(Za.get(e));
  const t = Ll(e), n = typeof t == "function" ? 500 : t.duration;
  Za.set(e, setTimeout(() => {
    const r = bo.get(e);
    (!r || r.finished) && (tn.set(e, ss(e)), fw(e));
  }, n));
}
function hw() {
  clearTimeout(Za.get(Fr)), Za.set(Fr, setTimeout(() => {
    e1.forEach((e) => r1(e, (t) => t1(() => Eo(t))));
  }, 100));
}
function gw(e) {
  setTimeout(() => {
    uw.set(e, setInterval(() => t1(Eo.bind(null, e)), 2e3));
  }, Math.round(2e3 * Math.random()));
}
function t1(e) {
  typeof requestIdleCallback == "function" ? requestIdleCallback(() => e()) : requestAnimationFrame(() => e());
}
let Hu, Uo;
typeof window < "u" && (Fr = document.documentElement, Hu = new MutationObserver(dw), Uo = new ResizeObserver(pw), Uo.observe(Fr));
function mw(e) {
  return e.reduce((t, n) => {
    if (t === !1)
      return !1;
    if (n.target instanceof Element) {
      if (Sc(n.target), !t.has(n.target)) {
        t.add(n.target);
        for (let r = 0; r < n.target.children.length; r++) {
          const o = n.target.children.item(r);
          if (o) {
            if (Vu in o)
              return !1;
            Sc(n.target, o), t.add(o);
          }
        }
      }
      if (n.removedNodes.length)
        for (let r = 0; r < n.removedNodes.length; r++) {
          const o = n.removedNodes[r];
          if (Vu in o)
            return !1;
          o instanceof Element && (t.add(o), Sc(n.target, o), Yo.set(o, [
            n.previousSibling,
            n.nextSibling
          ]));
        }
    }
    return t;
  }, /* @__PURE__ */ new Set());
}
function Sc(e, t) {
  !t && !(io in e) ? Object.defineProperty(e, io, { value: e }) : t && !(io in t) && Object.defineProperty(t, io, { value: e });
}
function vw(e) {
  var t;
  const n = Fr.contains(e), r = tn.has(e);
  n && Yo.has(e) && Yo.delete(e), bo.has(e) && ((t = bo.get(e)) === null || t === void 0 || t.cancel()), r && n ? bw(e) : r && !n ? xw(e) : yw(e);
}
function Fn(e) {
  return Number(e.replace(/[^0-9.\-]/g, ""));
}
function ss(e) {
  const t = e.getBoundingClientRect();
  return {
    top: t.top + window.scrollY,
    left: t.left + window.scrollX,
    width: t.width,
    height: t.height
  };
}
function n1(e, t, n) {
  let r = t.width, o = t.height, s = n.width, i = n.height;
  const a = getComputedStyle(e);
  if (a.getPropertyValue("box-sizing") === "content-box") {
    const u = Fn(a.paddingTop) + Fn(a.paddingBottom) + Fn(a.borderTopWidth) + Fn(a.borderBottomWidth), d = Fn(a.paddingLeft) + Fn(a.paddingRight) + Fn(a.borderRightWidth) + Fn(a.borderLeftWidth);
    r -= d, s -= d, o -= u, i -= u;
  }
  return [r, s, o, i].map(Math.round);
}
function Ll(e) {
  return io in e && os.has(e[io]) ? os.get(e[io]) : { duration: 250, easing: "ease-in-out" };
}
function r1(e, ...t) {
  t.forEach((n) => n(e, os.has(e)));
  for (let n = 0; n < e.children.length; n++) {
    const r = e.children.item(n);
    r && t.forEach((o) => o(r, os.has(r)));
  }
}
function bw(e) {
  const t = tn.get(e), n = ss(e);
  let r;
  if (!t)
    return;
  const o = Ll(e);
  if (typeof o != "function") {
    const s = t.left - n.left, i = t.top - n.top, [a, c, u, d] = n1(e, t, n), p = {
      transform: `translate(${s}px, ${i}px)`
    }, f = {
      transform: "translate(0, 0)"
    };
    a !== c && (p.width = `${a}px`, f.width = `${c}px`), u !== d && (p.height = `${u}px`, f.height = `${d}px`), r = e.animate([p, f], o);
  } else
    r = new Animation(o(e, "remain", t, n)), r.play();
  bo.set(e, r), tn.set(e, n), r.addEventListener("finish", Eo.bind(null, e));
}
function yw(e) {
  const t = ss(e);
  tn.set(e, t);
  const n = Ll(e);
  let r;
  typeof n != "function" ? r = e.animate([
    { transform: "scale(.98)", opacity: 0 },
    { transform: "scale(0.98)", opacity: 0, offset: 0.5 },
    { transform: "scale(1)", opacity: 1 }
  ], {
    duration: n.duration * 1.5,
    easing: "ease-in"
  }) : (r = new Animation(n(e, "add", t)), r.play()), bo.set(e, r), r.addEventListener("finish", Eo.bind(null, e));
}
function xw(e) {
  if (!Yo.has(e) || !tn.has(e))
    return;
  const [t, n] = Yo.get(e);
  Object.defineProperty(e, Vu, { value: !0 }), n && n.parentNode && n.parentNode instanceof Element ? n.parentNode.insertBefore(e, n) : t && t.parentNode && t.parentNode.appendChild(e);
  const [r, o, s, i] = ww(e), a = Ll(e), c = tn.get(e);
  let u;
  Object.assign(e.style, {
    position: "absolute",
    top: `${r}px`,
    left: `${o}px`,
    width: `${s}px`,
    height: `${i}px`,
    margin: 0,
    pointerEvents: "none",
    transformOrigin: "center",
    zIndex: 100
  }), typeof a != "function" ? u = e.animate([
    {
      transform: "scale(1)",
      opacity: 1
    },
    {
      transform: "scale(.98)",
      opacity: 0
    }
  ], { duration: a.duration, easing: "ease-out" }) : (u = new Animation(a(e, "remove", c)), u.play()), bo.set(e, u), u.addEventListener("finish", () => {
    var d;
    e.remove(), tn.delete(e), Yo.delete(e), bo.delete(e), (d = Iu.get(e)) === null || d === void 0 || d.disconnect();
  });
}
function ww(e) {
  const t = tn.get(e), [n, , r] = n1(e, t, ss(e));
  let o = e.parentElement;
  for (; o && (getComputedStyle(o).position === "static" || o instanceof HTMLBodyElement); )
    o = o.parentElement;
  o || (o = document.body);
  const s = getComputedStyle(o), i = tn.get(o) || ss(o), a = Math.round(t.top - i.top) - Fn(s.borderTopWidth), c = Math.round(t.left - i.left) - Fn(s.borderLeftWidth);
  return [a, c, n, r];
}
function Sw(e, t = {}) {
  Hu && Uo && (getComputedStyle(e).position === "static" && Object.assign(e.style, { position: "relative" }), r1(e, Eo, gw, (n) => Uo == null ? void 0 : Uo.observe(n)), typeof t == "function" ? os.set(e, t) : os.set(e, { duration: 250, easing: "ease-in-out", ...t }), Hu.observe(e, { childList: !0 }), e1.add(e));
}
function jw(e) {
  const t = G(null);
  return W(() => {
    t.current instanceof HTMLElement && Sw(t.current, e);
  }, [t]), t;
}
if (!U)
  throw new Error("mobx-react-lite requires React with Hooks support");
if (!bx)
  throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");
function Cw(e) {
  e();
}
function Pw(e) {
  e || (e = Cw), ux({ reactionScheduler: e });
}
function Ew(e) {
  return dx(e);
}
var _w = 1e4, Ow = 1e4, Tw = (
  /** @class */
  function() {
    function e(t) {
      var n = this;
      Object.defineProperty(this, "finalize", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
      }), Object.defineProperty(this, "registrations", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: /* @__PURE__ */ new Map()
      }), Object.defineProperty(this, "sweepTimeout", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: void 0
      }), Object.defineProperty(this, "sweep", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: function(r) {
          r === void 0 && (r = _w), clearTimeout(n.sweepTimeout), n.sweepTimeout = void 0;
          var o = Date.now();
          n.registrations.forEach(function(s, i) {
            o - s.registeredAt >= r && (n.finalize(s.value), n.registrations.delete(i));
          }), n.registrations.size > 0 && n.scheduleSweep();
        }
      }), Object.defineProperty(this, "finalizeAllImmediately", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: function() {
          n.sweep(0);
        }
      });
    }
    return Object.defineProperty(e.prototype, "register", {
      enumerable: !1,
      configurable: !0,
      writable: !0,
      value: function(t, n, r) {
        this.registrations.set(r, {
          value: n,
          registeredAt: Date.now()
        }), this.scheduleSweep();
      }
    }), Object.defineProperty(e.prototype, "unregister", {
      enumerable: !1,
      configurable: !0,
      writable: !0,
      value: function(t) {
        this.registrations.delete(t);
      }
    }), Object.defineProperty(e.prototype, "scheduleSweep", {
      enumerable: !1,
      configurable: !0,
      writable: !0,
      value: function() {
        this.sweepTimeout === void 0 && (this.sweepTimeout = setTimeout(this.sweep, Ow));
      }
    }), e;
  }()
), Aw = typeof FinalizationRegistry < "u" ? FinalizationRegistry : Tw, Bu = new Aw(function(e) {
  var t;
  (t = e.reaction) === null || t === void 0 || t.dispose(), e.reaction = null;
}), o1 = { exports: {} }, jc = {};
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Pf;
function Lw() {
  if (Pf)
    return jc;
  Pf = 1;
  var e = I;
  function t(p, f) {
    return p === f && (p !== 0 || 1 / p === 1 / f) || p !== p && f !== f;
  }
  var n = typeof Object.is == "function" ? Object.is : t, r = e.useState, o = e.useEffect, s = e.useLayoutEffect, i = e.useDebugValue;
  function a(p, f) {
    var h = f(), v = r({ inst: { value: h, getSnapshot: f } }), g = v[0].inst, b = v[1];
    return s(function() {
      g.value = h, g.getSnapshot = f, c(g) && b({ inst: g });
    }, [p, h, f]), o(function() {
      return c(g) && b({ inst: g }), p(function() {
        c(g) && b({ inst: g });
      });
    }, [p]), i(h), h;
  }
  function c(p) {
    var f = p.getSnapshot;
    p = p.value;
    try {
      var h = f();
      return !n(p, h);
    } catch {
      return !0;
    }
  }
  function u(p, f) {
    return f();
  }
  var d = typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u" ? u : a;
  return jc.useSyncExternalStore = e.useSyncExternalStore !== void 0 ? e.useSyncExternalStore : d, jc;
}
o1.exports = Lw();
var kw = o1.exports;
function Ef(e) {
  e.reaction = new rr("observer".concat(e.name), function() {
    var t;
    e.stateVersion = Symbol(), (t = e.onStoreChange) === null || t === void 0 || t.call(e);
  });
}
function Mw(e, t) {
  t === void 0 && (t = "observed");
  var n = I.useRef(null);
  if (!n.current) {
    var r = {
      reaction: null,
      onStoreChange: null,
      stateVersion: Symbol(),
      name: t,
      subscribe: function(a) {
        return Bu.unregister(r), r.onStoreChange = a, r.reaction || (Ef(r), r.stateVersion = Symbol()), function() {
          var c;
          r.onStoreChange = null, (c = r.reaction) === null || c === void 0 || c.dispose(), r.reaction = null;
        };
      },
      getSnapshot: function() {
        return r.stateVersion;
      }
    };
    n.current = r;
  }
  var o = n.current;
  o.reaction || (Ef(o), Bu.register(n, o, o)), I.useDebugValue(o.reaction, Ew), kw.useSyncExternalStore(
    // Both of these must be stable, otherwise it would keep resubscribing every render.
    o.subscribe,
    o.getSnapshot,
    o.getSnapshot
  );
  var s, i;
  if (o.reaction.track(function() {
    try {
      s = e();
    } catch (a) {
      i = a;
    }
  }), i)
    throw i;
  return s;
}
var Cc, Pc, s1 = typeof Symbol == "function" && Symbol.for, $w = (Pc = (Cc = Object.getOwnPropertyDescriptor(function() {
}, "name")) === null || Cc === void 0 ? void 0 : Cc.configurable) !== null && Pc !== void 0 ? Pc : !1, _f = s1 ? Symbol.for("react.forward_ref") : typeof Mt == "function" && Mt(function(e) {
  return null;
}).$$typeof, Of = s1 ? Symbol.for("react.memo") : typeof me == "function" && me(function(e) {
  return null;
}).$$typeof;
function ce(e, t) {
  var n;
  if (Of && e.$$typeof === Of)
    throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");
  var r = (n = t == null ? void 0 : t.forwardRef) !== null && n !== void 0 ? n : !1, o = e, s = e.displayName || e.name;
  if (_f && e.$$typeof === _f && (r = !0, o = e.render, typeof o != "function"))
    throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");
  var i = function(a, c) {
    return Mw(function() {
      return o(a, c);
    }, s);
  };
  return i.displayName = e.displayName, $w && Object.defineProperty(i, "name", {
    value: e.name,
    writable: !0,
    configurable: !0
  }), e.contextTypes && (i.contextTypes = e.contextTypes), r && (i = Mt(i)), i = me(i), Rw(e, i), i;
}
var Nw = {
  $$typeof: !0,
  render: !0,
  compare: !0,
  type: !0,
  // Don't redefine `displayName`,
  // it's defined as getter-setter pair on `memo` (see #3192).
  displayName: !0
};
function Rw(e, t) {
  Object.keys(e).forEach(function(n) {
    Nw[n] || Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(e, n));
  });
}
var Ec;
Pw(Us);
Ec = Bu.finalizeAllImmediately;
const B = L;
function L(...e) {
  return (Array.isArray(e[0]) ? e[0] : [...e]).filter(Boolean).flatMap((o) => typeof o == "string" ? o.split(" ").map((s) => {
    if (s = s.replace(/gjs-/g, "gs-utl-"), !s.includes("gs-utl-") && !s.startsWith("gs-")) {
      const i = s.split(":"), a = i.pop(), c = i.join(":"), u = a == null ? void 0 : a.startsWith("!"), p = `gs-utl-${u ? a == null ? void 0 : a.slice(1) : a}`, f = u ? `!${p}` : p;
      return c ? `${c}:${f}` : f;
    }
    return s;
  }) : o).join(" ");
}
var Dw = "M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M11 7H13V13H11V7M11 15H13V17H11V15Z", Iw = "M11 2H13V7H21V10H13V14H18V17H13V22H11V17H6V14H11V10H3V7H11V2Z", Vw = "M4 22H2V2H4V22M22 7H6V10H22V7M16 14H6V17H16V14Z", Hw = "M20 2H22V22H20V2M2 10H18V7H2V10M8 17H18V14H8V17Z", Bw = "M9.5,8.5L11,10L8,13L11,16L9.5,17.5L5,13L9.5,8.5M14.5,17.5L13,16L16,13L13,10L14.5,8.5L19,13L14.5,17.5M21,2H3A2,2 0 0,0 1,4V20A2,2 0 0,0 3,22H21A2,2 0 0,0 23,20V4A2,2 0 0,0 21,2M21,20H3V6H21V20Z", zw = "M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z", Fw = "M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z", Uw = "M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z", Ww = "M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z", Gw = "M3,21V3H21V21H3M5,5V19H19V5H5Z", Kw = "M3 16C3 18.8 5.2 21 8 21H10V19H8C6.3 19 5 17.7 5 16V14H3V16M21 8C21 5.2 18.8 3 16 3H14V5H16C17.7 5 19 6.3 19 8V10H21V8M16 21C18.8 21 21 18.8 21 16V14H19V16C19 17.7 17.7 19 16 19H14V21H16M8 3C5.2 3 3 5.2 3 8V10H5V8C5 6.3 6.3 5 8 5H10V3H8Z", qw = "M15,21H17V19H15M19,21H21V19H19M7,21H9V19H7M11,21H13V19H11M19,17H21V15H19M19,13H21V11H19M3,3V21H5V5H21V3M19,9H21V7H19", Yw = "M22,17H18V10H22M23,8H17A1,1 0 0,0 16,9V19A1,1 0 0,0 17,20H23A1,1 0 0,0 24,19V9A1,1 0 0,0 23,8M4,6H22V4H4A2,2 0 0,0 2,6V17H0V20H14V17H4V6Z", Xw = "M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z", Zw = "M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z", Jw = "M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z", Qw = "M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z", eS = "M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z", tS = "M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z", nS = "M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z", rS = "M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z", oS = "M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z", sS = "M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z", iS = "M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z", aS = "M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z", lS = "M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z", cS = "M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z", uS = "M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z", dS = "M22 6C22 4.9 21.1 4 20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6M20 6L12 11L4 6H20M20 18H4V8L12 13L20 8V18Z", pS = "M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z", fS = "M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z", hS = "M2,5.27L3.28,4L20,20.72L18.73,22L15.65,18.92C14.5,19.3 13.28,19.5 12,19.5C7,19.5 2.73,16.39 1,12C1.69,10.24 2.79,8.69 4.19,7.46L2,5.27M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C22.18,14.08 20.79,15.88 19,17.19L17.58,15.76C18.94,14.82 20.06,13.54 20.82,12C19.17,8.64 15.76,6.5 12,6.5C10.91,6.5 9.84,6.68 8.84,7L7.3,5.47C8.74,4.85 10.33,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C12.69,17.5 13.37,17.43 14,17.29L11.72,15C10.29,14.85 9.15,13.71 9,12.28L5.6,8.87C4.61,9.72 3.78,10.78 3.18,12Z", gS = "M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M12,4.5C17,4.5 21.27,7.61 23,12C21.27,16.39 17,19.5 12,19.5C7,19.5 2.73,16.39 1,12C2.73,7.61 7,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C15.76,17.5 19.17,15.36 20.82,12C19.17,8.64 15.76,6.5 12,6.5C8.24,6.5 4.83,8.64 3.18,12Z", mS = "M6.92,19L5,17.08L13.06,9L15,10.94M20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L13.84,6.41L11.91,4.5L10.5,5.91L11.92,7.33L3,16.25V21H7.75L16.67,12.08L18.09,13.5L19.5,12.09L17.58,10.17L20.7,7.05C21.1,6.65 21.1,6 20.71,5.63Z", vS = "M17.66 11.2C17.43 10.9 17.15 10.64 16.89 10.38C16.22 9.78 15.46 9.35 14.82 8.72C13.33 7.26 13 4.85 13.95 3C13 3.23 12.17 3.75 11.46 4.32C8.87 6.4 7.85 10.07 9.07 13.22C9.11 13.32 9.15 13.42 9.15 13.55C9.15 13.77 9 13.97 8.8 14.05C8.57 14.15 8.33 14.09 8.14 13.93C8.08 13.88 8.04 13.83 8 13.76C6.87 12.33 6.69 10.28 7.45 8.64C5.78 10 4.87 12.3 5 14.47C5.06 14.97 5.12 15.47 5.29 15.97C5.43 16.57 5.7 17.17 6 17.7C7.08 19.43 8.95 20.67 10.96 20.92C13.1 21.19 15.39 20.8 17.03 19.32C18.86 17.66 19.5 15 18.56 12.72L18.43 12.46C18.22 12 17.66 11.2 17.66 11.2M14.5 17.5C14.22 17.74 13.76 18 13.4 18.1C12.28 18.5 11.16 17.94 10.5 17.28C11.69 17 12.4 16.12 12.61 15.23C12.78 14.43 12.46 13.77 12.33 13C12.21 12.26 12.23 11.63 12.5 10.94C12.69 11.32 12.89 11.7 13.13 12C13.9 13 15.11 13.44 15.37 14.8C15.41 14.94 15.43 15.08 15.43 15.23C15.46 16.05 15.1 16.95 14.5 17.5H14.5Z", bS = "M7,11H1V13H7V11M9.17,7.76L7.05,5.64L5.64,7.05L7.76,9.17L9.17,7.76M13,1H11V7H13V1M18.36,7.05L16.95,5.64L14.83,7.76L16.24,9.17L18.36,7.05M17,11V13H23V11H17M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M14.83,16.24L16.95,18.36L18.36,16.95L16.24,14.83L14.83,16.24M5.64,16.95L7.05,18.36L9.17,16.24L7.76,14.83L5.64,16.95M11,23H13V17H11V23Z", yS = "M5,3A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5.5L18.5,3H17V9A1,1 0 0,1 16,10H8A1,1 0 0,1 7,9V3H5M12,4V9H15V4H12M7,12H17A1,1 0 0,1 18,13V19H6V13A1,1 0 0,1 7,12Z", xS = "M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z", wS = "M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z", SS = "M11,9H13V11H11V9M9,11H11V13H9V11M13,11H15V13H13V11M15,9H17V11H15V9M7,9H9V11H7V9M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M9,18H7V16H9V18M13,18H11V16H13V18M17,18H15V16H17V18M19,11H17V13H19V15H17V13H15V15H13V13H11V15H9V13H7V15H5V13H7V11H5V5H19V11Z", jS = "M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z", CS = "M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z", PS = "M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z", ES = "M13.5,4A1.5,1.5 0 0,0 12,5.5A1.5,1.5 0 0,0 13.5,7A1.5,1.5 0 0,0 15,5.5A1.5,1.5 0 0,0 13.5,4M13.14,8.77C11.95,8.87 8.7,11.46 8.7,11.46C8.5,11.61 8.56,11.6 8.72,11.88C8.88,12.15 8.86,12.17 9.05,12.04C9.25,11.91 9.58,11.7 10.13,11.36C12.25,10 10.47,13.14 9.56,18.43C9.2,21.05 11.56,19.7 12.17,19.3C12.77,18.91 14.38,17.8 14.54,17.69C14.76,17.54 14.6,17.42 14.43,17.17C14.31,17 14.19,17.12 14.19,17.12C13.54,17.55 12.35,18.45 12.19,17.88C12,17.31 13.22,13.4 13.89,10.71C14,10.07 14.3,8.67 13.14,8.77Z", _S = "M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z", OS = "M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z", TS = "M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z", AS = "M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z", LS = "M18 1C15.24 1 13 3.24 13 6V8H4C2.9 8 2 8.89 2 10V20C2 21.11 2.9 22 4 22H16C17.11 22 18 21.11 18 20V10C18 8.9 17.11 8 16 8H15V6C15 4.34 16.34 3 18 3C19.66 3 21 4.34 21 6V8H23V6C23 3.24 20.76 1 18 1M10 13C11.1 13 12 13.89 12 15C12 16.11 11.11 17 10 17C8.9 17 8 16.11 8 15C8 13.9 8.9 13 10 13Z", kS = "M7,10L12,15L17,10H7Z", MS = "M20 5L20 19L4 19L4 5H20M20 3H4C2.89 3 2 3.89 2 5V19C2 20.11 2.89 21 4 21H20C21.11 21 22 20.11 22 19V5C22 3.89 21.11 3 20 3M18 15H6V17H18V15M10 7H6V13H10V7M12 9H18V7H12V9M18 11H12V13H18V11Z", $S = "M2.53,19.65L3.87,20.21V11.18L1.44,17.04C1.03,18.06 1.5,19.23 2.53,19.65M22.03,15.95L17.07,4C16.76,3.23 16.03,2.77 15.26,2.75C15,2.75 14.73,2.79 14.47,2.9L7.1,5.95C6.35,6.26 5.89,7 5.87,7.75C5.86,8 5.91,8.29 6,8.55L11,20.5C11.29,21.28 12.03,21.74 12.81,21.75C13.07,21.75 13.33,21.7 13.58,21.6L20.94,18.55C21.96,18.13 22.45,16.96 22.03,15.95M7.88,8.75A1,1 0 0,1 6.88,7.75A1,1 0 0,1 7.88,6.75C8.43,6.75 8.88,7.2 8.88,7.75C8.88,8.3 8.43,8.75 7.88,8.75M5.88,19.75A2,2 0 0,0 7.88,21.75H9.33L5.88,13.41V19.75Z", NS = "M12,2.5L8,7H16L12,2.5M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M8,17L12,21.5L16,17H8Z", RS = "M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z", DS = "M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z", IS = "M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z", VS = "M16,7V3H14V7H10V3H8V7H8C7,7 6,8 6,9V14.5L9.5,18V21H14.5V18L18,14.5V9C18,8 17,7 16,7Z", HS = "M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z", BS = "M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M12 4L20 12L12 20L4 12Z", zS = "M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 5.5,4A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M21.41,11.58L12.41,2.58C12.05,2.22 11.55,2 11,2H4C2.89,2 2,2.89 2,4V11C2,11.55 2.22,12.05 2.59,12.41L11.58,21.41C11.95,21.77 12.45,22 13,22C13.55,22 14.05,21.77 14.41,21.41L21.41,14.41C21.78,14.05 22,13.55 22,13C22,12.44 21.77,11.94 21.41,11.58Z", FS = "M11,2V4.07C7.38,4.53 4.53,7.38 4.07,11H2V13H4.07C4.53,16.62 7.38,19.47 11,19.93V22H13V19.93C16.62,19.47 19.47,16.62 19.93,13H22V11H19.93C19.47,7.38 16.62,4.53 13,4.07V2M11,6.08V8H13V6.09C15.5,6.5 17.5,8.5 17.92,11H16V13H17.91C17.5,15.5 15.5,17.5 13,17.92V16H11V17.91C8.5,17.5 6.5,15.5 6.08,13H8V11H6.09C6.5,8.5 8.5,6.5 11,6.08M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11Z", US = "M22.08,11.04H20.08V4H13.05V2H11.04V4H4V11.04H2V13.05H4V20.08H11.04V22.08H13.05V20.08H20.08V13.05H22.08V11.04M18.07,18.07H13.05V16.06H11.04V18.07H6V13.05H8.03V11.04H6V6H11.04V8.03H13.05V6H18.07V11.04H16.06V13.05H18.07V18.07M13.05,12.05A1,1 0 0,1 12.05,13.05C11.5,13.05 11.04,12.6 11.04,12.05C11.04,11.5 11.5,11.04 12.05,11.04C12.6,11.04 13.05,11.5 13.05,12.05Z", WS = "M16,15H9V13H16M19,11H9V9H19M19,7H9V5H19M21,1H7C5.89,1 5,1.89 5,3V17C5,18.11 5.9,19 7,19H21C22.11,19 23,18.11 23,17V3C23,1.89 22.1,1 21,1M3,5V21H19V23H3A2,2 0 0,1 1,21V5H3Z", GS = "M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z", KS = "M16.59,5.41L15.17,4L12,7.17L8.83,4L7.41,5.41L12,10M7.41,18.59L8.83,20L12,16.83L15.17,20L16.58,18.59L12,14L7.41,18.59Z", qS = "M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z", YS = "M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z", XS = "M13 3V11H21V3H13M3 21H11V13H3V21M3 3V11H11V3H3M13 16H16V13H18V16H21V18H18V21H16V18H13V16Z", ZS = "M16.36,14C16.44,13.34 16.5,12.68 16.5,12C16.5,11.32 16.44,10.66 16.36,10H19.74C19.9,10.64 20,11.31 20,12C20,12.69 19.9,13.36 19.74,14M14.59,19.56C15.19,18.45 15.65,17.25 15.97,16H18.92C17.96,17.65 16.43,18.93 14.59,19.56M14.34,14H9.66C9.56,13.34 9.5,12.68 9.5,12C9.5,11.32 9.56,10.65 9.66,10H14.34C14.43,10.65 14.5,11.32 14.5,12C14.5,12.68 14.43,13.34 14.34,14M12,19.96C11.17,18.76 10.5,17.43 10.09,16H13.91C13.5,17.43 12.83,18.76 12,19.96M8,8H5.08C6.03,6.34 7.57,5.06 9.4,4.44C8.8,5.55 8.35,6.75 8,8M5.08,16H8C8.35,17.25 8.8,18.45 9.4,19.56C7.57,18.93 6.03,17.65 5.08,16M4.26,14C4.1,13.36 4,12.69 4,12C4,11.31 4.1,10.64 4.26,10H7.64C7.56,10.66 7.5,11.32 7.5,12C7.5,12.68 7.56,13.34 7.64,14M12,4.03C12.83,5.23 13.5,6.57 13.91,8H10.09C10.5,6.57 11.17,5.23 12,4.03M18.92,8H15.97C15.65,6.75 15.19,5.55 14.59,4.44C16.43,5.07 17.96,6.34 18.92,8M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z", JS = "M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z";
const R = I.forwardRef(function({ as: t, children: n, className: r, col: o, revert: s, full: i, nowrap: a, space: c, justify: u, items: d, ...p }, f) {
  const h = t || "div";
  return (
    // eslint-disable-next-line @typescript-eslint/ban-ts-comment
    // @ts-ignore
    /* @__PURE__ */ l.jsx(
      h,
      {
        ref: f,
        className: L([
          "gs-utl-flex",
          r,
          o && !s && "gs-utl-flex-col",
          o && s && "gs-utl-flex-col-reverse",
          !o && s && "gs-utl-flex-row-reverse",
          i && !o && "gs-utl-w-full",
          i && o && "gs-utl-h-full",
          a ? "gs-utl-flex-nowrap" : "gs-utl-flex-wrap",
          c === "x2s" && (o ? "gs-utl-space-y-0.5" : "gs-utl-space-x-0.5"),
          c === "xs" && (o ? "gs-utl-space-y-1" : "gs-utl-space-x-1"),
          c === "s" && (o ? "gs-utl-space-y-2" : "gs-utl-space-x-2"),
          c === "m" && (o ? "gs-utl-space-y-4" : "gs-utl-space-x-4"),
          c === "l" && (o ? "gs-utl-space-y-6" : "gs-utl-space-x-6"),
          c === "xl" && (o ? "gs-utl-space-y-8" : "gs-utl-space-x-8"),
          // Items
          d === "start" && "gs-utl-items-start",
          d === "end" && "gs-utl-items-end",
          d === "center" && "gs-utl-items-center",
          // Justify
          u === "start" && "gs-utl-justify-start",
          u === "end" && "gs-utl-justify-end",
          u === "center" && "gs-utl-justify-center",
          u === "between" && "gs-utl-justify-between"
        ]),
        ...p,
        children: n
      }
    )
  );
}), $ = I.forwardRef(function({ children: t, className: n, grow: r, ...o }, s) {
  return /* @__PURE__ */ l.jsx("div", { ref: s, className: L([n, r && "flex-1"]), ...o, children: t });
});
var _c = { exports: {} }, Oc, Tf;
function QS() {
  if (Tf)
    return Oc;
  Tf = 1;
  var e = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
  return Oc = e, Oc;
}
var Tc, Af;
function ej() {
  if (Af)
    return Tc;
  Af = 1;
  var e = QS();
  function t() {
  }
  function n() {
  }
  return n.resetWarningCache = t, Tc = function() {
    function r(i, a, c, u, d, p) {
      if (p !== e) {
        var f = new Error(
          "Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"
        );
        throw f.name = "Invariant Violation", f;
      }
    }
    r.isRequired = r;
    function o() {
      return r;
    }
    var s = {
      array: r,
      bigint: r,
      bool: r,
      func: r,
      number: r,
      object: r,
      string: r,
      symbol: r,
      any: r,
      arrayOf: o,
      element: r,
      elementType: r,
      instanceOf: o,
      node: r,
      objectOf: o,
      oneOf: o,
      oneOfType: o,
      shape: o,
      exact: o,
      checkPropTypes: n,
      resetWarningCache: t
    };
    return s.PropTypes = s, s;
  }, Tc;
}
var Lf;
function tj() {
  return Lf || (Lf = 1, _c.exports = ej()()), _c.exports;
}
var nj = function(e) {
  var t = {};
  function n(r) {
    if (t[r])
      return t[r].exports;
    var o = t[r] = { i: r, l: !1, exports: {} };
    return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;
  }
  return n.m = e, n.c = t, n.d = function(r, o, s) {
    n.o(r, o) || Object.defineProperty(r, o, { enumerable: !0, get: s });
  }, n.r = function(r) {
    typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(r, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(r, "__esModule", { value: !0 });
  }, n.t = function(r, o) {
    if (1 & o && (r = n(r)), 8 & o || 4 & o && typeof r == "object" && r && r.__esModule)
      return r;
    var s = /* @__PURE__ */ Object.create(null);
    if (n.r(s), Object.defineProperty(s, "default", { enumerable: !0, value: r }), 2 & o && typeof r != "string")
      for (var i in r)
        n.d(s, i, (function(a) {
          return r[a];
        }).bind(null, i));
    return s;
  }, n.n = function(r) {
    var o = r && r.__esModule ? function() {
      return r.default;
    } : function() {
      return r;
    };
    return n.d(o, "a", o), o;
  }, n.o = function(r, o) {
    return Object.prototype.hasOwnProperty.call(r, o);
  }, n.p = "", n(n.s = 2);
}([function(e, t) {
  e.exports = tj();
}, function(e, t) {
  e.exports = I;
}, function(e, t, n) {
  n.r(t);
  var r = n(1), o = n(0), s = function() {
    return (s = Object.assign || function(v) {
      for (var g, b = 1, m = arguments.length; b < m; b++)
        for (var y in g = arguments[b])
          Object.prototype.hasOwnProperty.call(g, y) && (v[y] = g[y]);
      return v;
    }).apply(this, arguments);
  }, i = function(v, g) {
    var b = {};
    for (var m in v)
      Object.prototype.hasOwnProperty.call(v, m) && g.indexOf(m) < 0 && (b[m] = v[m]);
    if (v != null && typeof Object.getOwnPropertySymbols == "function") {
      var y = 0;
      for (m = Object.getOwnPropertySymbols(v); y < m.length; y++)
        g.indexOf(m[y]) < 0 && Object.prototype.propertyIsEnumerable.call(v, m[y]) && (b[m[y]] = v[m[y]]);
    }
    return b;
  }, a = 0, c = r.forwardRef(function(v, g) {
    var b = v.title, m = b === void 0 ? null : b, y = v.description, x = y === void 0 ? null : y, w = v.size, S = w === void 0 ? null : w, j = v.color, E = j === void 0 ? "currentColor" : j, C = v.horizontal, P = C === void 0 ? null : C, _ = v.vertical, O = _ === void 0 ? null : _, k = v.rotate, z = k === void 0 ? null : k, F = v.spin, A = F === void 0 ? null : F, T = v.style, D = T === void 0 ? {} : T, M = v.children, N = i(v, ["title", "description", "size", "color", "horizontal", "vertical", "rotate", "spin", "style", "children"]);
    a++;
    var V, K = A !== null && A, J = r.Children.map(M, function(fe) {
      var se = fe;
      K !== !0 && (K = (A === null ? se.props.spin : A) === !0);
      var q = se.props.size;
      typeof S == "number" && typeof se.props.size == "number" && (q = se.props.size / S);
      var ee = { size: q, color: E === null ? se.props.color : E, horizontal: P === null ? se.props.horizontal : P, vertical: O === null ? se.props.vertical : O, rotate: z === null ? se.props.rotate : z, spin: A === null ? se.props.spin : A, inStack: !0 };
      return r.cloneElement(se, ee);
    });
    S !== null && (D.width = typeof S == "string" ? S : 1.5 * S + "rem");
    var ie, X = "stack_labelledby_" + a, ne = "stack_describedby_" + a;
    if (m)
      V = x ? X + " " + ne : X;
    else if (ie = "presentation", x)
      throw new Error("title attribute required when description is set");
    return r.createElement("svg", s({ ref: g, viewBox: "0 0 24 24", style: D, role: ie, "aria-labelledby": V }, N), m && r.createElement("title", { id: X }, m), x && r.createElement("desc", { id: ne }, x), K && r.createElement("style", null, "@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }", "@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"), J);
  });
  c.displayName = "Stack", c.propTypes = { size: o.oneOfType([o.number, o.string]), color: o.string, horizontal: o.bool, vertical: o.bool, rotate: o.number, spin: o.oneOfType([o.bool, o.number]), children: o.oneOfType([o.arrayOf(o.node), o.node]).isRequired, className: o.string, style: o.object }, c.defaultProps = { size: null, color: null, horizontal: null, vertical: null, rotate: null, spin: null };
  var u = c;
  n.d(t, "Icon", function() {
    return h;
  }), n.d(t, "Stack", function() {
    return u;
  });
  var d = function() {
    return (d = Object.assign || function(v) {
      for (var g, b = 1, m = arguments.length; b < m; b++)
        for (var y in g = arguments[b])
          Object.prototype.hasOwnProperty.call(g, y) && (v[y] = g[y]);
      return v;
    }).apply(this, arguments);
  }, p = function(v, g) {
    var b = {};
    for (var m in v)
      Object.prototype.hasOwnProperty.call(v, m) && g.indexOf(m) < 0 && (b[m] = v[m]);
    if (v != null && typeof Object.getOwnPropertySymbols == "function") {
      var y = 0;
      for (m = Object.getOwnPropertySymbols(v); y < m.length; y++)
        g.indexOf(m[y]) < 0 && Object.prototype.propertyIsEnumerable.call(v, m[y]) && (b[m[y]] = v[m[y]]);
    }
    return b;
  }, f = 0, h = r.forwardRef(function(v, g) {
    var b = v.path, m = v.id, y = m === void 0 ? ++f : m, x = v.title, w = x === void 0 ? null : x, S = v.description, j = S === void 0 ? null : S, E = v.size, C = E === void 0 ? null : E, P = v.color, _ = P === void 0 ? "currentColor" : P, O = v.horizontal, k = O !== void 0 && O, z = v.vertical, F = z !== void 0 && z, A = v.rotate, T = A === void 0 ? 0 : A, D = v.spin, M = D !== void 0 && D, N = v.style, V = N === void 0 ? {} : N, K = v.inStack, J = K !== void 0 && K, ie = p(v, ["path", "id", "title", "description", "size", "color", "horizontal", "vertical", "rotate", "spin", "style", "inStack"]), X = {}, ne = [];
    C !== null && (J ? ne.push("scale(" + C + ")") : (V.width = typeof C == "string" ? C : 1.5 * C + "rem", V.height = V.width)), k && ne.push("scaleX(-1)"), F && ne.push("scaleY(-1)"), T !== 0 && ne.push("rotate(" + T + "deg)"), _ !== null && (X.fill = _);
    var fe = r.createElement("path", d({ d: b, style: X }, J ? ie : {})), se = fe;
    ne.length > 0 && (V.transform = ne.join(" "), V.transformOrigin = "center", J && (se = r.createElement("g", { style: V }, fe, r.createElement("rect", { width: "24", height: "24", fill: "transparent" }))));
    var q, ee = se, pe = M === !0 || typeof M != "number" ? 2 : M, ae = !J && (k || F);
    if (pe < 0 && (ae = !ae), M && (ee = r.createElement("g", { style: { animation: "spin" + (ae ? "-inverse" : "") + " linear " + Math.abs(pe) + "s infinite", transformOrigin: "center" } }, se, !(k || F || T !== 0) && r.createElement("rect", { width: "24", height: "24", fill: "transparent" }))), J)
      return ee;
    var we, Ce = "icon_labelledby_" + y, ot = "icon_describedby_" + y;
    if (w)
      q = j ? Ce + " " + ot : Ce;
    else if (we = "presentation", j)
      throw new Error("title attribute required when description is set");
    return r.createElement("svg", d({ ref: g, viewBox: "0 0 24 24", style: V, role: we, "aria-labelledby": q }, ie), w && r.createElement("title", { id: Ce }, w), j && r.createElement("desc", { id: ot }, j), !J && M && (ae ? r.createElement("style", null, "@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }") : r.createElement("style", null, "@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")), ee);
  });
  h.displayName = "Icon", h.propTypes = { path: o.string.isRequired, size: o.oneOfType([o.number, o.string]), color: o.string, horizontal: o.bool, vertical: o.bool, rotate: o.number, spin: o.oneOfType([o.bool, o.number]), style: o.object, inStack: o.bool, className: o.string }, h.defaultProps = { size: null, color: "currentColor", horizontal: !1, vertical: !1, rotate: 0, spin: !1 }, t.default = h;
}]);
const rj = /* @__PURE__ */ _d(nj);
var i1 = { exports: {} };
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
(function(e) {
  (function() {
    var t = {}.hasOwnProperty;
    function n() {
      for (var s = "", i = 0; i < arguments.length; i++) {
        var a = arguments[i];
        a && (s = o(s, r(a)));
      }
      return s;
    }
    function r(s) {
      if (typeof s == "string" || typeof s == "number")
        return s;
      if (typeof s != "object")
        return "";
      if (Array.isArray(s))
        return n.apply(null, s);
      if (s.toString !== Object.prototype.toString && !s.toString.toString().includes("[native code]"))
        return s.toString();
      var i = "";
      for (var a in s)
        t.call(s, a) && s[a] && (i = o(i, a));
      return i;
    }
    function o(s, i) {
      return i ? s ? s + " " + i : s + i : s;
    }
    e.exports ? (n.default = n, e.exports = n) : window.classNames = n;
  })();
})(i1);
var oj = i1.exports;
const Y = /* @__PURE__ */ _d(oj), kf = /* @__PURE__ */ new Map(), Vd = I.forwardRef(function({ svg: t, iconSize: n, ...r }, o) {
  let s = kf.get(t);
  return s || (s = Fx(t, n), kf.set(t, s)), /* @__PURE__ */ l.jsx("div", { ...r, ref: o, dangerouslySetInnerHTML: { __html: s } });
});
var Q = /* @__PURE__ */ ((e) => (e.alertRhombus = "alertRhombus", e.alignHorizontalCenter = "alignHorizontalCenter", e.alignHorizontalLeft = "alignHorizontalLeft", e.alignHorizontalRight = "alignHorizontalRight", e.applicationBracketsOutline = "applicationBracketsOutline", e.arrowDown = "arrowDown", e.arrowRight = "arrowRight", e.arrowULeftTop = "arrowULeftTop", e.arrowURightTop = "arrowURightTop", e.borderAllVariant = "borderAllVariant", e.borderRadius = "borderRadius", e.borderStyle = "borderStyle", e.cellphoneLink = "cellphoneLink", e.check = "check", e.checkBold = "checkBold", e.checkboxBlank = "checkboxBlank", e.chevronUp = "chevronUp", e.chevronDown = "chevronDown", e.chevronLeft = "chevronLeft", e.chevronRight = "chevronRight", e.close = "close", e.codeBraces = "codeBraces", e.cog = "cog", e.contentCopy = "contentCopy", e.contentSave = "contentSave", e.delete = "delete", e.dotsVertical = "dotsVertical", e.email = "email", e.emailOutline = "emailOutline", e.eye = "eye", e.eyedropperVariant = "eyedropperVariant", e.eyeOff = "eyeOff", e.eyeOffOutline = "eyeOffOutline", e.eyeOutline = "eyeOutline", e.fire = "fire", e.flare = "flare", e.floppy = "floppy", e.folder = "folder", e.fullscreen = "fullscreen", e.gradientVertical = "gradientVertical", e.helpCircle = "helpCircle", e.image = "image", e.information = "information", e.informationVariant = "informationVariant", e.layers = "layers", e.link = "link", e.lock = "lock", e.lockOpenVariant = "lockOpenVariant", e.menuDown = "menuDown", e.newspaperVariantOutline = "newspaperVariantOutline", e.paletteSwatch = "paletteSwatch", e.panVertical = "panVertical", e.phone = "phone", e.plus = "plus", e.plusBox = "plusBox", e.powerPlug = "powerPlug", e.refresh = "refresh", e.rhombusOutline = "rhombusOutline", e.tag = "tag", e.target = "target", e.targetVariant = "targetVariant", e.textBoxMultiple = "textBoxMultiple", e.trayArrowDown = "trayArrowDown", e.unfoldLessHorizontal = "unfoldLessHorizontal", e.unfoldMoreHorizontal = "unfoldMoreHorizontal", e.viewDayOutline = "viewDayOutline", e.viewGridPlus = "viewGridPlus", e.web = "web", e.xml = "xml", e))(Q || {});
const Ac = {
  alertRhombus: Dw,
  alignHorizontalCenter: Iw,
  alignHorizontalLeft: Vw,
  alignHorizontalRight: Hw,
  applicationBracketsOutline: Bw,
  arrowDown: zw,
  arrowRight: Fw,
  arrowULeftTop: Uw,
  arrowURightTop: Ww,
  borderAllVariant: Gw,
  borderRadius: Kw,
  borderStyle: qw,
  cellphoneLink: Yw,
  check: Xw,
  checkBold: Zw,
  checkboxBlank: Jw,
  chevronUp: nS,
  chevronDown: Qw,
  chevronLeft: eS,
  chevronRight: tS,
  close: rS,
  codeBraces: oS,
  cog: sS,
  contentCopy: iS,
  contentSave: aS,
  delete: lS,
  dotsVertical: cS,
  email: uS,
  emailOutline: dS,
  eye: pS,
  eyedropperVariant: mS,
  eyeOff: fS,
  eyeOffOutline: hS,
  eyeOutline: gS,
  fire: vS,
  flare: bS,
  floppy: yS,
  folder: xS,
  fullscreen: wS,
  gradientVertical: SS,
  helpCircle: jS,
  image: CS,
  information: PS,
  informationVariant: ES,
  layers: _S,
  link: OS,
  lock: AS,
  lockOpenVariant: LS,
  menuDown: kS,
  newspaperVariantOutline: MS,
  paletteSwatch: $S,
  panVertical: NS,
  phone: RS,
  plus: DS,
  plusBox: IS,
  powerPlug: VS,
  refresh: HS,
  rhombusOutline: BS,
  tag: zS,
  target: FS,
  targetVariant: US,
  textBoxMultiple: WS,
  trayArrowDown: GS,
  unfoldLessHorizontal: KS,
  unfoldMoreHorizontal: qS,
  viewDayOutline: YS,
  viewGridPlus: XS,
  web: ZS,
  xml: JS
}, sj = "gs-cmp-icon", te = ce(function({
  className: t,
  icon: n,
  size: r,
  rotate: o,
  horizontal: s,
  vertical: i
}) {
  var p;
  const a = (p = FL()) == null ? void 0 : p.sdkCustomIcons, c = (a == null ? void 0 : a[n]) || (Ac == null ? void 0 : Ac[n]) || n, u = [s && "scaleX(-1)", i && "scaleY(-1)", o && `rotate(${o}deg)`].filter((f) => !!f).join(" ");
  if (!c)
    return null;
  const d = Y(sj, t);
  return c.startsWith("<svg") || c.startsWith("<?xml") ? /* @__PURE__ */ l.jsx(
    Vd,
    {
      className: d,
      style: {
        transform: u || void 0
      },
      svg: c,
      iconSize: r
    }
  ) : /* @__PURE__ */ l.jsx(
    rj,
    {
      className: d,
      path: c,
      size: r,
      rotate: o,
      horizontal: s,
      vertical: i
    }
  );
}), a1 = 150;
var $e = /* @__PURE__ */ ((e) => (e.txt = "gs-theme-cl-txt", e.bg = "gs-theme-cl-bg", e.br = "gs-theme-cl-br", e.bgA = "gs-theme-cl-bgA", e.bgA2 = "gs-theme-cl-bgA2", e.hBgAct = "gs-theme-cl-hBgAct", e.hBgA2 = "gs-theme-cl-hBgA2", e.tA = "gs-theme-cl-tA", e.tAo = "gs-theme-cl-tAo", e.hTAo = "gs-theme-cl-hTAo", e.grouphTAo = "gs-theme-cl-grouphTAo", e.bA = "gs-theme-cl-bA", e.bg0 = "gs-theme-cl-bg0", e.bgH = "gs-theme-cl-bgH", e.hBgH = "gs-theme-cl-hBgH", e.bgH2 = "gs-theme-cl-bgH2", e.hBgH2 = "gs-theme-cl-hBgH2", e.sel = "gs-theme-cl-sel", e.selBr = "gs-theme-cl-selBr", e.cmp = "gs-theme-cl-cmp", e.cmpBgSoft = "gs-theme-cl-cmpBgSoft", e.cmpBgSoftX = "gs-theme-cl-cmpBgSoftX", e.cmpBr = "gs-theme-cl-cmpBr", e.cmpSymbol = "gs-theme-cl-cmpSymbol", e.cmpBgSymbolSoft = "gs-theme-cl-cmpBgSymbolSoft", e.cmpBgSymbolSoftX = "gs-theme-cl-cmpBgSymbolSoftX", e.cmpSymbolBr = "gs-theme-cl-cmpSymbolBr", e.cmpTxtActive = "gs-theme-cl-cmpTxtActive", e.focus = "gs-theme-ring-focus", e.inputText = "gs-theme-elStyles-inputText", e))($e || {});
const H = {
  /** background transparent */
  bgTr: "gs-utl-bg-transparent",
  /** text */
  txt: "gs-theme-cl-txt gs-utl-text-gray-900 dark:gs-utl-text-gray-400",
  /** text low emphasis */
  txtLowEmphasis: "gs-utl-text-neutral-500 dark:gs-utl-text-neutral-500",
  /** text high emphasis */
  txtHighEmphasis: "gs-utl-text-black dark:gs-utl-text-gray-200",
  /** text high emphasis hovered */
  txtHighEmphasisH: "hover:gs-utl-text-black hover:dark:gs-utl-text-gray-200",
  /** text active */
  tA: "gs-theme-cl-tA gs-utl-text-violet-400",
  /** text active opaque */
  tAo: "gs-theme-cl-tAo gs-utl-text-violet-800 dark:gs-utl-text-violet-400",
  /** text active hovered opaque */
  hTAo: "gs-theme-cl-hTAo hover:gs-utl-text-violet-800 hover:dark:gs-utl-text-violet-400",
  /** text active group hovered opaque */
  grouphTAo: "gs-theme-cl-grouphTAo group-hover:gs-utl-text-violet-800 group-hover:dark:gs-utl-text-violet-400",
  /** border active */
  bA: "gs-theme-cl-bA gs-utl-border-violet-400",
  /** background active */
  bgA: "gs-theme-cl-bgA gs-utl-bg-violet-400 gs-utl-text-white dark:gs-utl-bg-violet-500",
  /** background active level 2 */
  bgA2: "gs-theme-cl-bgA2 gs-utl-bg-violet-500 gs-utl-text-white",
  /** background opaque */
  bgO: "gs-theme-cl-bg0 gs-utl-bg-violet-50 gs-utl-text-violet-900 dark:gs-utl-bg-zinc-800 dark:gs-utl-text-violet-400",
  /** background */
  bg: "gs-theme-cl-bg gs-utl-bg-white dark:gs-utl-bg-zinc-900",
  /** background that blurs content behind it */
  bgBlur: "gs-utl-bg-white/50 dark:gs-utl-bg-zinc-900/50 gs-utl-backdrop-blur-sm",
  /** background heading */
  bgH: "gs-theme-cl-bgH gs-utl-bg-gray-100 dark:gs-utl-bg-zinc-700",
  /** background heading 75 */
  bgH75: "gs-utl-bg-gray-100/75 dark:gs-utl-bg-zinc-700/75",
  /** background hovered heading */
  hBgH: "gs-theme-cl-hBgH hover:gs-utl-bg-gray-50 hover:dark:gs-utl-bg-zinc-800",
  /** background heading 2 */
  bgH2: "gs-theme-cl-bgH2 gs-utl-bg-gray-25 dark:gs-utl-bg-zinc-800",
  /** background hovered heading 2 */
  hBgH2: "gs-theme-cl-hBgH2 hover:gs-utl-bg-gray-25 hover:dark:gs-utl-bg-zinc-800",
  /** background hovered active */
  hBgAct: "gs-theme-cl-hBgAct hover:gs-utl-bg-violet-800 hover:dark:gs-utl-bg-violet-400",
  /** background hovered active 2 */
  hBgA2: "gs-theme-cl-hBgA2 hover:gs-utl-bg-violet-500 hover:dark:gs-utl-bg-violet-600",
  /** background hovered dark */
  hBgDark: "hover:gs-utl-bg-black/10",
  /** selector */
  sel: "gs-theme-cl-sel gs-utl-bg-pink-200 gs-utl-text-pink-900",
  /** selector border */
  selBr: "gs-theme-cl-selBr gs-utl-border-pink-900",
  /** component */
  cmp: "gs-theme-cl-cmp gs-utl-bg-blue-450 gs-utl-text-white",
  /** component symbol */
  cmpSymbol: "gs-theme-cl-cmpSymbol gs-utl-bg-[#7b61ff] gs-utl-text-white",
  /** component background soft */
  cmpBgSoft: "gs-theme-cl-cmpBgSoft gs-utl-bg-blue-100 dark:gs-utl-bg-sky-800",
  /** component background symbol soft */
  cmpBgSymbolSoft: "gs-theme-cl-cmpBgSymbolSoft gs-utl-bg-violet-200 dark:gs-utl-bg-violet-800",
  /** component background soft X?? */
  cmpBgSoftX: "gs-theme-cl-cmpBgSoftX gs-utl-bg-blue-50 dark:gs-utl-bg-gray-800",
  /** component background symbol soft X?? */
  cmpBgSymbolSoftX: "gs-theme-cl-cmpBgSymbolSoftX gs-utl-bg-[#edebff] dark:gs-utl-bg-[#2d1b4b]",
  /** component text active */
  cmpTxtActive: "gs-theme-cl-cmpTxtActive dark:gs-utl-text-gray-300",
  /** component border */
  cmpBr: "gs-theme-cl-cmpBr gs-utl-border-blue-450",
  /** component symbol border */
  cmpSymbolBr: "gs-theme-cl-cmpSymbolBr gs-utl-border-[#7b61ff]",
  /** component target background */
  cmpTargetBg: "gs-utl-bg-amber-500 gs-utl-text-white",
  /** component target background opaque */
  cmpTargetBgOpac: "gs-utl-bg-amber-500/5",
  /** component target border */
  cmpTargetBr: "gs-utl-border-amber-500",
  // warning
  /** text warning */
  tW: "gs-utl-text-amber-500",
  /** background warning */
  bgW: "gs-utl-bg-amber-500",
  /** background red */
  bgRed: "gs-utl-bg-red-500",
  /** hovered background red */
  hBgRed: "hover:gs-utl-bg-red-600",
  /** hovered background warning */
  hBgW: "hover:gs-utl-bg-amber-600",
  /** border */
  br: "gs-theme-cl-br gs-utl-border-gray-300 dark:gs-utl-border-zinc-700",
  brRed: "gs-utl-border-red-500",
  /** border light */
  brLight: "gs-utl-border-white/25"
}, Hd = {
  enter: "gs-utl-transition gs-utl-duration-100 gs-utl-ease-out",
  enterFrom: "gs-utl-scale-95 gs-utl-opacity-0",
  enterTo: "gs-utl-opacity-100",
  leave: "gs-utl-transition gs-utl-ease-in gs-utl-duration-100",
  leaveFrom: "gs-utl-scale-100 gs-utl-opacity-100",
  leaveTo: "gs-utl-scale-95 gs-utl-opacity-0"
}, l1 = {
  enter: "gs-utl-transition gs-utl-duration-100 gs-utl-ease-out",
  enterFrom: "gs-utl-opacity-0",
  enterTo: "gs-utl-opacity-100"
}, ij = {
  leave: "gs-utl-transition gs-utl-ease-in gs-utl-duration-100",
  leaveFrom: "gs-utl-opacity-100",
  leaveTo: "gs-utl-opacity-0"
}, $i = {
  ...l1,
  ...ij
}, ke = {
  xy: "gs-utl-px-4 gs-utl-py-2",
  xyS: "gs-utl-px-2 gs-utl-py-1",
  xyS2: "gs-utl-px-2 gs-utl-py-0.5",
  x: "gs-utl-px-4",
  xS: "gs-utl-px-2",
  y: "gs-utl-py-2",
  s: "gs-utl-p-2"
}, Bd = {
  bg: H.bg,
  bgH: H.bgH
}, Mf = {
  bg: "gs-utl-bg-zinc-700",
  //'gs-utl-bg-gray-800',
  txt: "gs-utl-text-white",
  block: "gs-utl-text-xs gs-utl-mt-1 gs-utl-bg-white/10 gs-utl-rounded gs-utl-px-2 gs-utl-py-1"
}, re = {
  /** rounded */
  rnd: "gs-utl-rounded",
  pill: "gs-utl-rounded-full",
  /** border */
  b: "gs-utl-border",
  /** border transparent */
  bT: "gs-utl-border-transparent",
  /** border super? */
  bS: "gs-utl-border-2",
  /** border top */
  bt: "gs-utl-border-t",
  /** border bottom */
  bb: "gs-utl-border-b",
  /** border right */
  br: "gs-utl-border-r",
  /** border left */
  bl: "gs-utl-border-l",
  /** border active */
  bA: "gs-theme-cl-bA gs-utl-border-violet-400 dark:gs-utl-border-violet-500"
}, mi = {
  focus: "gs-theme-ring-focus focus:gs-utl-outline-none focus-visible:gs-utl-ring-2 gs-utl-ring-violet-300 gs-utl-ring-opacity-80",
  deepFocus: "focus:gs-utl-outline-none [&:has(:focus-visible)]:gs-utl-ring-2 gs-utl-ring-violet-300 gs-utl-ring-opacity-80"
}, le = {
  s3x: "13px",
  s2x: "14px",
  sx: "16px",
  s: "18px"
}, tt = {
  click: "gs-utl-cursor-pointer gs-utl-transition-opacity gs-utl-opacity-75 hover:gs-utl-opacity-100",
  hover: "gs-utl-transition-opacity gs-utl-opacity-50 hover:gs-utl-opacity-100",
  hoverGroup: "group-hover:gs-utl-opacity-100 gs-utl-opacity-0 gs-utl-transition-opacity",
  dot: "gs-utl-w-[6px] gs-utl-h-[6px] gs-utl-rounded-full",
  scrollY: "gs-utl-overflow-y-auto gs-utl-overflow-x-hidden",
  txtEllips: "gs-utl-text-ellipsis gs-utl-overflow-hidden gs-utl-whitespace-nowrap",
  coverAbs: "gs-utl-absolute gs-utl-top-0 gs-utl-left-0 gs-utl-w-full gs-utl-h-full",
  disabled: "gs-utl-opacity-50 gs-utl-pointer-events-none",
  noFocusOut: "focus:gs-utl-outline-none",
  spin: "gs-utl-animate-spin-fast"
}, yo = {
  link: L(H.tAo),
  inputText: "gs-theme-elStyles-inputText focus:gs-utl-outline-none gs-utl-placeholder:text-neutral-400 placeholder:dark:gs-utl-text-neutral-500"
}, zd = {
  itemList: ({ index: e = 0, open: t = !1, length: n = 0 } = {}) => L(H.bgH2, ke.xyS, H.br, e && re.bt, (t || e === n - 1) && re.bb)
}, c1 = (e) => ({
  bg: e ? "#18181b" : "#f9f9f9",
  text: e ? "#9ca3af" : "#111827",
  link: e ? "#a78bfa" : "#5b21b6"
}), kl = (e) => {
  let t = {
    isSymbol: !1,
    bg: H.cmp,
    bgSoft: `${H.cmpBgSoft} ${H.cmpTxtActive}`,
    bgSoftX: H.cmpBgSoftX,
    border: H.cmpBr,
    txt: ""
  };
  if (!(e != null && e.em))
    return t;
  const { isSymbol: n } = e.em.Components.getSymbolInfo(e);
  return n && (t = {
    isSymbol: n,
    bg: H.cmpSymbol,
    bgSoft: `${H.cmpBgSymbolSoft} ${H.cmpTxtActive}`,
    bgSoftX: H.cmpBgSymbolSoftX,
    border: H.cmpSymbolBr,
    txt: ""
  }), t;
}, u1 = ({
  variant: e,
  size: t = "m",
  className: n,
  active: r,
  border: o = !0,
  rounded: s = !0,
  disabled: i = !1,
  withBg: a,
  block: c,
  full: u
}) => {
  const d = e === "pr", p = e === "out", f = e === "out-clear", h = e === "warn", v = e === "danger", g = o && (p || f || !e);
  return [
    "gs-utl-transition-colors gs-utl-cursor-pointer",
    c && "block",
    t === "s" && "gjs-p-1 text-sm",
    t === "m" && "gjs-p-1 gjs-px-2",
    t === "m2" && "gjs-p-1 gjs-px-3",
    t === "lg" && "gjs-p-2 gjs-px-4 text-lg",
    n,
    s && re.rnd,
    g && `${re.b} ${H.br}`,
    a && H.bg,
    // isDef && !disabled && !active && cl.hBgH,
    g && L(re.b, p && H.bA, p && H.tAo, !i && H.hBgH),
    h && L(H.bgW, H.hBgW, !i && H.hBgW, "text-white"),
    v && L(H.bgRed, !i && H.hBgRed, "text-white"),
    d && L(H.bgA2, !i && H.hBgAct),
    r && H.bgA,
    i && "disabled:gs-utl-opacity-80 cursor-not-allowed",
    u && "w-full",
    mi.focus
  ];
};
function Xe({ children: e, ...t }) {
  const { variant: n, size: r, active: o, border: s, rounded: i, block: a, full: c, className: u, icon: d, loading: p, withBg: f, ...h } = t, v = p ? { icon: TS, size: "18px", className: L("animate-spin-fast") } : Lt(d) ? { icon: d, size: "18px" } : d;
  return /* @__PURE__ */ l.jsx("button", { className: L(u1(t)), disabled: t.disabled, ...h, children: v ? /* @__PURE__ */ l.jsxs(R, { className: L("gap-2"), items: "center", nowrap: !0, children: [
    /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(te, { ...v }) }),
    e && /* @__PURE__ */ l.jsx($, { children: e })
  ] }) : e });
}
function Ro(e, t, n) {
  let r = n.initialDeps ?? [], o;
  return () => {
    var s, i, a, c;
    let u;
    n.key && ((s = n.debug) != null && s.call(n)) && (u = Date.now());
    const d = e();
    if (!(d.length !== r.length || d.some((h, v) => r[v] !== h)))
      return o;
    r = d;
    let f;
    if (n.key && ((i = n.debug) != null && i.call(n)) && (f = Date.now()), o = t(...d), n.key && ((a = n.debug) != null && a.call(n))) {
      const h = Math.round((Date.now() - u) * 100) / 100, v = Math.round((Date.now() - f) * 100) / 100, g = v / 16, b = (m, y) => {
        for (m = String(m); m.length < y; )
          m = " " + m;
        return m;
      };
      console.info(
        `%c ${b(v, 5)} /${b(h, 5)} ms`,
        `
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(
          0,
          Math.min(120 - 120 * g, 120)
        )}deg 100% 31%);`,
        n == null ? void 0 : n.key
      );
    }
    return (c = n == null ? void 0 : n.onChange) == null || c.call(n, o), o;
  };
}
function Lc(e, t) {
  if (e === void 0)
    throw new Error(`Unexpected undefined${t ? `: ${t}` : ""}`);
  return e;
}
const aj = (e, t) => Math.abs(e - t) < 1, lj = (e, t, n) => {
  let r;
  return function(...o) {
    e.clearTimeout(r), r = e.setTimeout(() => t.apply(this, o), n);
  };
}, cj = (e) => e, uj = (e) => {
  const t = Math.max(e.startIndex - e.overscan, 0), n = Math.min(e.endIndex + e.overscan, e.count - 1), r = [];
  for (let o = t; o <= n; o++)
    r.push(o);
  return r;
}, dj = (e, t) => {
  const n = e.scrollElement;
  if (!n)
    return;
  const r = e.targetWindow;
  if (!r)
    return;
  const o = (i) => {
    const { width: a, height: c } = i;
    t({ width: Math.round(a), height: Math.round(c) });
  };
  if (o(n.getBoundingClientRect()), !r.ResizeObserver)
    return () => {
    };
  const s = new r.ResizeObserver((i) => {
    const a = i[0];
    if (a != null && a.borderBoxSize) {
      const c = a.borderBoxSize[0];
      if (c) {
        o({ width: c.inlineSize, height: c.blockSize });
        return;
      }
    }
    o(n.getBoundingClientRect());
  });
  return s.observe(n, { box: "border-box" }), () => {
    s.unobserve(n);
  };
}, $f = {
  passive: !0
}, pj = typeof window > "u" ? !0 : "onscrollend" in window, fj = (e, t) => {
  const n = e.scrollElement;
  if (!n)
    return;
  const r = e.targetWindow;
  if (!r)
    return;
  let o = 0;
  const s = pj ? () => {
  } : lj(
    r,
    () => {
      t(o, !1);
    },
    e.options.isScrollingResetDelay
  ), i = (u) => () => {
    const { horizontal: d, isRtl: p } = e.options;
    o = d ? n.scrollLeft * (p && -1 || 1) : n.scrollTop, s(), t(o, u);
  }, a = i(!0), c = i(!1);
  return c(), n.addEventListener("scroll", a, $f), n.addEventListener("scrollend", c, $f), () => {
    n.removeEventListener("scroll", a), n.removeEventListener("scrollend", c);
  };
}, hj = (e, t, n) => {
  if (t != null && t.borderBoxSize) {
    const r = t.borderBoxSize[0];
    if (r)
      return Math.round(
        r[n.options.horizontal ? "inlineSize" : "blockSize"]
      );
  }
  return Math.round(
    e.getBoundingClientRect()[n.options.horizontal ? "width" : "height"]
  );
}, gj = (e, {
  adjustments: t = 0,
  behavior: n
}, r) => {
  var o, s;
  const i = e + t;
  (s = (o = r.scrollElement) == null ? void 0 : o.scrollTo) == null || s.call(o, {
    [r.options.horizontal ? "left" : "top"]: i,
    behavior: n
  });
};
class mj {
  constructor(t) {
    this.unsubs = [], this.scrollElement = null, this.targetWindow = null, this.isScrolling = !1, this.scrollToIndexTimeoutId = null, this.measurementsCache = [], this.itemSizeCache = /* @__PURE__ */ new Map(), this.pendingMeasuredCacheIndexes = [], this.scrollRect = null, this.scrollOffset = null, this.scrollDirection = null, this.scrollAdjustments = 0, this.elementsCache = /* @__PURE__ */ new Map(), this.observer = /* @__PURE__ */ (() => {
      let n = null;
      const r = () => n || (!this.targetWindow || !this.targetWindow.ResizeObserver ? null : n = new this.targetWindow.ResizeObserver((o) => {
        o.forEach((s) => {
          this._measureElement(s.target, s);
        });
      }));
      return {
        disconnect: () => {
          var o;
          (o = r()) == null || o.disconnect(), n = null;
        },
        observe: (o) => {
          var s;
          return (s = r()) == null ? void 0 : s.observe(o, { box: "border-box" });
        },
        unobserve: (o) => {
          var s;
          return (s = r()) == null ? void 0 : s.unobserve(o);
        }
      };
    })(), this.range = null, this.setOptions = (n) => {
      Object.entries(n).forEach(([r, o]) => {
        typeof o > "u" && delete n[r];
      }), this.options = {
        debug: !1,
        initialOffset: 0,
        overscan: 1,
        paddingStart: 0,
        paddingEnd: 0,
        scrollPaddingStart: 0,
        scrollPaddingEnd: 0,
        horizontal: !1,
        getItemKey: cj,
        rangeExtractor: uj,
        onChange: () => {
        },
        measureElement: hj,
        initialRect: { width: 0, height: 0 },
        scrollMargin: 0,
        gap: 0,
        indexAttribute: "data-index",
        initialMeasurementsCache: [],
        lanes: 1,
        isScrollingResetDelay: 150,
        enabled: !0,
        isRtl: !1,
        ...n
      };
    }, this.notify = (n) => {
      var r, o;
      (o = (r = this.options).onChange) == null || o.call(r, this, n);
    }, this.maybeNotify = Ro(
      () => (this.calculateRange(), [
        this.isScrolling,
        this.range ? this.range.startIndex : null,
        this.range ? this.range.endIndex : null
      ]),
      (n) => {
        this.notify(n);
      },
      {
        key: !1,
        debug: () => this.options.debug,
        initialDeps: [
          this.isScrolling,
          this.range ? this.range.startIndex : null,
          this.range ? this.range.endIndex : null
        ]
      }
    ), this.cleanup = () => {
      this.unsubs.filter(Boolean).forEach((n) => n()), this.unsubs = [], this.observer.disconnect(), this.scrollElement = null, this.targetWindow = null;
    }, this._didMount = () => () => {
      this.cleanup();
    }, this._willUpdate = () => {
      var n;
      const r = this.options.enabled ? this.options.getScrollElement() : null;
      if (this.scrollElement !== r) {
        if (this.cleanup(), !r) {
          this.maybeNotify();
          return;
        }
        this.scrollElement = r, this.scrollElement && "ownerDocument" in this.scrollElement ? this.targetWindow = this.scrollElement.ownerDocument.defaultView : this.targetWindow = ((n = this.scrollElement) == null ? void 0 : n.window) ?? null, this.elementsCache.forEach((o) => {
          this.observer.observe(o);
        }), this._scrollToOffset(this.getScrollOffset(), {
          adjustments: void 0,
          behavior: void 0
        }), this.unsubs.push(
          this.options.observeElementRect(this, (o) => {
            this.scrollRect = o, this.maybeNotify();
          })
        ), this.unsubs.push(
          this.options.observeElementOffset(this, (o, s) => {
            this.scrollAdjustments = 0, this.scrollDirection = s ? this.getScrollOffset() < o ? "forward" : "backward" : null, this.scrollOffset = o, this.isScrolling = s, this.maybeNotify();
          })
        );
      }
    }, this.getSize = () => this.options.enabled ? (this.scrollRect = this.scrollRect ?? this.options.initialRect, this.scrollRect[this.options.horizontal ? "width" : "height"]) : (this.scrollRect = null, 0), this.getScrollOffset = () => this.options.enabled ? (this.scrollOffset = this.scrollOffset ?? (typeof this.options.initialOffset == "function" ? this.options.initialOffset() : this.options.initialOffset), this.scrollOffset) : (this.scrollOffset = null, 0), this.getFurthestMeasurement = (n, r) => {
      const o = /* @__PURE__ */ new Map(), s = /* @__PURE__ */ new Map();
      for (let i = r - 1; i >= 0; i--) {
        const a = n[i];
        if (o.has(a.lane))
          continue;
        const c = s.get(
          a.lane
        );
        if (c == null || a.end > c.end ? s.set(a.lane, a) : a.end < c.end && o.set(a.lane, !0), o.size === this.options.lanes)
          break;
      }
      return s.size === this.options.lanes ? Array.from(s.values()).sort((i, a) => i.end === a.end ? i.index - a.index : i.end - a.end)[0] : void 0;
    }, this.getMeasurementOptions = Ro(
      () => [
        this.options.count,
        this.options.paddingStart,
        this.options.scrollMargin,
        this.options.getItemKey,
        this.options.enabled
      ],
      (n, r, o, s, i) => (this.pendingMeasuredCacheIndexes = [], {
        count: n,
        paddingStart: r,
        scrollMargin: o,
        getItemKey: s,
        enabled: i
      }),
      {
        key: !1
      }
    ), this.getMeasurements = Ro(
      () => [this.getMeasurementOptions(), this.itemSizeCache],
      ({ count: n, paddingStart: r, scrollMargin: o, getItemKey: s, enabled: i }, a) => {
        if (!i)
          return this.measurementsCache = [], this.itemSizeCache.clear(), [];
        this.measurementsCache.length === 0 && (this.measurementsCache = this.options.initialMeasurementsCache, this.measurementsCache.forEach((d) => {
          this.itemSizeCache.set(d.key, d.size);
        }));
        const c = this.pendingMeasuredCacheIndexes.length > 0 ? Math.min(...this.pendingMeasuredCacheIndexes) : 0;
        this.pendingMeasuredCacheIndexes = [];
        const u = this.measurementsCache.slice(0, c);
        for (let d = c; d < n; d++) {
          const p = s(d), f = this.options.lanes === 1 ? u[d - 1] : this.getFurthestMeasurement(u, d), h = f ? f.end + this.options.gap : r + o, v = a.get(p), g = typeof v == "number" ? v : this.options.estimateSize(d), b = h + g, m = f ? f.lane : d % this.options.lanes;
          u[d] = {
            index: d,
            start: h,
            size: g,
            end: b,
            key: p,
            lane: m
          };
        }
        return this.measurementsCache = u, u;
      },
      {
        key: !1,
        debug: () => this.options.debug
      }
    ), this.calculateRange = Ro(
      () => [this.getMeasurements(), this.getSize(), this.getScrollOffset()],
      (n, r, o) => this.range = n.length > 0 && r > 0 ? vj({
        measurements: n,
        outerSize: r,
        scrollOffset: o
      }) : null,
      {
        key: !1,
        debug: () => this.options.debug
      }
    ), this.getIndexes = Ro(
      () => [
        this.options.rangeExtractor,
        this.calculateRange(),
        this.options.overscan,
        this.options.count
      ],
      (n, r, o, s) => r === null ? [] : n({
        startIndex: r.startIndex,
        endIndex: r.endIndex,
        overscan: o,
        count: s
      }),
      {
        key: !1,
        debug: () => this.options.debug
      }
    ), this.indexFromElement = (n) => {
      const r = this.options.indexAttribute, o = n.getAttribute(r);
      return o ? parseInt(o, 10) : (console.warn(
        `Missing attribute name '${r}={index}' on measured element.`
      ), -1);
    }, this._measureElement = (n, r) => {
      const o = this.indexFromElement(n), s = this.measurementsCache[o];
      if (!s)
        return;
      const i = s.key, a = this.elementsCache.get(i);
      a !== n && (a && this.observer.unobserve(a), this.observer.observe(n), this.elementsCache.set(i, n)), n.isConnected && this.resizeItem(o, this.options.measureElement(n, r, this));
    }, this.resizeItem = (n, r) => {
      const o = this.measurementsCache[n];
      if (!o)
        return;
      const s = this.itemSizeCache.get(o.key) ?? o.size, i = r - s;
      i !== 0 && ((this.shouldAdjustScrollPositionOnItemSizeChange !== void 0 ? this.shouldAdjustScrollPositionOnItemSizeChange(o, i, this) : o.start < this.getScrollOffset() + this.scrollAdjustments) && this._scrollToOffset(this.getScrollOffset(), {
        adjustments: this.scrollAdjustments += i,
        behavior: void 0
      }), this.pendingMeasuredCacheIndexes.push(o.index), this.itemSizeCache = new Map(this.itemSizeCache.set(o.key, r)), this.notify(!1));
    }, this.measureElement = (n) => {
      if (!n) {
        this.elementsCache.forEach((r, o) => {
          r.isConnected || (this.observer.unobserve(r), this.elementsCache.delete(o));
        });
        return;
      }
      this._measureElement(n, void 0);
    }, this.getVirtualItems = Ro(
      () => [this.getIndexes(), this.getMeasurements()],
      (n, r) => {
        const o = [];
        for (let s = 0, i = n.length; s < i; s++) {
          const a = n[s], c = r[a];
          o.push(c);
        }
        return o;
      },
      {
        key: !1,
        debug: () => this.options.debug
      }
    ), this.getVirtualItemForOffset = (n) => {
      const r = this.getMeasurements();
      if (r.length !== 0)
        return Lc(
          r[d1(
            0,
            r.length - 1,
            (o) => Lc(r[o]).start,
            n
          )]
        );
    }, this.getOffsetForAlignment = (n, r) => {
      const o = this.getSize(), s = this.getScrollOffset();
      r === "auto" && (n <= s ? r = "start" : n >= s + o ? r = "end" : r = "start"), r === "start" ? n = n : r === "end" ? n = n - o : r === "center" && (n = n - o / 2);
      const i = this.options.horizontal ? "scrollWidth" : "scrollHeight", c = (this.scrollElement ? "document" in this.scrollElement ? this.scrollElement.document.documentElement[i] : this.scrollElement[i] : 0) - o;
      return Math.max(Math.min(c, n), 0);
    }, this.getOffsetForIndex = (n, r = "auto") => {
      n = Math.max(0, Math.min(n, this.options.count - 1));
      const o = this.measurementsCache[n];
      if (!o)
        return;
      const s = this.getSize(), i = this.getScrollOffset();
      if (r === "auto")
        if (o.end >= i + s - this.options.scrollPaddingEnd)
          r = "end";
        else if (o.start <= i + this.options.scrollPaddingStart)
          r = "start";
        else
          return [i, r];
      const a = r === "end" ? o.end + this.options.scrollPaddingEnd : o.start - this.options.scrollPaddingStart;
      return [this.getOffsetForAlignment(a, r), r];
    }, this.isDynamicMode = () => this.elementsCache.size > 0, this.cancelScrollToIndex = () => {
      this.scrollToIndexTimeoutId !== null && this.targetWindow && (this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId), this.scrollToIndexTimeoutId = null);
    }, this.scrollToOffset = (n, { align: r = "start", behavior: o } = {}) => {
      this.cancelScrollToIndex(), o === "smooth" && this.isDynamicMode() && console.warn(
        "The `smooth` scroll behavior is not fully supported with dynamic size."
      ), this._scrollToOffset(this.getOffsetForAlignment(n, r), {
        adjustments: void 0,
        behavior: o
      });
    }, this.scrollToIndex = (n, { align: r = "auto", behavior: o } = {}) => {
      n = Math.max(0, Math.min(n, this.options.count - 1)), this.cancelScrollToIndex(), o === "smooth" && this.isDynamicMode() && console.warn(
        "The `smooth` scroll behavior is not fully supported with dynamic size."
      );
      const s = this.getOffsetForIndex(n, r);
      if (!s)
        return;
      const [i, a] = s;
      this._scrollToOffset(i, { adjustments: void 0, behavior: o }), o !== "smooth" && this.isDynamicMode() && this.targetWindow && (this.scrollToIndexTimeoutId = this.targetWindow.setTimeout(() => {
        if (this.scrollToIndexTimeoutId = null, this.elementsCache.has(
          this.options.getItemKey(n)
        )) {
          const [u] = Lc(
            this.getOffsetForIndex(n, a)
          );
          aj(u, this.getScrollOffset()) || this.scrollToIndex(n, { align: a, behavior: o });
        } else
          this.scrollToIndex(n, { align: a, behavior: o });
      }));
    }, this.scrollBy = (n, { behavior: r } = {}) => {
      this.cancelScrollToIndex(), r === "smooth" && this.isDynamicMode() && console.warn(
        "The `smooth` scroll behavior is not fully supported with dynamic size."
      ), this._scrollToOffset(this.getScrollOffset() + n, {
        adjustments: void 0,
        behavior: r
      });
    }, this.getTotalSize = () => {
      var n;
      const r = this.getMeasurements();
      let o;
      return r.length === 0 ? o = this.options.paddingStart : o = this.options.lanes === 1 ? ((n = r[r.length - 1]) == null ? void 0 : n.end) ?? 0 : Math.max(
        ...r.slice(-this.options.lanes).map((s) => s.end)
      ), Math.max(
        o - this.options.scrollMargin + this.options.paddingEnd,
        0
      );
    }, this._scrollToOffset = (n, {
      adjustments: r,
      behavior: o
    }) => {
      this.options.scrollToFn(n, { behavior: o, adjustments: r }, this);
    }, this.measure = () => {
      this.itemSizeCache = /* @__PURE__ */ new Map(), this.notify(!1);
    }, this.setOptions(t);
  }
}
const d1 = (e, t, n, r) => {
  for (; e <= t; ) {
    const o = (e + t) / 2 | 0, s = n(o);
    if (s < r)
      e = o + 1;
    else if (s > r)
      t = o - 1;
    else
      return o;
  }
  return e > 0 ? e - 1 : 0;
};
function vj({
  measurements: e,
  outerSize: t,
  scrollOffset: n
}) {
  const r = e.length - 1, s = d1(0, r, (a) => e[a].start, n);
  let i = s;
  for (; i < r && e[i].end < n + t; )
    i++;
  return { startIndex: s, endIndex: i };
}
const bj = typeof document < "u" ? He.useLayoutEffect : He.useEffect;
function yj(e) {
  const t = He.useReducer(() => ({}), {})[1], n = {
    ...e,
    onChange: (o, s) => {
      var i;
      s ? tm(t) : t(), (i = e.onChange) == null || i.call(e, o, s);
    }
  }, [r] = He.useState(
    () => new mj(n)
  );
  return r.setOptions(n), He.useEffect(() => r._didMount(), []), bj(() => r._willUpdate()), r;
}
function xj(e) {
  return yj({
    observeElementRect: dj,
    observeElementOffset: fj,
    scrollToFn: gj,
    ...e
  });
}
var wj = Object.defineProperty, Sj = (e, t, n) => t in e ? wj(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, kc = (e, t, n) => (Sj(e, typeof t != "symbol" ? t + "" : t, n), n);
let jj = class {
  constructor() {
    kc(this, "current", this.detect()), kc(this, "handoffState", "pending"), kc(this, "currentId", 0);
  }
  set(t) {
    this.current !== t && (this.handoffState = "pending", this.currentId = 0, this.current = t);
  }
  reset() {
    this.set(this.detect());
  }
  nextId() {
    return ++this.currentId;
  }
  get isServer() {
    return this.current === "server";
  }
  get isClient() {
    return this.current === "client";
  }
  detect() {
    return typeof window > "u" || typeof document > "u" ? "server" : "client";
  }
  handoff() {
    this.handoffState === "pending" && (this.handoffState = "complete");
  }
  get isHandoffComplete() {
    return this.handoffState === "complete";
  }
}, Sr = new jj(), Le = (e, t) => {
  Sr.isServer ? W(e, t) : yl(e, t);
};
function wt(e) {
  let t = G(e);
  return Le(() => {
    t.current = e;
  }, [e]), t;
}
function Ni(e, t) {
  let [n, r] = U(e), o = wt(e);
  return Le(() => r(o.current), [o, r, ...t]), n;
}
let Z = function(e) {
  let t = wt(e);
  return I.useCallback((...n) => t.current(...n), [t]);
};
function Ml(e, t, n) {
  let [r, o] = U(n), s = e !== void 0, i = G(s), a = G(!1), c = G(!1);
  return s && !i.current && !a.current ? (a.current = !0, i.current = s, console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")) : !s && i.current && !c.current && (c.current = !0, i.current = s, console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")), [s ? e : r, Z((u) => (s || o(u), t == null ? void 0 : t(u)))];
}
function Ri(e) {
  typeof queueMicrotask == "function" ? queueMicrotask(e) : Promise.resolve().then(e).catch((t) => setTimeout(() => {
    throw t;
  }));
}
function xn() {
  let e = [], t = { addEventListener(n, r, o, s) {
    return n.addEventListener(r, o, s), t.add(() => n.removeEventListener(r, o, s));
  }, requestAnimationFrame(...n) {
    let r = requestAnimationFrame(...n);
    return t.add(() => cancelAnimationFrame(r));
  }, nextFrame(...n) {
    return t.requestAnimationFrame(() => t.requestAnimationFrame(...n));
  }, setTimeout(...n) {
    let r = setTimeout(...n);
    return t.add(() => clearTimeout(r));
  }, microTask(...n) {
    let r = { current: !0 };
    return Ri(() => {
      r.current && n[0]();
    }), t.add(() => {
      r.current = !1;
    });
  }, style(n, r, o) {
    let s = n.style.getPropertyValue(r);
    return Object.assign(n.style, { [r]: o }), this.add(() => {
      Object.assign(n.style, { [r]: s });
    });
  }, group(n) {
    let r = xn();
    return n(r), this.add(() => r.dispose());
  }, add(n) {
    return e.push(n), () => {
      let r = e.indexOf(n);
      if (r >= 0)
        for (let o of e.splice(r, 1))
          o();
    };
  }, dispose() {
    for (let n of e.splice(0))
      n();
  } };
  return t;
}
function wn() {
  let [e] = U(xn);
  return W(() => () => e.dispose(), [e]), e;
}
function Cj() {
  let e = typeof document > "u";
  return "useSyncExternalStore" in He ? ((t) => t.useSyncExternalStore)(He)(() => () => {
  }, () => !1, () => !e) : !1;
}
function gs() {
  let e = Cj(), [t, n] = He.useState(Sr.isHandoffComplete);
  return t && Sr.isHandoffComplete === !1 && n(!1), He.useEffect(() => {
    t !== !0 && n(!0);
  }, [t]), He.useEffect(() => Sr.handoff(), []), e ? !1 : t;
}
var Nf;
let Ye = (Nf = I.useId) != null ? Nf : function() {
  let e = gs(), [t, n] = I.useState(e ? () => Sr.nextId() : null);
  return Le(() => {
    t === null && n(Sr.nextId());
  }, [t]), t != null ? "" + t : void 0;
};
function je(e, t, ...n) {
  if (e in t) {
    let o = t[e];
    return typeof o == "function" ? o(...n) : o;
  }
  let r = new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((o) => `"${o}"`).join(", ")}.`);
  throw Error.captureStackTrace && Error.captureStackTrace(r, je), r;
}
function Yr(e) {
  return Sr.isServer ? null : e instanceof Node ? e.ownerDocument : e != null && e.hasOwnProperty("current") && e.current instanceof Node ? e.current.ownerDocument : document;
}
let zu = ["[contentEditable=true]", "[tabindex]", "a[href]", "area[href]", "button:not([disabled])", "iframe", "input:not([disabled])", "select:not([disabled])", "textarea:not([disabled])"].map((e) => `${e}:not([tabindex='-1'])`).join(",");
var qe = ((e) => (e[e.First = 1] = "First", e[e.Previous = 2] = "Previous", e[e.Next = 4] = "Next", e[e.Last = 8] = "Last", e[e.WrapAround = 16] = "WrapAround", e[e.NoScroll = 32] = "NoScroll", e))(qe || {}), An = ((e) => (e[e.Error = 0] = "Error", e[e.Overflow = 1] = "Overflow", e[e.Success = 2] = "Success", e[e.Underflow = 3] = "Underflow", e))(An || {}), Pj = ((e) => (e[e.Previous = -1] = "Previous", e[e.Next = 1] = "Next", e))(Pj || {});
function $l(e = document.body) {
  return e == null ? [] : Array.from(e.querySelectorAll(zu)).sort((t, n) => Math.sign((t.tabIndex || Number.MAX_SAFE_INTEGER) - (n.tabIndex || Number.MAX_SAFE_INTEGER)));
}
var Nl = ((e) => (e[e.Strict = 0] = "Strict", e[e.Loose = 1] = "Loose", e))(Nl || {});
function Fd(e, t = 0) {
  var n;
  return e === ((n = Yr(e)) == null ? void 0 : n.body) ? !1 : je(t, { 0() {
    return e.matches(zu);
  }, 1() {
    let r = e;
    for (; r !== null; ) {
      if (r.matches(zu))
        return !0;
      r = r.parentElement;
    }
    return !1;
  } });
}
var Ej = ((e) => (e[e.Keyboard = 0] = "Keyboard", e[e.Mouse = 1] = "Mouse", e))(Ej || {});
typeof window < "u" && typeof document < "u" && (document.addEventListener("keydown", (e) => {
  e.metaKey || e.altKey || e.ctrlKey || (document.documentElement.dataset.headlessuiFocusVisible = "");
}, !0), document.addEventListener("click", (e) => {
  e.detail === 1 ? delete document.documentElement.dataset.headlessuiFocusVisible : e.detail === 0 && (document.documentElement.dataset.headlessuiFocusVisible = "");
}, !0));
function co(e) {
  e == null || e.focus({ preventScroll: !0 });
}
let _j = ["textarea", "input"].join(",");
function Oj(e) {
  var t, n;
  return (n = (t = e == null ? void 0 : e.matches) == null ? void 0 : t.call(e, _j)) != null ? n : !1;
}
function vr(e, t = (n) => n) {
  return e.slice().sort((n, r) => {
    let o = t(n), s = t(r);
    if (o === null || s === null)
      return 0;
    let i = o.compareDocumentPosition(s);
    return i & Node.DOCUMENT_POSITION_FOLLOWING ? -1 : i & Node.DOCUMENT_POSITION_PRECEDING ? 1 : 0;
  });
}
function xt(e, t, { sorted: n = !0, relativeTo: r = null, skipElements: o = [] } = {}) {
  let s = Array.isArray(e) ? e.length > 0 ? e[0].ownerDocument : document : e.ownerDocument, i = Array.isArray(e) ? n ? vr(e) : e : $l(e);
  o.length > 0 && i.length > 1 && (i = i.filter((h) => !o.includes(h))), r = r ?? s.activeElement;
  let a = (() => {
    if (t & 5)
      return 1;
    if (t & 10)
      return -1;
    throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last");
  })(), c = (() => {
    if (t & 1)
      return 0;
    if (t & 2)
      return Math.max(0, i.indexOf(r)) - 1;
    if (t & 4)
      return Math.max(0, i.indexOf(r)) + 1;
    if (t & 8)
      return i.length - 1;
    throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last");
  })(), u = t & 32 ? { preventScroll: !0 } : {}, d = 0, p = i.length, f;
  do {
    if (d >= p || d + p <= 0)
      return 0;
    let h = c + d;
    if (t & 16)
      h = (h + p) % p;
    else {
      if (h < 0)
        return 3;
      if (h >= p)
        return 1;
    }
    f = i[h], f == null || f.focus(u), d += a;
  } while (f !== s.activeElement);
  return t & 6 && Oj(f) && f.select(), 2;
}
function p1() {
  return /iPhone/gi.test(window.navigator.platform) || /Mac/gi.test(window.navigator.platform) && window.navigator.maxTouchPoints > 0;
}
function Tj() {
  return /Android/gi.test(window.navigator.userAgent);
}
function f1() {
  return p1() || Tj();
}
function sa(e, t, n) {
  let r = wt(t);
  W(() => {
    function o(s) {
      r.current(s);
    }
    return document.addEventListener(e, o, n), () => document.removeEventListener(e, o, n);
  }, [e, n]);
}
function h1(e, t, n) {
  let r = wt(t);
  W(() => {
    function o(s) {
      r.current(s);
    }
    return window.addEventListener(e, o, n), () => window.removeEventListener(e, o, n);
  }, [e, n]);
}
function Rl(e, t, n = !0) {
  let r = G(!1);
  W(() => {
    requestAnimationFrame(() => {
      r.current = n;
    });
  }, [n]);
  function o(i, a) {
    if (!r.current || i.defaultPrevented)
      return;
    let c = a(i);
    if (c === null || !c.getRootNode().contains(c) || !c.isConnected)
      return;
    let u = function d(p) {
      return typeof p == "function" ? d(p()) : Array.isArray(p) || p instanceof Set ? p : [p];
    }(e);
    for (let d of u) {
      if (d === null)
        continue;
      let p = d instanceof HTMLElement ? d : d.current;
      if (p != null && p.contains(c) || i.composed && i.composedPath().includes(p))
        return;
    }
    return !Fd(c, Nl.Loose) && c.tabIndex !== -1 && i.preventDefault(), t(i, c);
  }
  let s = G(null);
  sa("pointerdown", (i) => {
    var a, c;
    r.current && (s.current = ((c = (a = i.composedPath) == null ? void 0 : a.call(i)) == null ? void 0 : c[0]) || i.target);
  }, !0), sa("mousedown", (i) => {
    var a, c;
    r.current && (s.current = ((c = (a = i.composedPath) == null ? void 0 : a.call(i)) == null ? void 0 : c[0]) || i.target);
  }, !0), sa("click", (i) => {
    f1() || s.current && (o(i, () => s.current), s.current = null);
  }, !0), sa("touchend", (i) => o(i, () => i.target instanceof HTMLElement ? i.target : null), !0), h1("blur", (i) => o(i, () => window.document.activeElement instanceof HTMLIFrameElement ? window.document.activeElement : null), !0);
}
function Tr(...e) {
  return oe(() => Yr(...e), [...e]);
}
function Rf(e) {
  var t;
  if (e.type)
    return e.type;
  let n = (t = e.as) != null ? t : "button";
  if (typeof n == "string" && n.toLowerCase() === "button")
    return "button";
}
function ms(e, t) {
  let [n, r] = U(() => Rf(e));
  return Le(() => {
    r(Rf(e));
  }, [e.type, e.as]), Le(() => {
    n || t.current && t.current instanceof HTMLButtonElement && !t.current.hasAttribute("type") && r("button");
  }, [n, t]), n;
}
let g1 = Symbol();
function Ud(e, t = !0) {
  return Object.assign(e, { [g1]: t });
}
function Te(...e) {
  let t = G(e);
  W(() => {
    t.current = e;
  }, [e]);
  let n = Z((r) => {
    for (let o of t.current)
      o != null && (typeof o == "function" ? o(r) : o.current = r);
  });
  return e.every((r) => r == null || (r == null ? void 0 : r[g1])) ? void 0 : n;
}
function Df(e) {
  return [e.screenX, e.screenY];
}
function m1() {
  let e = G([-1, -1]);
  return { wasMoved(t) {
    let n = Df(t);
    return e.current[0] === n[0] && e.current[1] === n[1] ? !1 : (e.current = n, !0);
  }, update(t) {
    e.current = Df(t);
  } };
}
function v1({ container: e, accept: t, walk: n, enabled: r = !0 }) {
  let o = G(t), s = G(n);
  W(() => {
    o.current = t, s.current = n;
  }, [t, n]), Le(() => {
    if (!e || !r)
      return;
    let i = Yr(e);
    if (!i)
      return;
    let a = o.current, c = s.current, u = Object.assign((p) => a(p), { acceptNode: a }), d = i.createTreeWalker(e, NodeFilter.SHOW_ELEMENT, u, !1);
    for (; d.nextNode(); )
      c(d.currentNode);
  }, [e, r, o, s]);
}
function vi(e, t) {
  let n = G([]), r = Z(e);
  W(() => {
    let o = [...n.current];
    for (let [s, i] of t.entries())
      if (n.current[s] !== i) {
        let a = r(t, o);
        return n.current = t, a;
      }
  }, [r, ...t]);
}
function Ja(...e) {
  return Array.from(new Set(e.flatMap((t) => typeof t == "string" ? t.split(" ") : []))).filter(Boolean).join(" ");
}
var Rt = ((e) => (e[e.None = 0] = "None", e[e.RenderStrategy = 1] = "RenderStrategy", e[e.Static = 2] = "Static", e))(Rt || {}), Ir = ((e) => (e[e.Unmount = 0] = "Unmount", e[e.Hidden = 1] = "Hidden", e))(Ir || {});
function Pe({ ourProps: e, theirProps: t, slot: n, defaultTag: r, features: o, visible: s = !0, name: i, mergeRefs: a }) {
  a = a ?? Aj;
  let c = b1(t, e);
  if (s)
    return ia(c, n, r, i, a);
  let u = o ?? 0;
  if (u & 2) {
    let { static: d = !1, ...p } = c;
    if (d)
      return ia(p, n, r, i, a);
  }
  if (u & 1) {
    let { unmount: d = !0, ...p } = c;
    return je(d ? 0 : 1, { 0() {
      return null;
    }, 1() {
      return ia({ ...p, hidden: !0, style: { display: "none" } }, n, r, i, a);
    } });
  }
  return ia(c, n, r, i, a);
}
function ia(e, t = {}, n, r, o) {
  let { as: s = n, children: i, refName: a = "ref", ...c } = Mc(e, ["unmount", "static"]), u = e.ref !== void 0 ? { [a]: e.ref } : {}, d = typeof i == "function" ? i(t) : i;
  "className" in c && c.className && typeof c.className == "function" && (c.className = c.className(t));
  let p = {};
  if (t) {
    let f = !1, h = [];
    for (let [v, g] of Object.entries(t))
      typeof g == "boolean" && (f = !0), g === !0 && h.push(v);
    f && (p["data-headlessui-state"] = h.join(" "));
  }
  if (s === bt && Object.keys(is(c)).length > 0) {
    if (!M0(d) || Array.isArray(d) && d.length > 1)
      throw new Error(['Passing props on "Fragment"!', "", `The current component <${r} /> is rendering a "Fragment".`, "However we need to passthrough the following props:", Object.keys(c).map((g) => `  - ${g}`).join(`
`), "", "You can apply a few solutions:", ['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".', "Render a single element as the child so that we can forward the props onto that element."].map((g) => `  - ${g}`).join(`
`)].join(`
`));
    let f = d.props, h = typeof (f == null ? void 0 : f.className) == "function" ? (...g) => Ja(f == null ? void 0 : f.className(...g), c.className) : Ja(f == null ? void 0 : f.className, c.className), v = h ? { className: h } : {};
    return $0(d, Object.assign({}, b1(d.props, is(Mc(c, ["ref"]))), p, u, { ref: o(d.ref, u.ref) }, v));
  }
  return ci(s, Object.assign({}, Mc(c, ["ref"]), s !== bt && u, s !== bt && p), d);
}
function Wd() {
  let e = G([]), t = it((n) => {
    for (let r of e.current)
      r != null && (typeof r == "function" ? r(n) : r.current = n);
  }, []);
  return (...n) => {
    if (!n.every((r) => r == null))
      return e.current = n, t;
  };
}
function Aj(...e) {
  return e.every((t) => t == null) ? void 0 : (t) => {
    for (let n of e)
      n != null && (typeof n == "function" ? n(t) : n.current = t);
  };
}
function b1(...e) {
  if (e.length === 0)
    return {};
  if (e.length === 1)
    return e[0];
  let t = {}, n = {};
  for (let r of e)
    for (let o in r)
      o.startsWith("on") && typeof r[o] == "function" ? (n[o] != null || (n[o] = []), n[o].push(r[o])) : t[o] = r[o];
  if (t.disabled || t["aria-disabled"])
    return Object.assign(t, Object.fromEntries(Object.keys(n).map((r) => [r, void 0])));
  for (let r in n)
    Object.assign(t, { [r](o, ...s) {
      let i = n[r];
      for (let a of i) {
        if ((o instanceof Event || (o == null ? void 0 : o.nativeEvent) instanceof Event) && o.defaultPrevented)
          return;
        a(o, ...s);
      }
    } });
  return t;
}
function Ee(e) {
  var t;
  return Object.assign(Mt(e), { displayName: (t = e.displayName) != null ? t : e.name });
}
function is(e) {
  let t = Object.assign({}, e);
  for (let n in t)
    t[n] === void 0 && delete t[n];
  return t;
}
function Mc(e, t = []) {
  let n = Object.assign({}, e);
  for (let r of t)
    r in n && delete n[r];
  return n;
}
let Lj = "div";
var nn = ((e) => (e[e.None = 1] = "None", e[e.Focusable = 2] = "Focusable", e[e.Hidden = 4] = "Hidden", e))(nn || {});
function kj(e, t) {
  var n;
  let { features: r = 1, ...o } = e, s = { ref: t, "aria-hidden": (r & 2) === 2 ? !0 : (n = o["aria-hidden"]) != null ? n : void 0, hidden: (r & 4) === 4 ? !0 : void 0, style: { position: "fixed", top: 1, left: 1, width: 1, height: 0, padding: 0, margin: -1, overflow: "hidden", clip: "rect(0, 0, 0, 0)", whiteSpace: "nowrap", borderWidth: "0", ...(r & 4) === 4 && (r & 2) !== 2 && { display: "none" } } };
  return Pe({ ourProps: s, theirProps: o, slot: {}, defaultTag: Lj, name: "Hidden" });
}
let rn = Ee(kj), Gd = De(null);
Gd.displayName = "OpenClosedContext";
var Ge = ((e) => (e[e.Open = 1] = "Open", e[e.Closed = 2] = "Closed", e[e.Closing = 4] = "Closing", e[e.Opening = 8] = "Opening", e))(Ge || {});
function Xr() {
  return Oe(Gd);
}
function Di({ value: e, children: t }) {
  return I.createElement(Gd.Provider, { value: e }, t);
}
function Mj(e) {
  function t() {
    document.readyState !== "loading" && (e(), document.removeEventListener("DOMContentLoaded", t));
  }
  typeof window < "u" && typeof document < "u" && (document.addEventListener("DOMContentLoaded", t), t());
}
let Yn = [];
Mj(() => {
  function e(t) {
    t.target instanceof HTMLElement && t.target !== document.body && Yn[0] !== t.target && (Yn.unshift(t.target), Yn = Yn.filter((n) => n != null && n.isConnected), Yn.splice(10));
  }
  window.addEventListener("click", e, { capture: !0 }), window.addEventListener("mousedown", e, { capture: !0 }), window.addEventListener("focus", e, { capture: !0 }), document.body.addEventListener("click", e, { capture: !0 }), document.body.addEventListener("mousedown", e, { capture: !0 }), document.body.addEventListener("focus", e, { capture: !0 });
});
function Cr(e) {
  let t = e.parentElement, n = null;
  for (; t && !(t instanceof HTMLFieldSetElement); )
    t instanceof HTMLLegendElement && (n = t), t = t.parentElement;
  let r = (t == null ? void 0 : t.getAttribute("disabled")) === "";
  return r && $j(n) ? !1 : r;
}
function $j(e) {
  if (!e)
    return !1;
  let t = e.previousElementSibling;
  for (; t !== null; ) {
    if (t instanceof HTMLLegendElement)
      return !1;
    t = t.previousElementSibling;
  }
  return !0;
}
function Nj(e) {
  throw new Error("Unexpected object: " + e);
}
var Ue = ((e) => (e[e.First = 0] = "First", e[e.Previous = 1] = "Previous", e[e.Next = 2] = "Next", e[e.Last = 3] = "Last", e[e.Specific = 4] = "Specific", e[e.Nothing = 5] = "Nothing", e))(Ue || {});
function Fu(e, t) {
  let n = t.resolveItems();
  if (n.length <= 0)
    return null;
  let r = t.resolveActiveIndex(), o = r ?? -1;
  switch (e.focus) {
    case 0: {
      for (let s = 0; s < n.length; ++s)
        if (!t.resolveDisabled(n[s], s, n))
          return s;
      return r;
    }
    case 1: {
      for (let s = o - 1; s >= 0; --s)
        if (!t.resolveDisabled(n[s], s, n))
          return s;
      return r;
    }
    case 2: {
      for (let s = o + 1; s < n.length; ++s)
        if (!t.resolveDisabled(n[s], s, n))
          return s;
      return r;
    }
    case 3: {
      for (let s = n.length - 1; s >= 0; --s)
        if (!t.resolveDisabled(n[s], s, n))
          return s;
      return r;
    }
    case 4: {
      for (let s = 0; s < n.length; ++s)
        if (t.resolveId(n[s], s, n) === e.id)
          return s;
      return r;
    }
    case 5:
      return null;
    default:
      Nj(e);
  }
}
function Dl(e = {}, t = null, n = []) {
  for (let [r, o] of Object.entries(e))
    x1(n, y1(t, r), o);
  return n;
}
function y1(e, t) {
  return e ? e + "[" + t + "]" : t;
}
function x1(e, t, n) {
  if (Array.isArray(n))
    for (let [r, o] of n.entries())
      x1(e, y1(t, r.toString()), o);
  else
    n instanceof Date ? e.push([t, n.toISOString()]) : typeof n == "boolean" ? e.push([t, n ? "1" : "0"]) : typeof n == "string" ? e.push([t, n]) : typeof n == "number" ? e.push([t, `${n}`]) : n == null ? e.push([t, ""]) : Dl(n, t, e);
}
function w1(e) {
  var t, n;
  let r = (t = e == null ? void 0 : e.form) != null ? t : e.closest("form");
  if (r) {
    for (let o of r.elements)
      if (o !== e && (o.tagName === "INPUT" && o.type === "submit" || o.tagName === "BUTTON" && o.type === "submit" || o.nodeName === "INPUT" && o.type === "image")) {
        o.click();
        return;
      }
    (n = r.requestSubmit) == null || n.call(r);
  }
}
var he = ((e) => (e.Space = " ", e.Enter = "Enter", e.Escape = "Escape", e.Backspace = "Backspace", e.Delete = "Delete", e.ArrowLeft = "ArrowLeft", e.ArrowUp = "ArrowUp", e.ArrowRight = "ArrowRight", e.ArrowDown = "ArrowDown", e.Home = "Home", e.End = "End", e.PageUp = "PageUp", e.PageDown = "PageDown", e.Tab = "Tab", e))(he || {}), Rj = ((e) => (e[e.Open = 0] = "Open", e[e.Closed = 1] = "Closed", e))(Rj || {}), Dj = ((e) => (e[e.Single = 0] = "Single", e[e.Multi = 1] = "Multi", e))(Dj || {}), Ij = ((e) => (e[e.Pointer = 0] = "Pointer", e[e.Focus = 1] = "Focus", e[e.Other = 2] = "Other", e))(Ij || {}), Vj = ((e) => (e[e.OpenCombobox = 0] = "OpenCombobox", e[e.CloseCombobox = 1] = "CloseCombobox", e[e.GoToOption = 2] = "GoToOption", e[e.RegisterOption = 3] = "RegisterOption", e[e.UnregisterOption = 4] = "UnregisterOption", e[e.RegisterLabel = 5] = "RegisterLabel", e[e.SetActivationTrigger = 6] = "SetActivationTrigger", e[e.UpdateVirtualOptions = 7] = "UpdateVirtualOptions", e))(Vj || {});
function $c(e, t = (n) => n) {
  let n = e.activeOptionIndex !== null ? e.options[e.activeOptionIndex] : null, r = t(e.options.slice()), o = r.length > 0 && r[0].dataRef.current.order !== null ? r.sort((i, a) => i.dataRef.current.order - a.dataRef.current.order) : vr(r, (i) => i.dataRef.current.domRef.current), s = n ? o.indexOf(n) : null;
  return s === -1 && (s = null), { options: o, activeOptionIndex: s };
}
let Hj = { 1(e) {
  var t;
  return (t = e.dataRef.current) != null && t.disabled || e.comboboxState === 1 ? e : { ...e, activeOptionIndex: null, comboboxState: 1 };
}, 0(e) {
  var t, n;
  if ((t = e.dataRef.current) != null && t.disabled || e.comboboxState === 0)
    return e;
  if ((n = e.dataRef.current) != null && n.value) {
    let r = e.dataRef.current.calculateIndex(e.dataRef.current.value);
    if (r !== -1)
      return { ...e, activeOptionIndex: r, comboboxState: 0 };
  }
  return { ...e, comboboxState: 0 };
}, 2(e, t) {
  var n, r, o, s, i;
  if ((n = e.dataRef.current) != null && n.disabled || (r = e.dataRef.current) != null && r.optionsRef.current && !((o = e.dataRef.current) != null && o.optionsPropsRef.current.static) && e.comboboxState === 1)
    return e;
  if (e.virtual) {
    let d = t.focus === Ue.Specific ? t.idx : Fu(t, { resolveItems: () => e.virtual.options, resolveActiveIndex: () => {
      var f, h;
      return (h = (f = e.activeOptionIndex) != null ? f : e.virtual.options.findIndex((v) => !e.virtual.disabled(v))) != null ? h : null;
    }, resolveDisabled: e.virtual.disabled, resolveId() {
      throw new Error("Function not implemented.");
    } }), p = (s = t.trigger) != null ? s : 2;
    return e.activeOptionIndex === d && e.activationTrigger === p ? e : { ...e, activeOptionIndex: d, activationTrigger: p };
  }
  let a = $c(e);
  if (a.activeOptionIndex === null) {
    let d = a.options.findIndex((p) => !p.dataRef.current.disabled);
    d !== -1 && (a.activeOptionIndex = d);
  }
  let c = t.focus === Ue.Specific ? t.idx : Fu(t, { resolveItems: () => a.options, resolveActiveIndex: () => a.activeOptionIndex, resolveId: (d) => d.id, resolveDisabled: (d) => d.dataRef.current.disabled }), u = (i = t.trigger) != null ? i : 2;
  return e.activeOptionIndex === c && e.activationTrigger === u ? e : { ...e, ...a, activeOptionIndex: c, activationTrigger: u };
}, 3: (e, t) => {
  var n, r, o;
  if ((n = e.dataRef.current) != null && n.virtual)
    return { ...e, options: [...e.options, t.payload] };
  let s = t.payload, i = $c(e, (c) => (c.push(s), c));
  e.activeOptionIndex === null && (r = e.dataRef.current) != null && r.isSelected(t.payload.dataRef.current.value) && (i.activeOptionIndex = i.options.indexOf(s));
  let a = { ...e, ...i, activationTrigger: 2 };
  return (o = e.dataRef.current) != null && o.__demoMode && e.dataRef.current.value === void 0 && (a.activeOptionIndex = 0), a;
}, 4: (e, t) => {
  var n;
  if ((n = e.dataRef.current) != null && n.virtual)
    return { ...e, options: e.options.filter((o) => o.id !== t.id) };
  let r = $c(e, (o) => {
    let s = o.findIndex((i) => i.id === t.id);
    return s !== -1 && o.splice(s, 1), o;
  });
  return { ...e, ...r, activationTrigger: 2 };
}, 5: (e, t) => e.labelId === t.id ? e : { ...e, labelId: t.id }, 6: (e, t) => e.activationTrigger === t.trigger ? e : { ...e, activationTrigger: t.trigger }, 7: (e, t) => {
  var n;
  if (((n = e.virtual) == null ? void 0 : n.options) === t.options)
    return e;
  let r = e.activeOptionIndex;
  if (e.activeOptionIndex !== null) {
    let o = t.options.indexOf(e.virtual.options[e.activeOptionIndex]);
    o !== -1 ? r = o : r = null;
  }
  return { ...e, activeOptionIndex: r, virtual: Object.assign({}, e.virtual, { options: t.options }) };
} }, Kd = De(null);
Kd.displayName = "ComboboxActionsContext";
function Ii(e) {
  let t = Oe(Kd);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Combobox /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, Ii), n;
  }
  return t;
}
let S1 = De(null);
function Bj(e) {
  var t;
  let n = _o("VirtualProvider"), [r, o] = oe(() => {
    let c = n.optionsRef.current;
    if (!c)
      return [0, 0];
    let u = window.getComputedStyle(c);
    return [parseFloat(u.paddingBlockStart || u.paddingTop), parseFloat(u.paddingBlockEnd || u.paddingBottom)];
  }, [n.optionsRef.current]), s = xj({ scrollPaddingStart: r, scrollPaddingEnd: o, count: n.virtual.options.length, estimateSize() {
    return 40;
  }, getScrollElement() {
    var c;
    return (c = n.optionsRef.current) != null ? c : null;
  }, overscan: 12 }), [i, a] = U(0);
  return Le(() => {
    a((c) => c + 1);
  }, [(t = n.virtual) == null ? void 0 : t.options]), I.createElement(S1.Provider, { value: s }, I.createElement("div", { style: { position: "relative", width: "100%", height: `${s.getTotalSize()}px` }, ref: (c) => {
    if (c) {
      if (typeof process < "u" && { NODE_ENV: "production", NPM_PACKAGE_VERSION: "1.0.0", STUDIO_NPM_PACKAGE_VERSION: "1.0.31" }.JEST_WORKER_ID !== void 0 || n.activationTrigger === 0)
        return;
      n.activeOptionIndex !== null && n.virtual.options.length > n.activeOptionIndex && s.scrollToIndex(n.activeOptionIndex);
    }
  } }, s.getVirtualItems().map((c) => {
    var u;
    return I.createElement(bt, { key: c.key }, I.cloneElement((u = e.children) == null ? void 0 : u.call(e, { option: n.virtual.options[c.index], open: n.comboboxState === 0 }), { key: `${i}-${c.key}`, "data-index": c.index, "aria-setsize": n.virtual.options.length, "aria-posinset": c.index + 1, style: { position: "absolute", top: 0, left: 0, transform: `translateY(${c.start}px)`, overflowAnchor: "none" } }));
  })));
}
let qd = De(null);
qd.displayName = "ComboboxDataContext";
function _o(e) {
  let t = Oe(qd);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Combobox /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, _o), n;
  }
  return t;
}
function zj(e, t) {
  return je(t.type, Hj, e, t);
}
let Fj = bt;
function Uj(e, t) {
  let { value: n, defaultValue: r, onChange: o, form: s, name: i, by: a = null, disabled: c = !1, __demoMode: u = !1, nullable: d = !1, multiple: p = !1, immediate: f = !1, virtual: h = null, ...v } = e, g = !1, b = null, [m = p ? [] : void 0, y] = Ml(n, o, r), [x, w] = Gr(zj, { dataRef: ui(), comboboxState: u ? 0 : 1, options: [], virtual: null, activeOptionIndex: null, activationTrigger: 2, labelId: null }), S = G(!1), j = G({ static: !1, hold: !1 }), E = G(null), C = G(null), P = G(null), _ = G(null), O = Z(typeof a == "string" ? (ee, pe) => {
    let ae = a;
    return (ee == null ? void 0 : ee[ae]) === (pe == null ? void 0 : pe[ae]);
  } : a ?? ((ee, pe) => ee === pe)), k = Z((ee) => x.options.findIndex((pe) => O(pe.dataRef.current.value, ee))), z = it((ee) => je(A.mode, { 1: () => m.some((pe) => O(pe, ee)), 0: () => O(m, ee) }), [m]), F = Z((ee) => x.activeOptionIndex === k(ee)), A = oe(() => ({ ...x, immediate: g, optionsPropsRef: j, labelRef: E, inputRef: C, buttonRef: P, optionsRef: _, value: m, defaultValue: r, disabled: c, mode: p ? 1 : 0, virtual: x.virtual, get activeOptionIndex() {
    if (S.current && x.activeOptionIndex === null && x.options.length > 0) {
      let ee = x.options.findIndex((pe) => !pe.dataRef.current.disabled);
      if (ee !== -1)
        return ee;
    }
    return x.activeOptionIndex;
  }, calculateIndex: k, compare: O, isSelected: z, isActive: F, nullable: d, __demoMode: u }), [m, r, c, p, d, u, x, b]);
  Le(() => {
  }, [b, void 0]), Le(() => {
    x.dataRef.current = A;
  }, [A]), Rl([A.buttonRef, A.inputRef, A.optionsRef], () => ne.closeCombobox(), A.comboboxState === 0);
  let T = oe(() => {
    var ee, pe, ae;
    return { open: A.comboboxState === 0, disabled: c, activeIndex: A.activeOptionIndex, activeOption: A.activeOptionIndex === null ? null : A.virtual ? A.virtual.options[(ee = A.activeOptionIndex) != null ? ee : 0] : (ae = (pe = A.options[A.activeOptionIndex]) == null ? void 0 : pe.dataRef.current.value) != null ? ae : null, value: m };
  }, [A, c, m]), D = Z(() => {
    if (A.activeOptionIndex !== null) {
      if (A.virtual)
        ie(A.virtual.options[A.activeOptionIndex]);
      else {
        let { dataRef: ee } = A.options[A.activeOptionIndex];
        ie(ee.current.value);
      }
      ne.goToOption(Ue.Specific, A.activeOptionIndex);
    }
  }), M = Z(() => {
    w({ type: 0 }), S.current = !0;
  }), N = Z(() => {
    w({ type: 1 }), S.current = !1;
  }), V = Z((ee, pe, ae) => (S.current = !1, ee === Ue.Specific ? w({ type: 2, focus: Ue.Specific, idx: pe, trigger: ae }) : w({ type: 2, focus: ee, trigger: ae }))), K = Z((ee, pe) => (w({ type: 3, payload: { id: ee, dataRef: pe } }), () => {
    A.isActive(pe.current.value) && (S.current = !0), w({ type: 4, id: ee });
  })), J = Z((ee) => (w({ type: 5, id: ee }), () => w({ type: 5, id: null }))), ie = Z((ee) => je(A.mode, { 0() {
    return y == null ? void 0 : y(ee);
  }, 1() {
    let pe = A.value.slice(), ae = pe.findIndex((we) => O(we, ee));
    return ae === -1 ? pe.push(ee) : pe.splice(ae, 1), y == null ? void 0 : y(pe);
  } })), X = Z((ee) => {
    w({ type: 6, trigger: ee });
  }), ne = oe(() => ({ onChange: ie, registerOption: K, registerLabel: J, goToOption: V, closeCombobox: N, openCombobox: M, setActivationTrigger: X, selectActiveOption: D }), []), fe = t === null ? {} : { ref: t }, se = G(null), q = wn();
  return W(() => {
    se.current && r !== void 0 && q.addEventListener(se.current, "reset", () => {
      y == null || y(r);
    });
  }, [se, y]), I.createElement(Kd.Provider, { value: ne }, I.createElement(qd.Provider, { value: A }, I.createElement(Di, { value: je(A.comboboxState, { 0: Ge.Open, 1: Ge.Closed }) }, i != null && m != null && Dl({ [i]: m }).map(([ee, pe], ae) => I.createElement(rn, { features: nn.Hidden, ref: ae === 0 ? (we) => {
    var Ce;
    se.current = (Ce = we == null ? void 0 : we.closest("form")) != null ? Ce : null;
  } : void 0, ...is({ key: ee, as: "input", type: "hidden", hidden: !0, readOnly: !0, form: s, disabled: c, name: ee, value: pe }) })), Pe({ ourProps: fe, theirProps: v, slot: T, defaultTag: Fj, name: "Combobox" }))));
}
let Wj = "input";
function Gj(e, t) {
  var n, r, o, s, i;
  let a = Ye(), { id: c = `headlessui-combobox-input-${a}`, onChange: u, displayValue: d, type: p = "text", ...f } = e, h = _o("Combobox.Input"), v = Ii("Combobox.Input"), g = Te(h.inputRef, t), b = Tr(h.inputRef), m = G(!1), y = wn(), x = Z(() => {
    v.onChange(null), h.optionsRef.current && (h.optionsRef.current.scrollTop = 0), v.goToOption(Ue.Nothing);
  }), w = function() {
    var A;
    return typeof d == "function" && h.value !== void 0 ? (A = d(h.value)) != null ? A : "" : typeof h.value == "string" ? h.value : "";
  }();
  vi(([A, T], [D, M]) => {
    if (m.current)
      return;
    let N = h.inputRef.current;
    N && ((M === 0 && T === 1 || A !== D) && (N.value = A), requestAnimationFrame(() => {
      if (m.current || !N || (b == null ? void 0 : b.activeElement) !== N)
        return;
      let { selectionStart: V, selectionEnd: K } = N;
      Math.abs((K ?? 0) - (V ?? 0)) === 0 && V === 0 && N.setSelectionRange(N.value.length, N.value.length);
    }));
  }, [w, h.comboboxState, b]), vi(([A], [T]) => {
    if (A === 0 && T === 1) {
      if (m.current)
        return;
      let D = h.inputRef.current;
      if (!D)
        return;
      let M = D.value, { selectionStart: N, selectionEnd: V, selectionDirection: K } = D;
      D.value = "", D.value = M, K !== null ? D.setSelectionRange(N, V, K) : D.setSelectionRange(N, V);
    }
  }, [h.comboboxState]);
  let S = G(!1), j = Z(() => {
    S.current = !0;
  }), E = Z(() => {
    y.nextFrame(() => {
      S.current = !1;
    });
  }), C = Z((A) => {
    switch (m.current = !0, A.key) {
      case he.Enter:
        if (m.current = !1, h.comboboxState !== 0 || S.current)
          return;
        if (A.preventDefault(), A.stopPropagation(), h.activeOptionIndex === null) {
          v.closeCombobox();
          return;
        }
        v.selectActiveOption(), h.mode === 0 && v.closeCombobox();
        break;
      case he.ArrowDown:
        return m.current = !1, A.preventDefault(), A.stopPropagation(), je(h.comboboxState, { 0: () => v.goToOption(Ue.Next), 1: () => v.openCombobox() });
      case he.ArrowUp:
        return m.current = !1, A.preventDefault(), A.stopPropagation(), je(h.comboboxState, { 0: () => v.goToOption(Ue.Previous), 1: () => {
          v.openCombobox(), y.nextFrame(() => {
            h.value || v.goToOption(Ue.Last);
          });
        } });
      case he.Home:
        if (A.shiftKey)
          break;
        return m.current = !1, A.preventDefault(), A.stopPropagation(), v.goToOption(Ue.First);
      case he.PageUp:
        return m.current = !1, A.preventDefault(), A.stopPropagation(), v.goToOption(Ue.First);
      case he.End:
        if (A.shiftKey)
          break;
        return m.current = !1, A.preventDefault(), A.stopPropagation(), v.goToOption(Ue.Last);
      case he.PageDown:
        return m.current = !1, A.preventDefault(), A.stopPropagation(), v.goToOption(Ue.Last);
      case he.Escape:
        return m.current = !1, h.comboboxState !== 0 ? void 0 : (A.preventDefault(), h.optionsRef.current && !h.optionsPropsRef.current.static && A.stopPropagation(), h.nullable && h.mode === 0 && h.value === null && x(), v.closeCombobox());
      case he.Tab:
        if (m.current = !1, h.comboboxState !== 0)
          return;
        h.mode === 0 && h.activationTrigger !== 1 && v.selectActiveOption(), v.closeCombobox();
        break;
    }
  }), P = Z((A) => {
    u == null || u(A), h.nullable && h.mode === 0 && A.target.value === "" && x(), v.openCombobox();
  }), _ = Z((A) => {
    var T, D, M;
    let N = (T = A.relatedTarget) != null ? T : Yn.find((V) => V !== A.currentTarget);
    if (m.current = !1, !((D = h.optionsRef.current) != null && D.contains(N)) && !((M = h.buttonRef.current) != null && M.contains(N)) && h.comboboxState === 0)
      return A.preventDefault(), h.mode === 0 && (h.nullable && h.value === null ? x() : h.activationTrigger !== 1 && v.selectActiveOption()), v.closeCombobox();
  }), O = Z((A) => {
    var T, D, M;
    let N = (T = A.relatedTarget) != null ? T : Yn.find((V) => V !== A.currentTarget);
    (D = h.buttonRef.current) != null && D.contains(N) || (M = h.optionsRef.current) != null && M.contains(N) || h.disabled || h.immediate && h.comboboxState !== 0 && (v.openCombobox(), y.nextFrame(() => {
      v.setActivationTrigger(1);
    }));
  }), k = Ni(() => {
    if (h.labelId)
      return [h.labelId].join(" ");
  }, [h.labelId]), z = oe(() => ({ open: h.comboboxState === 0, disabled: h.disabled }), [h]), F = { ref: g, id: c, role: "combobox", type: p, "aria-controls": (n = h.optionsRef.current) == null ? void 0 : n.id, "aria-expanded": h.comboboxState === 0, "aria-activedescendant": h.activeOptionIndex === null ? void 0 : h.virtual ? (r = h.options.find((A) => {
    var T;
    return !((T = h.virtual) != null && T.disabled(A.dataRef.current.value)) && h.compare(A.dataRef.current.value, h.virtual.options[h.activeOptionIndex]);
  })) == null ? void 0 : r.id : (o = h.options[h.activeOptionIndex]) == null ? void 0 : o.id, "aria-labelledby": k, "aria-autocomplete": "list", defaultValue: (i = (s = e.defaultValue) != null ? s : h.defaultValue !== void 0 ? d == null ? void 0 : d(h.defaultValue) : null) != null ? i : h.defaultValue, disabled: h.disabled, onCompositionStart: j, onCompositionEnd: E, onKeyDown: C, onChange: P, onFocus: O, onBlur: _ };
  return Pe({ ourProps: F, theirProps: f, slot: z, defaultTag: Wj, name: "Combobox.Input" });
}
let Kj = "button";
function qj(e, t) {
  var n;
  let r = _o("Combobox.Button"), o = Ii("Combobox.Button"), s = Te(r.buttonRef, t), i = Ye(), { id: a = `headlessui-combobox-button-${i}`, ...c } = e, u = wn(), d = Z((g) => {
    switch (g.key) {
      case he.ArrowDown:
        return g.preventDefault(), g.stopPropagation(), r.comboboxState === 1 && o.openCombobox(), u.nextFrame(() => {
          var b;
          return (b = r.inputRef.current) == null ? void 0 : b.focus({ preventScroll: !0 });
        });
      case he.ArrowUp:
        return g.preventDefault(), g.stopPropagation(), r.comboboxState === 1 && (o.openCombobox(), u.nextFrame(() => {
          r.value || o.goToOption(Ue.Last);
        })), u.nextFrame(() => {
          var b;
          return (b = r.inputRef.current) == null ? void 0 : b.focus({ preventScroll: !0 });
        });
      case he.Escape:
        return r.comboboxState !== 0 ? void 0 : (g.preventDefault(), r.optionsRef.current && !r.optionsPropsRef.current.static && g.stopPropagation(), o.closeCombobox(), u.nextFrame(() => {
          var b;
          return (b = r.inputRef.current) == null ? void 0 : b.focus({ preventScroll: !0 });
        }));
      default:
        return;
    }
  }), p = Z((g) => {
    if (Cr(g.currentTarget))
      return g.preventDefault();
    r.comboboxState === 0 ? o.closeCombobox() : (g.preventDefault(), o.openCombobox()), u.nextFrame(() => {
      var b;
      return (b = r.inputRef.current) == null ? void 0 : b.focus({ preventScroll: !0 });
    });
  }), f = Ni(() => {
    if (r.labelId)
      return [r.labelId, a].join(" ");
  }, [r.labelId, a]), h = oe(() => ({ open: r.comboboxState === 0, disabled: r.disabled, value: r.value }), [r]), v = { ref: s, id: a, type: ms(e, r.buttonRef), tabIndex: -1, "aria-haspopup": "listbox", "aria-controls": (n = r.optionsRef.current) == null ? void 0 : n.id, "aria-expanded": r.comboboxState === 0, "aria-labelledby": f, disabled: r.disabled, onClick: p, onKeyDown: d };
  return Pe({ ourProps: v, theirProps: c, slot: h, defaultTag: Kj, name: "Combobox.Button" });
}
let Yj = "label";
function Xj(e, t) {
  let n = Ye(), { id: r = `headlessui-combobox-label-${n}`, ...o } = e, s = _o("Combobox.Label"), i = Ii("Combobox.Label"), a = Te(s.labelRef, t);
  Le(() => i.registerLabel(r), [r]);
  let c = Z(() => {
    var d;
    return (d = s.inputRef.current) == null ? void 0 : d.focus({ preventScroll: !0 });
  }), u = oe(() => ({ open: s.comboboxState === 0, disabled: s.disabled }), [s]);
  return Pe({ ourProps: { ref: a, id: r, onClick: c }, theirProps: o, slot: u, defaultTag: Yj, name: "Combobox.Label" });
}
let Zj = "ul", Jj = Rt.RenderStrategy | Rt.Static;
function Qj(e, t) {
  let n = Ye(), { id: r = `headlessui-combobox-options-${n}`, hold: o = !1, ...s } = e, i = _o("Combobox.Options"), a = Te(i.optionsRef, t), c = Xr(), u = (() => c !== null ? (c & Ge.Open) === Ge.Open : i.comboboxState === 0)();
  Le(() => {
    var h;
    i.optionsPropsRef.current.static = (h = e.static) != null ? h : !1;
  }, [i.optionsPropsRef, e.static]), Le(() => {
    i.optionsPropsRef.current.hold = o;
  }, [i.optionsPropsRef, o]), v1({ container: i.optionsRef.current, enabled: i.comboboxState === 0, accept(h) {
    return h.getAttribute("role") === "option" ? NodeFilter.FILTER_REJECT : h.hasAttribute("role") ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;
  }, walk(h) {
    h.setAttribute("role", "none");
  } });
  let d = Ni(() => {
    var h, v;
    return (v = i.labelId) != null ? v : (h = i.buttonRef.current) == null ? void 0 : h.id;
  }, [i.labelId, i.buttonRef.current]), p = oe(() => ({ open: i.comboboxState === 0, option: void 0 }), [i]), f = { "aria-labelledby": d, role: "listbox", "aria-multiselectable": i.mode === 1 ? !0 : void 0, id: r, ref: a };
  return i.virtual && i.comboboxState === 0 && Object.assign(s, { children: I.createElement(Bj, null, s.children) }), Pe({ ourProps: f, theirProps: s, slot: p, defaultTag: Zj, features: Jj, visible: u, name: "Combobox.Options" });
}
let e2 = "li";
function t2(e, t) {
  var n;
  let r = Ye(), { id: o = `headlessui-combobox-option-${r}`, disabled: s = !1, value: i, order: a = null, ...c } = e, u = _o("Combobox.Option"), d = Ii("Combobox.Option"), p = u.virtual ? u.activeOptionIndex === u.calculateIndex(i) : u.activeOptionIndex === null ? !1 : ((n = u.options[u.activeOptionIndex]) == null ? void 0 : n.id) === o, f = u.isSelected(i), h = G(null), v = wt({ disabled: s, value: i, domRef: h, order: a }), g = Oe(S1), b = Te(t, h, g ? g.measureElement : null), m = Z(() => d.onChange(i));
  Le(() => d.registerOption(o, v), [v, o]);
  let y = G(!(u.virtual || u.__demoMode));
  Le(() => {
    if (!u.virtual || !u.__demoMode)
      return;
    let _ = xn();
    return _.requestAnimationFrame(() => {
      y.current = !0;
    }), _.dispose;
  }, [u.virtual, u.__demoMode]), Le(() => {
    if (!y.current || u.comboboxState !== 0 || !p || u.activationTrigger === 0)
      return;
    let _ = xn();
    return _.requestAnimationFrame(() => {
      var O, k;
      (k = (O = h.current) == null ? void 0 : O.scrollIntoView) == null || k.call(O, { block: "nearest" });
    }), _.dispose;
  }, [h, p, u.comboboxState, u.activationTrigger, u.activeOptionIndex]);
  let x = Z((_) => {
    var O;
    if (s || (O = u.virtual) != null && O.disabled(i))
      return _.preventDefault();
    m(), f1() || requestAnimationFrame(() => {
      var k;
      return (k = u.inputRef.current) == null ? void 0 : k.focus({ preventScroll: !0 });
    }), u.mode === 0 && requestAnimationFrame(() => d.closeCombobox());
  }), w = Z(() => {
    var _;
    if (s || (_ = u.virtual) != null && _.disabled(i))
      return d.goToOption(Ue.Nothing);
    let O = u.calculateIndex(i);
    d.goToOption(Ue.Specific, O);
  }), S = m1(), j = Z((_) => S.update(_)), E = Z((_) => {
    var O;
    if (!S.wasMoved(_) || s || (O = u.virtual) != null && O.disabled(i) || p)
      return;
    let k = u.calculateIndex(i);
    d.goToOption(Ue.Specific, k, 0);
  }), C = Z((_) => {
    var O;
    S.wasMoved(_) && (s || (O = u.virtual) != null && O.disabled(i) || p && (u.optionsPropsRef.current.hold || d.goToOption(Ue.Nothing)));
  }), P = oe(() => ({ active: p, selected: f, disabled: s }), [p, f, s]);
  return Pe({ ourProps: { id: o, ref: b, role: "option", tabIndex: s === !0 ? void 0 : -1, "aria-disabled": s === !0 ? !0 : void 0, "aria-selected": f, disabled: void 0, onClick: x, onFocus: w, onPointerEnter: j, onMouseEnter: j, onPointerMove: E, onMouseMove: E, onPointerLeave: C, onMouseLeave: C }, theirProps: c, slot: P, defaultTag: e2, name: "Combobox.Option" });
}
let n2 = Ee(Uj), r2 = Ee(qj), o2 = Ee(Gj), s2 = Ee(Xj), i2 = Ee(Qj), a2 = Ee(t2), Do = Object.assign(n2, { Input: o2, Button: r2, Label: s2, Options: i2, Option: a2 });
function Yd(e, t, n, r) {
  let o = wt(n);
  W(() => {
    e = e ?? window;
    function s(i) {
      o.current(i);
    }
    return e.addEventListener(t, s, r), () => e.removeEventListener(t, s, r);
  }, [e, t, r]);
}
function vs() {
  let e = G(!1);
  return Le(() => (e.current = !0, () => {
    e.current = !1;
  }), []), e;
}
function j1(e) {
  let t = Z(e), n = G(!1);
  W(() => (n.current = !1, () => {
    n.current = !0, Ri(() => {
      n.current && t();
    });
  }), [t]);
}
var en = ((e) => (e[e.Forwards = 0] = "Forwards", e[e.Backwards = 1] = "Backwards", e))(en || {});
function Xd() {
  let e = G(0);
  return h1("keydown", (t) => {
    t.key === "Tab" && (e.current = t.shiftKey ? 1 : 0);
  }, !0), e;
}
function C1(e) {
  if (!e)
    return /* @__PURE__ */ new Set();
  if (typeof e == "function")
    return new Set(e());
  let t = /* @__PURE__ */ new Set();
  for (let n of e.current)
    n.current instanceof HTMLElement && t.add(n.current);
  return t;
}
let l2 = "div";
var P1 = ((e) => (e[e.None = 1] = "None", e[e.InitialFocus = 2] = "InitialFocus", e[e.TabLock = 4] = "TabLock", e[e.FocusLock = 8] = "FocusLock", e[e.RestoreFocus = 16] = "RestoreFocus", e[e.All = 30] = "All", e))(P1 || {});
function c2(e, t) {
  let n = G(null), r = Te(n, t), { initialFocus: o, containers: s, features: i = 30, ...a } = e;
  gs() || (i = 1);
  let c = Tr(n);
  p2({ ownerDocument: c }, !!(i & 16));
  let u = f2({ ownerDocument: c, container: n, initialFocus: o }, !!(i & 2));
  h2({ ownerDocument: c, container: n, containers: s, previousActiveElement: u }, !!(i & 8));
  let d = Xd(), p = Z((g) => {
    let b = n.current;
    b && ((m) => m())(() => {
      je(d.current, { [en.Forwards]: () => {
        xt(b, qe.First, { skipElements: [g.relatedTarget] });
      }, [en.Backwards]: () => {
        xt(b, qe.Last, { skipElements: [g.relatedTarget] });
      } });
    });
  }), f = wn(), h = G(!1), v = { ref: r, onKeyDown(g) {
    g.key == "Tab" && (h.current = !0, f.requestAnimationFrame(() => {
      h.current = !1;
    }));
  }, onBlur(g) {
    let b = C1(s);
    n.current instanceof HTMLElement && b.add(n.current);
    let m = g.relatedTarget;
    m instanceof HTMLElement && m.dataset.headlessuiFocusGuard !== "true" && (E1(b, m) || (h.current ? xt(n.current, je(d.current, { [en.Forwards]: () => qe.Next, [en.Backwards]: () => qe.Previous }) | qe.WrapAround, { relativeTo: g.target }) : g.target instanceof HTMLElement && co(g.target)));
  } };
  return I.createElement(I.Fragment, null, !!(i & 4) && I.createElement(rn, { as: "button", type: "button", "data-headlessui-focus-guard": !0, onFocus: p, features: nn.Focusable }), Pe({ ourProps: v, theirProps: a, defaultTag: l2, name: "FocusTrap" }), !!(i & 4) && I.createElement(rn, { as: "button", type: "button", "data-headlessui-focus-guard": !0, onFocus: p, features: nn.Focusable }));
}
let u2 = Ee(c2), ks = Object.assign(u2, { features: P1 });
function d2(e = !0) {
  let t = G(Yn.slice());
  return vi(([n], [r]) => {
    r === !0 && n === !1 && Ri(() => {
      t.current.splice(0);
    }), r === !1 && n === !0 && (t.current = Yn.slice());
  }, [e, Yn, t]), Z(() => {
    var n;
    return (n = t.current.find((r) => r != null && r.isConnected)) != null ? n : null;
  });
}
function p2({ ownerDocument: e }, t) {
  let n = d2(t);
  vi(() => {
    t || (e == null ? void 0 : e.activeElement) === (e == null ? void 0 : e.body) && co(n());
  }, [t]), j1(() => {
    t && co(n());
  });
}
function f2({ ownerDocument: e, container: t, initialFocus: n }, r) {
  let o = G(null), s = vs();
  return vi(() => {
    if (!r)
      return;
    let i = t.current;
    i && Ri(() => {
      if (!s.current)
        return;
      let a = e == null ? void 0 : e.activeElement;
      if (n != null && n.current) {
        if ((n == null ? void 0 : n.current) === a) {
          o.current = a;
          return;
        }
      } else if (i.contains(a)) {
        o.current = a;
        return;
      }
      n != null && n.current ? co(n.current) : xt(i, qe.First) === An.Error && console.warn("There are no focusable elements inside the <FocusTrap />"), o.current = e == null ? void 0 : e.activeElement;
    });
  }, [r]), o;
}
function h2({ ownerDocument: e, container: t, containers: n, previousActiveElement: r }, o) {
  let s = vs();
  Yd(e == null ? void 0 : e.defaultView, "focus", (i) => {
    if (!o || !s.current)
      return;
    let a = C1(n);
    t.current instanceof HTMLElement && a.add(t.current);
    let c = r.current;
    if (!c)
      return;
    let u = i.target;
    u && u instanceof HTMLElement ? E1(a, u) ? (r.current = u, co(u)) : (i.preventDefault(), i.stopPropagation(), co(c)) : co(r.current);
  }, !0);
}
function E1(e, t) {
  for (let n of e)
    if (n.contains(t))
      return !0;
  return !1;
}
let _1 = De(!1);
function g2() {
  return Oe(_1);
}
function Uu(e) {
  return I.createElement(_1.Provider, { value: e.force }, e.children);
}
function m2(e) {
  let t = g2(), n = Oe(O1), r = Tr(e), [o, s] = U(() => {
    if (!t && n !== null || Sr.isServer)
      return null;
    let i = r == null ? void 0 : r.getElementById("headlessui-portal-root");
    if (i)
      return i;
    if (r === null)
      return null;
    let a = r.createElement("div");
    return a.setAttribute("id", "headlessui-portal-root"), r.body.appendChild(a);
  });
  return W(() => {
    o !== null && (r != null && r.body.contains(o) || r == null || r.body.appendChild(o));
  }, [o, r]), W(() => {
    t || n !== null && s(n.current);
  }, [n, s, t]), o;
}
let v2 = bt;
function b2(e, t) {
  let n = e, r = G(null), o = Te(Ud((d) => {
    r.current = d;
  }), t), s = Tr(r), i = m2(r), [a] = U(() => {
    var d;
    return Sr.isServer ? null : (d = s == null ? void 0 : s.createElement("div")) != null ? d : null;
  }), c = Oe(Wu), u = gs();
  return Le(() => {
    !i || !a || i.contains(a) || (a.setAttribute("data-headlessui-portal", ""), i.appendChild(a));
  }, [i, a]), Le(() => {
    if (a && c)
      return c.register(a);
  }, [c, a]), j1(() => {
    var d;
    !i || !a || (a instanceof Node && i.contains(a) && i.removeChild(a), i.childNodes.length <= 0 && ((d = i.parentElement) == null || d.removeChild(i)));
  }), u ? !i || !a ? null : Ed(Pe({ ourProps: { ref: o }, theirProps: n, defaultTag: v2, name: "Portal" }), a) : null;
}
let y2 = bt, O1 = De(null);
function x2(e, t) {
  let { target: n, ...r } = e, o = { ref: Te(t) };
  return I.createElement(O1.Provider, { value: n }, Pe({ ourProps: o, theirProps: r, defaultTag: y2, name: "Popover.Group" }));
}
let Wu = De(null);
function T1() {
  let e = Oe(Wu), t = G([]), n = Z((s) => (t.current.push(s), e && e.register(s), () => r(s))), r = Z((s) => {
    let i = t.current.indexOf(s);
    i !== -1 && t.current.splice(i, 1), e && e.unregister(s);
  }), o = oe(() => ({ register: n, unregister: r, portals: t }), [n, r, t]);
  return [t, oe(() => function({ children: s }) {
    return I.createElement(Wu.Provider, { value: o }, s);
  }, [o])];
}
let w2 = Ee(b2), S2 = Ee(x2), Gu = Object.assign(w2, { Group: S2 });
function j2(e, t) {
  return e === t && (e !== 0 || 1 / e === 1 / t) || e !== e && t !== t;
}
const C2 = typeof Object.is == "function" ? Object.is : j2, { useState: P2, useEffect: E2, useLayoutEffect: _2, useDebugValue: O2 } = He;
function T2(e, t, n) {
  const r = t(), [{ inst: o }, s] = P2({ inst: { value: r, getSnapshot: t } });
  return _2(() => {
    o.value = r, o.getSnapshot = t, Nc(o) && s({ inst: o });
  }, [e, r, t]), E2(() => (Nc(o) && s({ inst: o }), e(() => {
    Nc(o) && s({ inst: o });
  })), [e]), O2(r), r;
}
function Nc(e) {
  const t = e.getSnapshot, n = e.value;
  try {
    const r = t();
    return !C2(n, r);
  } catch {
    return !0;
  }
}
function A2(e, t, n) {
  return t();
}
const L2 = typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u", k2 = !L2, M2 = k2 ? A2 : T2, $2 = "useSyncExternalStore" in He ? ((e) => e.useSyncExternalStore)(He) : M2;
function N2(e) {
  return $2(e.subscribe, e.getSnapshot, e.getSnapshot);
}
function R2(e, t) {
  let n = e(), r = /* @__PURE__ */ new Set();
  return { getSnapshot() {
    return n;
  }, subscribe(o) {
    return r.add(o), () => r.delete(o);
  }, dispatch(o, ...s) {
    let i = t[o].call(n, ...s);
    i && (n = i, r.forEach((a) => a()));
  } };
}
function D2() {
  let e;
  return { before({ doc: t }) {
    var n;
    let r = t.documentElement;
    e = ((n = t.defaultView) != null ? n : window).innerWidth - r.clientWidth;
  }, after({ doc: t, d: n }) {
    let r = t.documentElement, o = r.clientWidth - r.offsetWidth, s = e - o;
    n.style(r, "paddingRight", `${s}px`);
  } };
}
function I2() {
  return p1() ? { before({ doc: e, d: t, meta: n }) {
    function r(o) {
      return n.containers.flatMap((s) => s()).some((s) => s.contains(o));
    }
    t.microTask(() => {
      var o;
      if (window.getComputedStyle(e.documentElement).scrollBehavior !== "auto") {
        let a = xn();
        a.style(e.documentElement, "scrollBehavior", "auto"), t.add(() => t.microTask(() => a.dispose()));
      }
      let s = (o = window.scrollY) != null ? o : window.pageYOffset, i = null;
      t.addEventListener(e, "click", (a) => {
        if (a.target instanceof HTMLElement)
          try {
            let c = a.target.closest("a");
            if (!c)
              return;
            let { hash: u } = new URL(c.href), d = e.querySelector(u);
            d && !r(d) && (i = d);
          } catch {
          }
      }, !0), t.addEventListener(e, "touchstart", (a) => {
        if (a.target instanceof HTMLElement)
          if (r(a.target)) {
            let c = a.target;
            for (; c.parentElement && r(c.parentElement); )
              c = c.parentElement;
            t.style(c, "overscrollBehavior", "contain");
          } else
            t.style(a.target, "touchAction", "none");
      }), t.addEventListener(e, "touchmove", (a) => {
        if (a.target instanceof HTMLElement)
          if (r(a.target)) {
            let c = a.target;
            for (; c.parentElement && c.dataset.headlessuiPortal !== "" && !(c.scrollHeight > c.clientHeight || c.scrollWidth > c.clientWidth); )
              c = c.parentElement;
            c.dataset.headlessuiPortal === "" && a.preventDefault();
          } else
            a.preventDefault();
      }, { passive: !1 }), t.add(() => {
        var a;
        let c = (a = window.scrollY) != null ? a : window.pageYOffset;
        s !== c && window.scrollTo(0, s), i && i.isConnected && (i.scrollIntoView({ block: "nearest" }), i = null);
      });
    });
  } } : {};
}
function V2() {
  return { before({ doc: e, d: t }) {
    t.style(e.documentElement, "overflow", "hidden");
  } };
}
function H2(e) {
  let t = {};
  for (let n of e)
    Object.assign(t, n(t));
  return t;
}
let ao = R2(() => /* @__PURE__ */ new Map(), { PUSH(e, t) {
  var n;
  let r = (n = this.get(e)) != null ? n : { doc: e, count: 0, d: xn(), meta: /* @__PURE__ */ new Set() };
  return r.count++, r.meta.add(t), this.set(e, r), this;
}, POP(e, t) {
  let n = this.get(e);
  return n && (n.count--, n.meta.delete(t)), this;
}, SCROLL_PREVENT({ doc: e, d: t, meta: n }) {
  let r = { doc: e, d: t, meta: H2(n) }, o = [I2(), D2(), V2()];
  o.forEach(({ before: s }) => s == null ? void 0 : s(r)), o.forEach(({ after: s }) => s == null ? void 0 : s(r));
}, SCROLL_ALLOW({ d: e }) {
  e.dispose();
}, TEARDOWN({ doc: e }) {
  this.delete(e);
} });
ao.subscribe(() => {
  let e = ao.getSnapshot(), t = /* @__PURE__ */ new Map();
  for (let [n] of e)
    t.set(n, n.documentElement.style.overflow);
  for (let n of e.values()) {
    let r = t.get(n.doc) === "hidden", o = n.count !== 0;
    (o && !r || !o && r) && ao.dispatch(n.count > 0 ? "SCROLL_PREVENT" : "SCROLL_ALLOW", n), n.count === 0 && ao.dispatch("TEARDOWN", n);
  }
});
function B2(e, t, n) {
  let r = N2(ao), o = e ? r.get(e) : void 0, s = o ? o.count > 0 : !1;
  return Le(() => {
    if (!(!e || !t))
      return ao.dispatch("PUSH", e, n), () => ao.dispatch("POP", e, n);
  }, [t, e]), s;
}
let Rc = /* @__PURE__ */ new Map(), Ms = /* @__PURE__ */ new Map();
function If(e, t = !0) {
  Le(() => {
    var n;
    if (!t)
      return;
    let r = typeof e == "function" ? e() : e.current;
    if (!r)
      return;
    function o() {
      var i;
      if (!r)
        return;
      let a = (i = Ms.get(r)) != null ? i : 1;
      if (a === 1 ? Ms.delete(r) : Ms.set(r, a - 1), a !== 1)
        return;
      let c = Rc.get(r);
      c && (c["aria-hidden"] === null ? r.removeAttribute("aria-hidden") : r.setAttribute("aria-hidden", c["aria-hidden"]), r.inert = c.inert, Rc.delete(r));
    }
    let s = (n = Ms.get(r)) != null ? n : 0;
    return Ms.set(r, s + 1), s !== 0 || (Rc.set(r, { "aria-hidden": r.getAttribute("aria-hidden"), inert: r.inert }), r.setAttribute("aria-hidden", "true"), r.inert = !0), o;
  }, [e, t]);
}
function A1({ defaultContainers: e = [], portals: t, mainTreeNodeRef: n } = {}) {
  var r;
  let o = G((r = n == null ? void 0 : n.current) != null ? r : null), s = Tr(o), i = Z(() => {
    var a, c, u;
    let d = [];
    for (let p of e)
      p !== null && (p instanceof HTMLElement ? d.push(p) : "current" in p && p.current instanceof HTMLElement && d.push(p.current));
    if (t != null && t.current)
      for (let p of t.current)
        d.push(p);
    for (let p of (a = s == null ? void 0 : s.querySelectorAll("html > *, body > *")) != null ? a : [])
      p !== document.body && p !== document.head && p instanceof HTMLElement && p.id !== "headlessui-portal-root" && (p.contains(o.current) || p.contains((u = (c = o.current) == null ? void 0 : c.getRootNode()) == null ? void 0 : u.host) || d.some((f) => p.contains(f)) || d.push(p));
    return d;
  });
  return { resolveContainers: i, contains: Z((a) => i().some((c) => c.contains(a))), mainTreeNodeRef: o, MainTreeNode: oe(() => function() {
    return n != null ? null : I.createElement(rn, { features: nn.Hidden, ref: o });
  }, [o, n]) };
}
function z2() {
  let e = G(null);
  return { mainTreeNodeRef: e, MainTreeNode: oe(() => function() {
    return I.createElement(rn, { features: nn.Hidden, ref: e });
  }, [e]) };
}
let Zd = De(() => {
});
Zd.displayName = "StackContext";
var Ku = ((e) => (e[e.Add = 0] = "Add", e[e.Remove = 1] = "Remove", e))(Ku || {});
function F2() {
  return Oe(Zd);
}
function U2({ children: e, onUpdate: t, type: n, element: r, enabled: o }) {
  let s = F2(), i = Z((...a) => {
    t == null || t(...a), s(...a);
  });
  return Le(() => {
    let a = o === void 0 || o === !0;
    return a && i(0, n, r), () => {
      a && i(1, n, r);
    };
  }, [i, n, r, o]), I.createElement(Zd.Provider, { value: i }, e);
}
let L1 = De(null);
function k1() {
  let e = Oe(L1);
  if (e === null) {
    let t = new Error("You used a <Description /> component, but it is not inside a relevant parent.");
    throw Error.captureStackTrace && Error.captureStackTrace(t, k1), t;
  }
  return e;
}
function Il() {
  let [e, t] = U([]);
  return [e.length > 0 ? e.join(" ") : void 0, oe(() => function(n) {
    let r = Z((s) => (t((i) => [...i, s]), () => t((i) => {
      let a = i.slice(), c = a.indexOf(s);
      return c !== -1 && a.splice(c, 1), a;
    }))), o = oe(() => ({ register: r, slot: n.slot, name: n.name, props: n.props }), [r, n.slot, n.name, n.props]);
    return I.createElement(L1.Provider, { value: o }, n.children);
  }, [t])];
}
let W2 = "p";
function G2(e, t) {
  let n = Ye(), { id: r = `headlessui-description-${n}`, ...o } = e, s = k1(), i = Te(t);
  Le(() => s.register(r), [r, s.register]);
  let a = { ref: i, ...s.props, id: r };
  return Pe({ ourProps: a, theirProps: o, slot: s.slot || {}, defaultTag: W2, name: s.name || "Description" });
}
let K2 = Ee(G2), Jd = Object.assign(K2, {});
var q2 = ((e) => (e[e.Open = 0] = "Open", e[e.Closed = 1] = "Closed", e))(q2 || {}), Y2 = ((e) => (e[e.SetTitleId = 0] = "SetTitleId", e))(Y2 || {});
let X2 = { 0(e, t) {
  return e.titleId === t.id ? e : { ...e, titleId: t.id };
} }, Qa = De(null);
Qa.displayName = "DialogContext";
function Vi(e) {
  let t = Oe(Qa);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Dialog /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, Vi), n;
  }
  return t;
}
function Z2(e, t, n = () => [document.body]) {
  B2(e, t, (r) => {
    var o;
    return { containers: [...(o = r.containers) != null ? o : [], n] };
  });
}
function J2(e, t) {
  return je(t.type, X2, e, t);
}
let Q2 = "div", eC = Rt.RenderStrategy | Rt.Static;
function tC(e, t) {
  let n = Ye(), { id: r = `headlessui-dialog-${n}`, open: o, onClose: s, initialFocus: i, role: a = "dialog", __demoMode: c = !1, ...u } = e, [d, p] = U(0), f = G(!1);
  a = function() {
    return a === "dialog" || a === "alertdialog" ? a : (f.current || (f.current = !0, console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)), "dialog");
  }();
  let h = Xr();
  o === void 0 && h !== null && (o = (h & Ge.Open) === Ge.Open);
  let v = G(null), g = Te(v, t), b = Tr(v), m = e.hasOwnProperty("open") || h !== null, y = e.hasOwnProperty("onClose");
  if (!m && !y)
    throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");
  if (!m)
    throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");
  if (!y)
    throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");
  if (typeof o != "boolean")
    throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${o}`);
  if (typeof s != "function")
    throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);
  let x = o ? 0 : 1, [w, S] = Gr(J2, { titleId: null, descriptionId: null, panelRef: ui() }), j = Z(() => s(!1)), E = Z((ae) => S({ type: 0, id: ae })), C = gs() ? c ? !1 : x === 0 : !1, P = d > 1, _ = Oe(Qa) !== null, [O, k] = T1(), z = { get current() {
    var ae;
    return (ae = w.panelRef.current) != null ? ae : v.current;
  } }, { resolveContainers: F, mainTreeNodeRef: A, MainTreeNode: T } = A1({ portals: O, defaultContainers: [z] }), D = P ? "parent" : "leaf", M = h !== null ? (h & Ge.Closing) === Ge.Closing : !1, N = (() => _ || M ? !1 : C)(), V = it(() => {
    var ae, we;
    return (we = Array.from((ae = b == null ? void 0 : b.querySelectorAll("body > *")) != null ? ae : []).find((Ce) => Ce.id === "headlessui-portal-root" ? !1 : Ce.contains(A.current) && Ce instanceof HTMLElement)) != null ? we : null;
  }, [A]);
  If(V, N);
  let K = (() => P ? !0 : C)(), J = it(() => {
    var ae, we;
    return (we = Array.from((ae = b == null ? void 0 : b.querySelectorAll("[data-headlessui-portal]")) != null ? ae : []).find((Ce) => Ce.contains(A.current) && Ce instanceof HTMLElement)) != null ? we : null;
  }, [A]);
  If(J, K);
  let ie = (() => !(!C || P))();
  Rl(F, (ae) => {
    ae.preventDefault(), j();
  }, ie);
  let X = (() => !(P || x !== 0))();
  Yd(b == null ? void 0 : b.defaultView, "keydown", (ae) => {
    X && (ae.defaultPrevented || ae.key === he.Escape && (ae.preventDefault(), ae.stopPropagation(), j()));
  });
  let ne = (() => !(M || x !== 0 || _))();
  Z2(b, ne, F), W(() => {
    if (x !== 0 || !v.current)
      return;
    let ae = new ResizeObserver((we) => {
      for (let Ce of we) {
        let ot = Ce.target.getBoundingClientRect();
        ot.x === 0 && ot.y === 0 && ot.width === 0 && ot.height === 0 && j();
      }
    });
    return ae.observe(v.current), () => ae.disconnect();
  }, [x, v, j]);
  let [fe, se] = Il(), q = oe(() => [{ dialogState: x, close: j, setTitleId: E }, w], [x, w, j, E]), ee = oe(() => ({ open: x === 0 }), [x]), pe = { ref: g, id: r, role: a, "aria-modal": x === 0 ? !0 : void 0, "aria-labelledby": w.titleId, "aria-describedby": fe };
  return I.createElement(U2, { type: "Dialog", enabled: x === 0, element: v, onUpdate: Z((ae, we) => {
    we === "Dialog" && je(ae, { [Ku.Add]: () => p((Ce) => Ce + 1), [Ku.Remove]: () => p((Ce) => Ce - 1) });
  }) }, I.createElement(Uu, { force: !0 }, I.createElement(Gu, null, I.createElement(Qa.Provider, { value: q }, I.createElement(Gu.Group, { target: v }, I.createElement(Uu, { force: !1 }, I.createElement(se, { slot: ee, name: "Dialog.Description" }, I.createElement(ks, { initialFocus: i, containers: F, features: C ? je(D, { parent: ks.features.RestoreFocus, leaf: ks.features.All & ~ks.features.FocusLock }) : ks.features.None }, I.createElement(k, null, Pe({ ourProps: pe, theirProps: u, slot: ee, defaultTag: Q2, features: eC, visible: x === 0, name: "Dialog" }))))))))), I.createElement(T, null));
}
let nC = "div";
function rC(e, t) {
  let n = Ye(), { id: r = `headlessui-dialog-overlay-${n}`, ...o } = e, [{ dialogState: s, close: i }] = Vi("Dialog.Overlay"), a = Te(t), c = Z((d) => {
    if (d.target === d.currentTarget) {
      if (Cr(d.currentTarget))
        return d.preventDefault();
      d.preventDefault(), d.stopPropagation(), i();
    }
  }), u = oe(() => ({ open: s === 0 }), [s]);
  return Pe({ ourProps: { ref: a, id: r, "aria-hidden": !0, onClick: c }, theirProps: o, slot: u, defaultTag: nC, name: "Dialog.Overlay" });
}
let oC = "div";
function sC(e, t) {
  let n = Ye(), { id: r = `headlessui-dialog-backdrop-${n}`, ...o } = e, [{ dialogState: s }, i] = Vi("Dialog.Backdrop"), a = Te(t);
  W(() => {
    if (i.panelRef.current === null)
      throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.");
  }, [i.panelRef]);
  let c = oe(() => ({ open: s === 0 }), [s]);
  return I.createElement(Uu, { force: !0 }, I.createElement(Gu, null, Pe({ ourProps: { ref: a, id: r, "aria-hidden": !0 }, theirProps: o, slot: c, defaultTag: oC, name: "Dialog.Backdrop" })));
}
let iC = "div";
function aC(e, t) {
  let n = Ye(), { id: r = `headlessui-dialog-panel-${n}`, ...o } = e, [{ dialogState: s }, i] = Vi("Dialog.Panel"), a = Te(t, i.panelRef), c = oe(() => ({ open: s === 0 }), [s]), u = Z((d) => {
    d.stopPropagation();
  });
  return Pe({ ourProps: { ref: a, id: r, onClick: u }, theirProps: o, slot: c, defaultTag: iC, name: "Dialog.Panel" });
}
let lC = "h2";
function cC(e, t) {
  let n = Ye(), { id: r = `headlessui-dialog-title-${n}`, ...o } = e, [{ dialogState: s, setTitleId: i }] = Vi("Dialog.Title"), a = Te(t);
  W(() => (i(r), () => i(null)), [r, i]);
  let c = oe(() => ({ open: s === 0 }), [s]);
  return Pe({ ourProps: { ref: a, id: r }, theirProps: o, slot: c, defaultTag: lC, name: "Dialog.Title" });
}
let uC = Ee(tC), dC = Ee(sC), pC = Ee(aC), fC = Ee(rC), hC = Ee(cC), $s = Object.assign(uC, { Backdrop: dC, Panel: pC, Overlay: fC, Title: hC, Description: Jd });
var Vf;
let gC = (Vf = I.startTransition) != null ? Vf : function(e) {
  e();
};
var mC = ((e) => (e[e.Open = 0] = "Open", e[e.Closed = 1] = "Closed", e))(mC || {}), vC = ((e) => (e[e.ToggleDisclosure = 0] = "ToggleDisclosure", e[e.CloseDisclosure = 1] = "CloseDisclosure", e[e.SetButtonId = 2] = "SetButtonId", e[e.SetPanelId = 3] = "SetPanelId", e[e.LinkPanel = 4] = "LinkPanel", e[e.UnlinkPanel = 5] = "UnlinkPanel", e))(vC || {});
let bC = { 0: (e) => ({ ...e, disclosureState: je(e.disclosureState, { 0: 1, 1: 0 }) }), 1: (e) => e.disclosureState === 1 ? e : { ...e, disclosureState: 1 }, 4(e) {
  return e.linkedPanel === !0 ? e : { ...e, linkedPanel: !0 };
}, 5(e) {
  return e.linkedPanel === !1 ? e : { ...e, linkedPanel: !1 };
}, 2(e, t) {
  return e.buttonId === t.buttonId ? e : { ...e, buttonId: t.buttonId };
}, 3(e, t) {
  return e.panelId === t.panelId ? e : { ...e, panelId: t.panelId };
} }, Qd = De(null);
Qd.displayName = "DisclosureContext";
function ep(e) {
  let t = Oe(Qd);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Disclosure /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, ep), n;
  }
  return t;
}
let tp = De(null);
tp.displayName = "DisclosureAPIContext";
function M1(e) {
  let t = Oe(tp);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Disclosure /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, M1), n;
  }
  return t;
}
let np = De(null);
np.displayName = "DisclosurePanelContext";
function yC() {
  return Oe(np);
}
function xC(e, t) {
  return je(t.type, bC, e, t);
}
let wC = bt;
function SC(e, t) {
  let { defaultOpen: n = !1, ...r } = e, o = G(null), s = Te(t, Ud((b) => {
    o.current = b;
  }, e.as === void 0 || e.as === bt)), i = G(null), a = G(null), c = Gr(xC, { disclosureState: n ? 0 : 1, linkedPanel: !1, buttonRef: a, panelRef: i, buttonId: null, panelId: null }), [{ disclosureState: u, buttonId: d }, p] = c, f = Z((b) => {
    p({ type: 1 });
    let m = Yr(o);
    if (!m || !d)
      return;
    let y = (() => b ? b instanceof HTMLElement ? b : b.current instanceof HTMLElement ? b.current : m.getElementById(d) : m.getElementById(d))();
    y == null || y.focus();
  }), h = oe(() => ({ close: f }), [f]), v = oe(() => ({ open: u === 0, close: f }), [u, f]), g = { ref: s };
  return I.createElement(Qd.Provider, { value: c }, I.createElement(tp.Provider, { value: h }, I.createElement(Di, { value: je(u, { 0: Ge.Open, 1: Ge.Closed }) }, Pe({ ourProps: g, theirProps: r, slot: v, defaultTag: wC, name: "Disclosure" }))));
}
let jC = "button";
function CC(e, t) {
  let n = Ye(), { id: r = `headlessui-disclosure-button-${n}`, ...o } = e, [s, i] = ep("Disclosure.Button"), a = yC(), c = a === null ? !1 : a === s.panelId, u = G(null), d = Te(u, t, c ? null : s.buttonRef), p = Wd();
  W(() => {
    if (!c)
      return i({ type: 2, buttonId: r }), () => {
        i({ type: 2, buttonId: null });
      };
  }, [r, i, c]);
  let f = Z((y) => {
    var x;
    if (c) {
      if (s.disclosureState === 1)
        return;
      switch (y.key) {
        case he.Space:
        case he.Enter:
          y.preventDefault(), y.stopPropagation(), i({ type: 0 }), (x = s.buttonRef.current) == null || x.focus();
          break;
      }
    } else
      switch (y.key) {
        case he.Space:
        case he.Enter:
          y.preventDefault(), y.stopPropagation(), i({ type: 0 });
          break;
      }
  }), h = Z((y) => {
    switch (y.key) {
      case he.Space:
        y.preventDefault();
        break;
    }
  }), v = Z((y) => {
    var x;
    Cr(y.currentTarget) || e.disabled || (c ? (i({ type: 0 }), (x = s.buttonRef.current) == null || x.focus()) : i({ type: 0 }));
  }), g = oe(() => ({ open: s.disclosureState === 0 }), [s]), b = ms(e, u), m = c ? { ref: d, type: b, onKeyDown: f, onClick: v } : { ref: d, id: r, type: b, "aria-expanded": s.disclosureState === 0, "aria-controls": s.linkedPanel ? s.panelId : void 0, onKeyDown: f, onKeyUp: h, onClick: v };
  return Pe({ mergeRefs: p, ourProps: m, theirProps: o, slot: g, defaultTag: jC, name: "Disclosure.Button" });
}
let PC = "div", EC = Rt.RenderStrategy | Rt.Static;
function _C(e, t) {
  let n = Ye(), { id: r = `headlessui-disclosure-panel-${n}`, ...o } = e, [s, i] = ep("Disclosure.Panel"), { close: a } = M1("Disclosure.Panel"), c = Wd(), u = Te(t, s.panelRef, (v) => {
    gC(() => i({ type: v ? 4 : 5 }));
  });
  W(() => (i({ type: 3, panelId: r }), () => {
    i({ type: 3, panelId: null });
  }), [r, i]);
  let d = Xr(), p = (() => d !== null ? (d & Ge.Open) === Ge.Open : s.disclosureState === 0)(), f = oe(() => ({ open: s.disclosureState === 0, close: a }), [s, a]), h = { ref: u, id: r };
  return I.createElement(np.Provider, { value: s.panelId }, Pe({ mergeRefs: c, ourProps: h, theirProps: o, slot: f, defaultTag: PC, features: EC, visible: p, name: "Disclosure.Panel" }));
}
let OC = Ee(SC), TC = Ee(CC), AC = Ee(_C), Dc = Object.assign(OC, { Button: TC, Panel: AC }), Hf = /([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;
function Bf(e) {
  var t, n;
  let r = (t = e.innerText) != null ? t : "", o = e.cloneNode(!0);
  if (!(o instanceof HTMLElement))
    return r;
  let s = !1;
  for (let a of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))
    a.remove(), s = !0;
  let i = s ? (n = o.innerText) != null ? n : "" : r;
  return Hf.test(i) && (i = i.replace(Hf, "")), i;
}
function LC(e) {
  let t = e.getAttribute("aria-label");
  if (typeof t == "string")
    return t.trim();
  let n = e.getAttribute("aria-labelledby");
  if (n) {
    let r = n.split(" ").map((o) => {
      let s = document.getElementById(o);
      if (s) {
        let i = s.getAttribute("aria-label");
        return typeof i == "string" ? i.trim() : Bf(s).trim();
      }
      return null;
    }).filter(Boolean);
    if (r.length > 0)
      return r.join(", ");
  }
  return Bf(e).trim();
}
function kC(e) {
  let t = G(""), n = G("");
  return Z(() => {
    let r = e.current;
    if (!r)
      return "";
    let o = r.innerText;
    if (t.current === o)
      return n.current;
    let s = LC(r).trim().toLowerCase();
    return t.current = o, n.current = s, s;
  });
}
var MC = ((e) => (e[e.Open = 0] = "Open", e[e.Closed = 1] = "Closed", e))(MC || {}), $C = ((e) => (e[e.Single = 0] = "Single", e[e.Multi = 1] = "Multi", e))($C || {}), NC = ((e) => (e[e.Pointer = 0] = "Pointer", e[e.Other = 1] = "Other", e))(NC || {}), RC = ((e) => (e[e.OpenListbox = 0] = "OpenListbox", e[e.CloseListbox = 1] = "CloseListbox", e[e.GoToOption = 2] = "GoToOption", e[e.Search = 3] = "Search", e[e.ClearSearch = 4] = "ClearSearch", e[e.RegisterOption = 5] = "RegisterOption", e[e.UnregisterOption = 6] = "UnregisterOption", e[e.RegisterLabel = 7] = "RegisterLabel", e))(RC || {});
function Ic(e, t = (n) => n) {
  let n = e.activeOptionIndex !== null ? e.options[e.activeOptionIndex] : null, r = vr(t(e.options.slice()), (s) => s.dataRef.current.domRef.current), o = n ? r.indexOf(n) : null;
  return o === -1 && (o = null), { options: r, activeOptionIndex: o };
}
let DC = { 1(e) {
  return e.dataRef.current.disabled || e.listboxState === 1 ? e : { ...e, activeOptionIndex: null, listboxState: 1 };
}, 0(e) {
  if (e.dataRef.current.disabled || e.listboxState === 0)
    return e;
  let t = e.activeOptionIndex, { isSelected: n } = e.dataRef.current, r = e.options.findIndex((o) => n(o.dataRef.current.value));
  return r !== -1 && (t = r), { ...e, listboxState: 0, activeOptionIndex: t };
}, 2(e, t) {
  var n;
  if (e.dataRef.current.disabled || e.listboxState === 1)
    return e;
  let r = Ic(e), o = Fu(t, { resolveItems: () => r.options, resolveActiveIndex: () => r.activeOptionIndex, resolveId: (s) => s.id, resolveDisabled: (s) => s.dataRef.current.disabled });
  return { ...e, ...r, searchQuery: "", activeOptionIndex: o, activationTrigger: (n = t.trigger) != null ? n : 1 };
}, 3: (e, t) => {
  if (e.dataRef.current.disabled || e.listboxState === 1)
    return e;
  let n = e.searchQuery !== "" ? 0 : 1, r = e.searchQuery + t.value.toLowerCase(), o = (e.activeOptionIndex !== null ? e.options.slice(e.activeOptionIndex + n).concat(e.options.slice(0, e.activeOptionIndex + n)) : e.options).find((i) => {
    var a;
    return !i.dataRef.current.disabled && ((a = i.dataRef.current.textValue) == null ? void 0 : a.startsWith(r));
  }), s = o ? e.options.indexOf(o) : -1;
  return s === -1 || s === e.activeOptionIndex ? { ...e, searchQuery: r } : { ...e, searchQuery: r, activeOptionIndex: s, activationTrigger: 1 };
}, 4(e) {
  return e.dataRef.current.disabled || e.listboxState === 1 || e.searchQuery === "" ? e : { ...e, searchQuery: "" };
}, 5: (e, t) => {
  let n = { id: t.id, dataRef: t.dataRef }, r = Ic(e, (o) => [...o, n]);
  return e.activeOptionIndex === null && e.dataRef.current.isSelected(t.dataRef.current.value) && (r.activeOptionIndex = r.options.indexOf(n)), { ...e, ...r };
}, 6: (e, t) => {
  let n = Ic(e, (r) => {
    let o = r.findIndex((s) => s.id === t.id);
    return o !== -1 && r.splice(o, 1), r;
  });
  return { ...e, ...n, activationTrigger: 1 };
}, 7: (e, t) => ({ ...e, labelId: t.id }) }, rp = De(null);
rp.displayName = "ListboxActionsContext";
function Hi(e) {
  let t = Oe(rp);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Listbox /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, Hi), n;
  }
  return t;
}
let op = De(null);
op.displayName = "ListboxDataContext";
function Bi(e) {
  let t = Oe(op);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Listbox /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, Bi), n;
  }
  return t;
}
function IC(e, t) {
  return je(t.type, DC, e, t);
}
let VC = bt;
function HC(e, t) {
  let { value: n, defaultValue: r, form: o, name: s, onChange: i, by: a = (X, ne) => X === ne, disabled: c = !1, horizontal: u = !1, multiple: d = !1, ...p } = e;
  const f = u ? "horizontal" : "vertical";
  let h = Te(t), [v = d ? [] : void 0, g] = Ml(n, i, r), [b, m] = Gr(IC, { dataRef: ui(), listboxState: 1, options: [], searchQuery: "", labelId: null, activeOptionIndex: null, activationTrigger: 1 }), y = G({ static: !1, hold: !1 }), x = G(null), w = G(null), S = G(null), j = Z(typeof a == "string" ? (X, ne) => {
    let fe = a;
    return (X == null ? void 0 : X[fe]) === (ne == null ? void 0 : ne[fe]);
  } : a), E = it((X) => je(C.mode, { 1: () => v.some((ne) => j(ne, X)), 0: () => j(v, X) }), [v]), C = oe(() => ({ ...b, value: v, disabled: c, mode: d ? 1 : 0, orientation: f, compare: j, isSelected: E, optionsPropsRef: y, labelRef: x, buttonRef: w, optionsRef: S }), [v, c, d, b]);
  Le(() => {
    b.dataRef.current = C;
  }, [C]), Rl([C.buttonRef, C.optionsRef], (X, ne) => {
    var fe;
    m({ type: 1 }), Fd(ne, Nl.Loose) || (X.preventDefault(), (fe = C.buttonRef.current) == null || fe.focus());
  }, C.listboxState === 0);
  let P = oe(() => ({ open: C.listboxState === 0, disabled: c, value: v }), [C, c, v]), _ = Z((X) => {
    let ne = C.options.find((fe) => fe.id === X);
    ne && D(ne.dataRef.current.value);
  }), O = Z(() => {
    if (C.activeOptionIndex !== null) {
      let { dataRef: X, id: ne } = C.options[C.activeOptionIndex];
      D(X.current.value), m({ type: 2, focus: Ue.Specific, id: ne });
    }
  }), k = Z(() => m({ type: 0 })), z = Z(() => m({ type: 1 })), F = Z((X, ne, fe) => X === Ue.Specific ? m({ type: 2, focus: Ue.Specific, id: ne, trigger: fe }) : m({ type: 2, focus: X, trigger: fe })), A = Z((X, ne) => (m({ type: 5, id: X, dataRef: ne }), () => m({ type: 6, id: X }))), T = Z((X) => (m({ type: 7, id: X }), () => m({ type: 7, id: null }))), D = Z((X) => je(C.mode, { 0() {
    return g == null ? void 0 : g(X);
  }, 1() {
    let ne = C.value.slice(), fe = ne.findIndex((se) => j(se, X));
    return fe === -1 ? ne.push(X) : ne.splice(fe, 1), g == null ? void 0 : g(ne);
  } })), M = Z((X) => m({ type: 3, value: X })), N = Z(() => m({ type: 4 })), V = oe(() => ({ onChange: D, registerOption: A, registerLabel: T, goToOption: F, closeListbox: z, openListbox: k, selectActiveOption: O, selectOption: _, search: M, clearSearch: N }), []), K = { ref: h }, J = G(null), ie = wn();
  return W(() => {
    J.current && r !== void 0 && ie.addEventListener(J.current, "reset", () => {
      g == null || g(r);
    });
  }, [J, g]), I.createElement(rp.Provider, { value: V }, I.createElement(op.Provider, { value: C }, I.createElement(Di, { value: je(C.listboxState, { 0: Ge.Open, 1: Ge.Closed }) }, s != null && v != null && Dl({ [s]: v }).map(([X, ne], fe) => I.createElement(rn, { features: nn.Hidden, ref: fe === 0 ? (se) => {
    var q;
    J.current = (q = se == null ? void 0 : se.closest("form")) != null ? q : null;
  } : void 0, ...is({ key: X, as: "input", type: "hidden", hidden: !0, readOnly: !0, form: o, disabled: c, name: X, value: ne }) })), Pe({ ourProps: K, theirProps: p, slot: P, defaultTag: VC, name: "Listbox" }))));
}
let BC = "button";
function zC(e, t) {
  var n;
  let r = Ye(), { id: o = `headlessui-listbox-button-${r}`, ...s } = e, i = Bi("Listbox.Button"), a = Hi("Listbox.Button"), c = Te(i.buttonRef, t), u = wn(), d = Z((b) => {
    switch (b.key) {
      case he.Space:
      case he.Enter:
      case he.ArrowDown:
        b.preventDefault(), a.openListbox(), u.nextFrame(() => {
          i.value || a.goToOption(Ue.First);
        });
        break;
      case he.ArrowUp:
        b.preventDefault(), a.openListbox(), u.nextFrame(() => {
          i.value || a.goToOption(Ue.Last);
        });
        break;
    }
  }), p = Z((b) => {
    switch (b.key) {
      case he.Space:
        b.preventDefault();
        break;
    }
  }), f = Z((b) => {
    if (Cr(b.currentTarget))
      return b.preventDefault();
    i.listboxState === 0 ? (a.closeListbox(), u.nextFrame(() => {
      var m;
      return (m = i.buttonRef.current) == null ? void 0 : m.focus({ preventScroll: !0 });
    })) : (b.preventDefault(), a.openListbox());
  }), h = Ni(() => {
    if (i.labelId)
      return [i.labelId, o].join(" ");
  }, [i.labelId, o]), v = oe(() => ({ open: i.listboxState === 0, disabled: i.disabled, value: i.value }), [i]), g = { ref: c, id: o, type: ms(e, i.buttonRef), "aria-haspopup": "listbox", "aria-controls": (n = i.optionsRef.current) == null ? void 0 : n.id, "aria-expanded": i.listboxState === 0, "aria-labelledby": h, disabled: i.disabled, onKeyDown: d, onKeyUp: p, onClick: f };
  return Pe({ ourProps: g, theirProps: s, slot: v, defaultTag: BC, name: "Listbox.Button" });
}
let FC = "label";
function UC(e, t) {
  let n = Ye(), { id: r = `headlessui-listbox-label-${n}`, ...o } = e, s = Bi("Listbox.Label"), i = Hi("Listbox.Label"), a = Te(s.labelRef, t);
  Le(() => i.registerLabel(r), [r]);
  let c = Z(() => {
    var d;
    return (d = s.buttonRef.current) == null ? void 0 : d.focus({ preventScroll: !0 });
  }), u = oe(() => ({ open: s.listboxState === 0, disabled: s.disabled }), [s]);
  return Pe({ ourProps: { ref: a, id: r, onClick: c }, theirProps: o, slot: u, defaultTag: FC, name: "Listbox.Label" });
}
let WC = "ul", GC = Rt.RenderStrategy | Rt.Static;
function KC(e, t) {
  var n;
  let r = Ye(), { id: o = `headlessui-listbox-options-${r}`, ...s } = e, i = Bi("Listbox.Options"), a = Hi("Listbox.Options"), c = Te(i.optionsRef, t), u = wn(), d = wn(), p = Xr(), f = (() => p !== null ? (p & Ge.Open) === Ge.Open : i.listboxState === 0)();
  W(() => {
    var m;
    let y = i.optionsRef.current;
    y && i.listboxState === 0 && y !== ((m = Yr(y)) == null ? void 0 : m.activeElement) && y.focus({ preventScroll: !0 });
  }, [i.listboxState, i.optionsRef]);
  let h = Z((m) => {
    switch (d.dispose(), m.key) {
      case he.Space:
        if (i.searchQuery !== "")
          return m.preventDefault(), m.stopPropagation(), a.search(m.key);
      case he.Enter:
        if (m.preventDefault(), m.stopPropagation(), i.activeOptionIndex !== null) {
          let { dataRef: y } = i.options[i.activeOptionIndex];
          a.onChange(y.current.value);
        }
        i.mode === 0 && (a.closeListbox(), xn().nextFrame(() => {
          var y;
          return (y = i.buttonRef.current) == null ? void 0 : y.focus({ preventScroll: !0 });
        }));
        break;
      case je(i.orientation, { vertical: he.ArrowDown, horizontal: he.ArrowRight }):
        return m.preventDefault(), m.stopPropagation(), a.goToOption(Ue.Next);
      case je(i.orientation, { vertical: he.ArrowUp, horizontal: he.ArrowLeft }):
        return m.preventDefault(), m.stopPropagation(), a.goToOption(Ue.Previous);
      case he.Home:
      case he.PageUp:
        return m.preventDefault(), m.stopPropagation(), a.goToOption(Ue.First);
      case he.End:
      case he.PageDown:
        return m.preventDefault(), m.stopPropagation(), a.goToOption(Ue.Last);
      case he.Escape:
        return m.preventDefault(), m.stopPropagation(), a.closeListbox(), u.nextFrame(() => {
          var y;
          return (y = i.buttonRef.current) == null ? void 0 : y.focus({ preventScroll: !0 });
        });
      case he.Tab:
        m.preventDefault(), m.stopPropagation();
        break;
      default:
        m.key.length === 1 && (a.search(m.key), d.setTimeout(() => a.clearSearch(), 350));
        break;
    }
  }), v = Ni(() => {
    var m;
    return (m = i.buttonRef.current) == null ? void 0 : m.id;
  }, [i.buttonRef.current]), g = oe(() => ({ open: i.listboxState === 0 }), [i]), b = { "aria-activedescendant": i.activeOptionIndex === null || (n = i.options[i.activeOptionIndex]) == null ? void 0 : n.id, "aria-multiselectable": i.mode === 1 ? !0 : void 0, "aria-labelledby": v, "aria-orientation": i.orientation, id: o, onKeyDown: h, role: "listbox", tabIndex: 0, ref: c };
  return Pe({ ourProps: b, theirProps: s, slot: g, defaultTag: WC, features: GC, visible: f, name: "Listbox.Options" });
}
let qC = "li";
function YC(e, t) {
  let n = Ye(), { id: r = `headlessui-listbox-option-${n}`, disabled: o = !1, value: s, ...i } = e, a = Bi("Listbox.Option"), c = Hi("Listbox.Option"), u = a.activeOptionIndex !== null ? a.options[a.activeOptionIndex].id === r : !1, d = a.isSelected(s), p = G(null), f = kC(p), h = wt({ disabled: o, value: s, domRef: p, get textValue() {
    return f();
  } }), v = Te(t, p);
  Le(() => {
    if (a.listboxState !== 0 || !u || a.activationTrigger === 0)
      return;
    let j = xn();
    return j.requestAnimationFrame(() => {
      var E, C;
      (C = (E = p.current) == null ? void 0 : E.scrollIntoView) == null || C.call(E, { block: "nearest" });
    }), j.dispose;
  }, [p, u, a.listboxState, a.activationTrigger, a.activeOptionIndex]), Le(() => c.registerOption(r, h), [h, r]);
  let g = Z((j) => {
    if (o)
      return j.preventDefault();
    c.onChange(s), a.mode === 0 && (c.closeListbox(), xn().nextFrame(() => {
      var E;
      return (E = a.buttonRef.current) == null ? void 0 : E.focus({ preventScroll: !0 });
    }));
  }), b = Z(() => {
    if (o)
      return c.goToOption(Ue.Nothing);
    c.goToOption(Ue.Specific, r);
  }), m = m1(), y = Z((j) => m.update(j)), x = Z((j) => {
    m.wasMoved(j) && (o || u || c.goToOption(Ue.Specific, r, 0));
  }), w = Z((j) => {
    m.wasMoved(j) && (o || u && c.goToOption(Ue.Nothing));
  }), S = oe(() => ({ active: u, selected: d, disabled: o }), [u, d, o]);
  return Pe({ ourProps: { id: r, ref: v, role: "option", tabIndex: o === !0 ? void 0 : -1, "aria-disabled": o === !0 ? !0 : void 0, "aria-selected": d, disabled: void 0, onClick: g, onFocus: b, onPointerEnter: y, onMouseEnter: y, onPointerMove: x, onMouseMove: x, onPointerLeave: w, onMouseLeave: w }, theirProps: i, slot: S, defaultTag: qC, name: "Listbox.Option" });
}
let XC = Ee(HC), ZC = Ee(zC), JC = Ee(UC), QC = Ee(KC), eP = Ee(YC), Ns = Object.assign(XC, { Button: ZC, Label: JC, Options: QC, Option: eP });
var tP = ((e) => (e[e.Open = 0] = "Open", e[e.Closed = 1] = "Closed", e))(tP || {}), nP = ((e) => (e[e.TogglePopover = 0] = "TogglePopover", e[e.ClosePopover = 1] = "ClosePopover", e[e.SetButton = 2] = "SetButton", e[e.SetButtonId = 3] = "SetButtonId", e[e.SetPanel = 4] = "SetPanel", e[e.SetPanelId = 5] = "SetPanelId", e))(nP || {});
let rP = { 0: (e) => {
  let t = { ...e, popoverState: je(e.popoverState, { 0: 1, 1: 0 }) };
  return t.popoverState === 0 && (t.__demoMode = !1), t;
}, 1(e) {
  return e.popoverState === 1 ? e : { ...e, popoverState: 1 };
}, 2(e, t) {
  return e.button === t.button ? e : { ...e, button: t.button };
}, 3(e, t) {
  return e.buttonId === t.buttonId ? e : { ...e, buttonId: t.buttonId };
}, 4(e, t) {
  return e.panel === t.panel ? e : { ...e, panel: t.panel };
}, 5(e, t) {
  return e.panelId === t.panelId ? e : { ...e, panelId: t.panelId };
} }, sp = De(null);
sp.displayName = "PopoverContext";
function Vl(e) {
  let t = Oe(sp);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Popover /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, Vl), n;
  }
  return t;
}
let ip = De(null);
ip.displayName = "PopoverAPIContext";
function ap(e) {
  let t = Oe(ip);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Popover /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, ap), n;
  }
  return t;
}
let lp = De(null);
lp.displayName = "PopoverGroupContext";
function $1() {
  return Oe(lp);
}
let Hl = De(null);
Hl.displayName = "PopoverPanelContext";
function oP() {
  return Oe(Hl);
}
function sP(e, t) {
  return je(t.type, rP, e, t);
}
let iP = "div";
function aP(e, t) {
  var n;
  let { __demoMode: r = !1, ...o } = e, s = G(null), i = Te(t, Ud((T) => {
    s.current = T;
  })), a = G([]), c = Gr(sP, { __demoMode: r, popoverState: r ? 0 : 1, buttons: a, button: null, buttonId: null, panel: null, panelId: null, beforePanelSentinel: ui(), afterPanelSentinel: ui() }), [{ popoverState: u, button: d, buttonId: p, panel: f, panelId: h, beforePanelSentinel: v, afterPanelSentinel: g }, b] = c, m = Tr((n = s.current) != null ? n : d), y = oe(() => {
    if (!d || !f)
      return !1;
    for (let J of document.querySelectorAll("body > *"))
      if (Number(J == null ? void 0 : J.contains(d)) ^ Number(J == null ? void 0 : J.contains(f)))
        return !0;
    let T = $l(), D = T.indexOf(d), M = (D + T.length - 1) % T.length, N = (D + 1) % T.length, V = T[M], K = T[N];
    return !f.contains(V) && !f.contains(K);
  }, [d, f]), x = wt(p), w = wt(h), S = oe(() => ({ buttonId: x, panelId: w, close: () => b({ type: 1 }) }), [x, w, b]), j = $1(), E = j == null ? void 0 : j.registerPopover, C = Z(() => {
    var T;
    return (T = j == null ? void 0 : j.isFocusWithinPopoverGroup()) != null ? T : (m == null ? void 0 : m.activeElement) && ((d == null ? void 0 : d.contains(m.activeElement)) || (f == null ? void 0 : f.contains(m.activeElement)));
  });
  W(() => E == null ? void 0 : E(S), [E, S]);
  let [P, _] = T1(), O = A1({ mainTreeNodeRef: j == null ? void 0 : j.mainTreeNodeRef, portals: P, defaultContainers: [d, f] });
  Yd(m == null ? void 0 : m.defaultView, "focus", (T) => {
    var D, M, N, V;
    T.target !== window && T.target instanceof HTMLElement && u === 0 && (C() || d && f && (O.contains(T.target) || (M = (D = v.current) == null ? void 0 : D.contains) != null && M.call(D, T.target) || (V = (N = g.current) == null ? void 0 : N.contains) != null && V.call(N, T.target) || b({ type: 1 })));
  }, !0), Rl(O.resolveContainers, (T, D) => {
    b({ type: 1 }), Fd(D, Nl.Loose) || (T.preventDefault(), d == null || d.focus());
  }, u === 0);
  let k = Z((T) => {
    b({ type: 1 });
    let D = (() => T ? T instanceof HTMLElement ? T : "current" in T && T.current instanceof HTMLElement ? T.current : d : d)();
    D == null || D.focus();
  }), z = oe(() => ({ close: k, isPortalled: y }), [k, y]), F = oe(() => ({ open: u === 0, close: k }), [u, k]), A = { ref: i };
  return I.createElement(Hl.Provider, { value: null }, I.createElement(sp.Provider, { value: c }, I.createElement(ip.Provider, { value: z }, I.createElement(Di, { value: je(u, { 0: Ge.Open, 1: Ge.Closed }) }, I.createElement(_, null, Pe({ ourProps: A, theirProps: o, slot: F, defaultTag: iP, name: "Popover" }), I.createElement(O.MainTreeNode, null))))));
}
let lP = "button";
function cP(e, t) {
  let n = Ye(), { id: r = `headlessui-popover-button-${n}`, ...o } = e, [s, i] = Vl("Popover.Button"), { isPortalled: a } = ap("Popover.Button"), c = G(null), u = `headlessui-focus-sentinel-${Ye()}`, d = $1(), p = d == null ? void 0 : d.closeOthers, f = oP() !== null;
  W(() => {
    if (!f)
      return i({ type: 3, buttonId: r }), () => {
        i({ type: 3, buttonId: null });
      };
  }, [f, r, i]);
  let [h] = U(() => Symbol()), v = Te(c, t, f ? null : (O) => {
    if (O)
      s.buttons.current.push(h);
    else {
      let k = s.buttons.current.indexOf(h);
      k !== -1 && s.buttons.current.splice(k, 1);
    }
    s.buttons.current.length > 1 && console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."), O && i({ type: 2, button: O });
  }), g = Te(c, t), b = Tr(c), m = Z((O) => {
    var k, z, F;
    if (f) {
      if (s.popoverState === 1)
        return;
      switch (O.key) {
        case he.Space:
        case he.Enter:
          O.preventDefault(), (z = (k = O.target).click) == null || z.call(k), i({ type: 1 }), (F = s.button) == null || F.focus();
          break;
      }
    } else
      switch (O.key) {
        case he.Space:
        case he.Enter:
          O.preventDefault(), O.stopPropagation(), s.popoverState === 1 && (p == null || p(s.buttonId)), i({ type: 0 });
          break;
        case he.Escape:
          if (s.popoverState !== 0)
            return p == null ? void 0 : p(s.buttonId);
          if (!c.current || b != null && b.activeElement && !c.current.contains(b.activeElement))
            return;
          O.preventDefault(), O.stopPropagation(), i({ type: 1 });
          break;
      }
  }), y = Z((O) => {
    f || O.key === he.Space && O.preventDefault();
  }), x = Z((O) => {
    var k, z;
    Cr(O.currentTarget) || e.disabled || (f ? (i({ type: 1 }), (k = s.button) == null || k.focus()) : (O.preventDefault(), O.stopPropagation(), s.popoverState === 1 && (p == null || p(s.buttonId)), i({ type: 0 }), (z = s.button) == null || z.focus()));
  }), w = Z((O) => {
    O.preventDefault(), O.stopPropagation();
  }), S = s.popoverState === 0, j = oe(() => ({ open: S }), [S]), E = ms(e, c), C = f ? { ref: g, type: E, onKeyDown: m, onClick: x } : { ref: v, id: s.buttonId, type: E, "aria-expanded": s.popoverState === 0, "aria-controls": s.panel ? s.panelId : void 0, onKeyDown: m, onKeyUp: y, onClick: x, onMouseDown: w }, P = Xd(), _ = Z(() => {
    let O = s.panel;
    if (!O)
      return;
    function k() {
      je(P.current, { [en.Forwards]: () => xt(O, qe.First), [en.Backwards]: () => xt(O, qe.Last) }) === An.Error && xt($l().filter((z) => z.dataset.headlessuiFocusGuard !== "true"), je(P.current, { [en.Forwards]: qe.Next, [en.Backwards]: qe.Previous }), { relativeTo: s.button });
    }
    k();
  });
  return I.createElement(I.Fragment, null, Pe({ ourProps: C, theirProps: o, slot: j, defaultTag: lP, name: "Popover.Button" }), S && !f && a && I.createElement(rn, { id: u, features: nn.Focusable, "data-headlessui-focus-guard": !0, as: "button", type: "button", onFocus: _ }));
}
let uP = "div", dP = Rt.RenderStrategy | Rt.Static;
function pP(e, t) {
  let n = Ye(), { id: r = `headlessui-popover-overlay-${n}`, ...o } = e, [{ popoverState: s }, i] = Vl("Popover.Overlay"), a = Te(t), c = Xr(), u = (() => c !== null ? (c & Ge.Open) === Ge.Open : s === 0)(), d = Z((f) => {
    if (Cr(f.currentTarget))
      return f.preventDefault();
    i({ type: 1 });
  }), p = oe(() => ({ open: s === 0 }), [s]);
  return Pe({ ourProps: { ref: a, id: r, "aria-hidden": !0, onClick: d }, theirProps: o, slot: p, defaultTag: uP, features: dP, visible: u, name: "Popover.Overlay" });
}
let fP = "div", hP = Rt.RenderStrategy | Rt.Static;
function gP(e, t) {
  let n = Ye(), { id: r = `headlessui-popover-panel-${n}`, focus: o = !1, ...s } = e, [i, a] = Vl("Popover.Panel"), { close: c, isPortalled: u } = ap("Popover.Panel"), d = `headlessui-focus-sentinel-before-${Ye()}`, p = `headlessui-focus-sentinel-after-${Ye()}`, f = G(null), h = Te(f, t, (C) => {
    a({ type: 4, panel: C });
  }), v = Tr(f), g = Wd();
  Le(() => (a({ type: 5, panelId: r }), () => {
    a({ type: 5, panelId: null });
  }), [r, a]);
  let b = Xr(), m = (() => b !== null ? (b & Ge.Open) === Ge.Open : i.popoverState === 0)(), y = Z((C) => {
    var P;
    switch (C.key) {
      case he.Escape:
        if (i.popoverState !== 0 || !f.current || v != null && v.activeElement && !f.current.contains(v.activeElement))
          return;
        C.preventDefault(), C.stopPropagation(), a({ type: 1 }), (P = i.button) == null || P.focus();
        break;
    }
  });
  W(() => {
    var C;
    e.static || i.popoverState === 1 && ((C = e.unmount) == null || C) && a({ type: 4, panel: null });
  }, [i.popoverState, e.unmount, e.static, a]), W(() => {
    if (i.__demoMode || !o || i.popoverState !== 0 || !f.current)
      return;
    let C = v == null ? void 0 : v.activeElement;
    f.current.contains(C) || xt(f.current, qe.First);
  }, [i.__demoMode, o, f, i.popoverState]);
  let x = oe(() => ({ open: i.popoverState === 0, close: c }), [i, c]), w = { ref: h, id: r, onKeyDown: y, onBlur: o && i.popoverState === 0 ? (C) => {
    var P, _, O, k, z;
    let F = C.relatedTarget;
    F && f.current && ((P = f.current) != null && P.contains(F) || (a({ type: 1 }), ((O = (_ = i.beforePanelSentinel.current) == null ? void 0 : _.contains) != null && O.call(_, F) || (z = (k = i.afterPanelSentinel.current) == null ? void 0 : k.contains) != null && z.call(k, F)) && F.focus({ preventScroll: !0 })));
  } : void 0, tabIndex: -1 }, S = Xd(), j = Z(() => {
    let C = f.current;
    if (!C)
      return;
    function P() {
      je(S.current, { [en.Forwards]: () => {
        var _;
        xt(C, qe.First) === An.Error && ((_ = i.afterPanelSentinel.current) == null || _.focus());
      }, [en.Backwards]: () => {
        var _;
        (_ = i.button) == null || _.focus({ preventScroll: !0 });
      } });
    }
    P();
  }), E = Z(() => {
    let C = f.current;
    if (!C)
      return;
    function P() {
      je(S.current, { [en.Forwards]: () => {
        var _;
        if (!i.button)
          return;
        let O = $l(), k = O.indexOf(i.button), z = O.slice(0, k + 1), F = [...O.slice(k + 1), ...z];
        for (let A of F.slice())
          if (A.dataset.headlessuiFocusGuard === "true" || (_ = i.panel) != null && _.contains(A)) {
            let T = F.indexOf(A);
            T !== -1 && F.splice(T, 1);
          }
        xt(F, qe.First, { sorted: !1 });
      }, [en.Backwards]: () => {
        var _;
        xt(C, qe.Previous) === An.Error && ((_ = i.button) == null || _.focus());
      } });
    }
    P();
  });
  return I.createElement(Hl.Provider, { value: r }, m && u && I.createElement(rn, { id: d, ref: i.beforePanelSentinel, features: nn.Focusable, "data-headlessui-focus-guard": !0, as: "button", type: "button", onFocus: j }), Pe({ mergeRefs: g, ourProps: w, theirProps: s, slot: x, defaultTag: fP, features: hP, visible: m, name: "Popover.Panel" }), m && u && I.createElement(rn, { id: p, ref: i.afterPanelSentinel, features: nn.Focusable, "data-headlessui-focus-guard": !0, as: "button", type: "button", onFocus: E }));
}
let mP = "div";
function vP(e, t) {
  let n = G(null), r = Te(n, t), [o, s] = U([]), i = z2(), a = Z((g) => {
    s((b) => {
      let m = b.indexOf(g);
      if (m !== -1) {
        let y = b.slice();
        return y.splice(m, 1), y;
      }
      return b;
    });
  }), c = Z((g) => (s((b) => [...b, g]), () => a(g))), u = Z(() => {
    var g;
    let b = Yr(n);
    if (!b)
      return !1;
    let m = b.activeElement;
    return (g = n.current) != null && g.contains(m) ? !0 : o.some((y) => {
      var x, w;
      return ((x = b.getElementById(y.buttonId.current)) == null ? void 0 : x.contains(m)) || ((w = b.getElementById(y.panelId.current)) == null ? void 0 : w.contains(m));
    });
  }), d = Z((g) => {
    for (let b of o)
      b.buttonId.current !== g && b.close();
  }), p = oe(() => ({ registerPopover: c, unregisterPopover: a, isFocusWithinPopoverGroup: u, closeOthers: d, mainTreeNodeRef: i.mainTreeNodeRef }), [c, a, u, d, i.mainTreeNodeRef]), f = oe(() => ({}), []), h = e, v = { ref: r };
  return I.createElement(lp.Provider, { value: p }, Pe({ ourProps: v, theirProps: h, slot: f, defaultTag: mP, name: "Popover.Group" }), I.createElement(i.MainTreeNode, null));
}
let bP = Ee(aP), yP = Ee(cP), xP = Ee(pP), wP = Ee(gP), SP = Ee(vP), Vc = Object.assign(bP, { Button: yP, Overlay: xP, Panel: wP, Group: SP }), N1 = De(null);
function R1() {
  let e = Oe(N1);
  if (e === null) {
    let t = new Error("You used a <Label /> component, but it is not inside a relevant parent.");
    throw Error.captureStackTrace && Error.captureStackTrace(t, R1), t;
  }
  return e;
}
function cp() {
  let [e, t] = U([]);
  return [e.length > 0 ? e.join(" ") : void 0, oe(() => function(n) {
    let r = Z((s) => (t((i) => [...i, s]), () => t((i) => {
      let a = i.slice(), c = a.indexOf(s);
      return c !== -1 && a.splice(c, 1), a;
    }))), o = oe(() => ({ register: r, slot: n.slot, name: n.name, props: n.props }), [r, n.slot, n.name, n.props]);
    return I.createElement(N1.Provider, { value: o }, n.children);
  }, [t])];
}
let jP = "label";
function CP(e, t) {
  let n = Ye(), { id: r = `headlessui-label-${n}`, passive: o = !1, ...s } = e, i = R1(), a = Te(t);
  Le(() => i.register(r), [r, i.register]);
  let c = { ref: a, ...i.props, id: r };
  return o && ("onClick" in c && (delete c.htmlFor, delete c.onClick), "onClick" in s && delete s.onClick), Pe({ ourProps: c, theirProps: s, slot: i.slot || {}, defaultTag: jP, name: i.name || "Label" });
}
let PP = Ee(CP), D1 = Object.assign(PP, {});
function I1(e = 0) {
  let [t, n] = U(e), r = vs(), o = it((c) => {
    r.current && n((u) => u | c);
  }, [t, r]), s = it((c) => !!(t & c), [t]), i = it((c) => {
    r.current && n((u) => u & ~c);
  }, [n, r]), a = it((c) => {
    r.current && n((u) => u ^ c);
  }, [n]);
  return { flags: t, addFlag: o, hasFlag: s, removeFlag: i, toggleFlag: a };
}
var EP = ((e) => (e[e.RegisterOption = 0] = "RegisterOption", e[e.UnregisterOption = 1] = "UnregisterOption", e))(EP || {});
let _P = { 0(e, t) {
  let n = [...e.options, { id: t.id, element: t.element, propsRef: t.propsRef }];
  return { ...e, options: vr(n, (r) => r.element.current) };
}, 1(e, t) {
  let n = e.options.slice(), r = e.options.findIndex((o) => o.id === t.id);
  return r === -1 ? e : (n.splice(r, 1), { ...e, options: n });
} }, up = De(null);
up.displayName = "RadioGroupDataContext";
function V1(e) {
  let t = Oe(up);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, V1), n;
  }
  return t;
}
let dp = De(null);
dp.displayName = "RadioGroupActionsContext";
function H1(e) {
  let t = Oe(dp);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, H1), n;
  }
  return t;
}
function OP(e, t) {
  return je(t.type, _P, e, t);
}
let TP = "div";
function AP(e, t) {
  let n = Ye(), { id: r = `headlessui-radiogroup-${n}`, value: o, defaultValue: s, form: i, name: a, onChange: c, by: u = (N, V) => N === V, disabled: d = !1, ...p } = e, f = Z(typeof u == "string" ? (N, V) => {
    let K = u;
    return (N == null ? void 0 : N[K]) === (V == null ? void 0 : V[K]);
  } : u), [h, v] = Gr(OP, { options: [] }), g = h.options, [b, m] = cp(), [y, x] = Il(), w = G(null), S = Te(w, t), [j, E] = Ml(o, c, s), C = oe(() => g.find((N) => !N.propsRef.current.disabled), [g]), P = oe(() => g.some((N) => f(N.propsRef.current.value, j)), [g, j]), _ = Z((N) => {
    var V;
    if (d || f(N, j))
      return !1;
    let K = (V = g.find((J) => f(J.propsRef.current.value, N))) == null ? void 0 : V.propsRef.current;
    return K != null && K.disabled ? !1 : (E == null || E(N), !0);
  });
  v1({ container: w.current, accept(N) {
    return N.getAttribute("role") === "radio" ? NodeFilter.FILTER_REJECT : N.hasAttribute("role") ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;
  }, walk(N) {
    N.setAttribute("role", "none");
  } });
  let O = Z((N) => {
    let V = w.current;
    if (!V)
      return;
    let K = Yr(V), J = g.filter((ie) => ie.propsRef.current.disabled === !1).map((ie) => ie.element.current);
    switch (N.key) {
      case he.Enter:
        w1(N.currentTarget);
        break;
      case he.ArrowLeft:
      case he.ArrowUp:
        if (N.preventDefault(), N.stopPropagation(), xt(J, qe.Previous | qe.WrapAround) === An.Success) {
          let ie = g.find((X) => X.element.current === (K == null ? void 0 : K.activeElement));
          ie && _(ie.propsRef.current.value);
        }
        break;
      case he.ArrowRight:
      case he.ArrowDown:
        if (N.preventDefault(), N.stopPropagation(), xt(J, qe.Next | qe.WrapAround) === An.Success) {
          let ie = g.find((X) => X.element.current === (K == null ? void 0 : K.activeElement));
          ie && _(ie.propsRef.current.value);
        }
        break;
      case he.Space:
        {
          N.preventDefault(), N.stopPropagation();
          let ie = g.find((X) => X.element.current === (K == null ? void 0 : K.activeElement));
          ie && _(ie.propsRef.current.value);
        }
        break;
    }
  }), k = Z((N) => (v({ type: 0, ...N }), () => v({ type: 1, id: N.id }))), z = oe(() => ({ value: j, firstOption: C, containsCheckedOption: P, disabled: d, compare: f, ...h }), [j, C, P, d, f, h]), F = oe(() => ({ registerOption: k, change: _ }), [k, _]), A = { ref: S, id: r, role: "radiogroup", "aria-labelledby": b, "aria-describedby": y, onKeyDown: O }, T = oe(() => ({ value: j }), [j]), D = G(null), M = wn();
  return W(() => {
    D.current && s !== void 0 && M.addEventListener(D.current, "reset", () => {
      _(s);
    });
  }, [D, _]), I.createElement(x, { name: "RadioGroup.Description" }, I.createElement(m, { name: "RadioGroup.Label" }, I.createElement(dp.Provider, { value: F }, I.createElement(up.Provider, { value: z }, a != null && j != null && Dl({ [a]: j }).map(([N, V], K) => I.createElement(rn, { features: nn.Hidden, ref: K === 0 ? (J) => {
    var ie;
    D.current = (ie = J == null ? void 0 : J.closest("form")) != null ? ie : null;
  } : void 0, ...is({ key: N, as: "input", type: "radio", checked: V != null, hidden: !0, readOnly: !0, form: i, disabled: d, name: N, value: V }) })), Pe({ ourProps: A, theirProps: p, slot: T, defaultTag: TP, name: "RadioGroup" })))));
}
var LP = ((e) => (e[e.Empty = 1] = "Empty", e[e.Active = 2] = "Active", e))(LP || {});
let kP = "div";
function MP(e, t) {
  var n;
  let r = Ye(), { id: o = `headlessui-radiogroup-option-${r}`, value: s, disabled: i = !1, ...a } = e, c = G(null), u = Te(c, t), [d, p] = cp(), [f, h] = Il(), { addFlag: v, removeFlag: g, hasFlag: b } = I1(1), m = wt({ value: s, disabled: i }), y = V1("RadioGroup.Option"), x = H1("RadioGroup.Option");
  Le(() => x.registerOption({ id: o, element: c, propsRef: m }), [o, x, c, m]);
  let w = Z((k) => {
    var z;
    if (Cr(k.currentTarget))
      return k.preventDefault();
    x.change(s) && (v(2), (z = c.current) == null || z.focus());
  }), S = Z((k) => {
    if (Cr(k.currentTarget))
      return k.preventDefault();
    v(2);
  }), j = Z(() => g(2)), E = ((n = y.firstOption) == null ? void 0 : n.id) === o, C = y.disabled || i, P = y.compare(y.value, s), _ = { ref: u, id: o, role: "radio", "aria-checked": P ? "true" : "false", "aria-labelledby": d, "aria-describedby": f, "aria-disabled": C ? !0 : void 0, tabIndex: (() => C ? -1 : P || !y.containsCheckedOption && E ? 0 : -1)(), onClick: C ? void 0 : w, onFocus: C ? void 0 : S, onBlur: C ? void 0 : j }, O = oe(() => ({ checked: P, disabled: C, active: b(2) }), [P, C, b]);
  return I.createElement(h, { name: "RadioGroup.Description" }, I.createElement(p, { name: "RadioGroup.Label" }, Pe({ ourProps: _, theirProps: a, slot: O, defaultTag: kP, name: "RadioGroup.Option" })));
}
let $P = Ee(AP), NP = Ee(MP), zf = Object.assign($P, { Option: NP, Label: D1, Description: Jd }), pp = De(null);
pp.displayName = "GroupContext";
let RP = bt;
function DP(e) {
  var t;
  let [n, r] = U(null), [o, s] = cp(), [i, a] = Il(), c = oe(() => ({ switch: n, setSwitch: r, labelledby: o, describedby: i }), [n, r, o, i]), u = {}, d = e;
  return I.createElement(a, { name: "Switch.Description" }, I.createElement(s, { name: "Switch.Label", props: { htmlFor: (t = c.switch) == null ? void 0 : t.id, onClick(p) {
    n && (p.currentTarget.tagName === "LABEL" && p.preventDefault(), n.click(), n.focus({ preventScroll: !0 }));
  } } }, I.createElement(pp.Provider, { value: c }, Pe({ ourProps: u, theirProps: d, defaultTag: RP, name: "Switch.Group" }))));
}
let IP = "button";
function VP(e, t) {
  var n;
  let r = Ye(), { id: o = `headlessui-switch-${r}`, checked: s, defaultChecked: i = !1, onChange: a, disabled: c = !1, name: u, value: d, form: p, ...f } = e, h = Oe(pp), v = G(null), g = Te(v, t, h === null ? null : h.setSwitch), [b, m] = Ml(s, a, i), y = Z(() => m == null ? void 0 : m(!b)), x = Z((P) => {
    if (Cr(P.currentTarget))
      return P.preventDefault();
    P.preventDefault(), y();
  }), w = Z((P) => {
    P.key === he.Space ? (P.preventDefault(), y()) : P.key === he.Enter && w1(P.currentTarget);
  }), S = Z((P) => P.preventDefault()), j = oe(() => ({ checked: b }), [b]), E = { id: o, ref: g, role: "switch", type: ms(e, v), tabIndex: e.tabIndex === -1 ? 0 : (n = e.tabIndex) != null ? n : 0, "aria-checked": b, "aria-labelledby": h == null ? void 0 : h.labelledby, "aria-describedby": h == null ? void 0 : h.describedby, disabled: c, onClick: x, onKeyUp: w, onKeyPress: S }, C = wn();
  return W(() => {
    var P;
    let _ = (P = v.current) == null ? void 0 : P.closest("form");
    _ && i !== void 0 && C.addEventListener(_, "reset", () => {
      m(i);
    });
  }, [v, m]), I.createElement(I.Fragment, null, u != null && b && I.createElement(rn, { features: nn.Hidden, ...is({ as: "input", type: "checkbox", hidden: !0, readOnly: !0, disabled: c, form: p, checked: b, name: u, value: d }) }), Pe({ ourProps: E, theirProps: f, slot: j, defaultTag: IP, name: "Switch" }));
}
let HP = Ee(VP), BP = DP, Hc = Object.assign(HP, { Group: BP, Label: D1, Description: Jd });
function zP({ onFocus: e }) {
  let [t, n] = U(!0), r = vs();
  return t ? I.createElement(rn, { as: "button", type: "button", features: nn.Focusable, onFocus: (o) => {
    o.preventDefault();
    let s, i = 50;
    function a() {
      if (i-- <= 0) {
        s && cancelAnimationFrame(s);
        return;
      }
      if (e()) {
        if (cancelAnimationFrame(s), !r.current)
          return;
        n(!1);
        return;
      }
      s = requestAnimationFrame(a);
    }
    s = requestAnimationFrame(a);
  } }) : null;
}
const B1 = He.createContext(null);
function FP() {
  return { groups: /* @__PURE__ */ new Map(), get(e, t) {
    var n;
    let r = this.groups.get(e);
    r || (r = /* @__PURE__ */ new Map(), this.groups.set(e, r));
    let o = (n = r.get(t)) != null ? n : 0;
    r.set(t, o + 1);
    let s = Array.from(r.keys()).indexOf(t);
    function i() {
      let a = r.get(t);
      a > 1 ? r.set(t, a - 1) : r.delete(t);
    }
    return [s, i];
  } };
}
function UP({ children: e }) {
  let t = He.useRef(FP());
  return He.createElement(B1.Provider, { value: t }, e);
}
function z1(e) {
  let t = He.useContext(B1);
  if (!t)
    throw new Error("You must wrap your component in a <StableCollection>");
  let n = WP(), [r, o] = t.current.get(e, n);
  return He.useEffect(() => o, []), r;
}
function WP() {
  var e, t, n;
  let r = (n = (t = (e = He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED) == null ? void 0 : e.ReactCurrentOwner) == null ? void 0 : t.current) != null ? n : null;
  if (!r)
    return Symbol();
  let o = [], s = r;
  for (; s; )
    o.push(s.index), s = s.return;
  return "$." + o.join(".");
}
var GP = ((e) => (e[e.Forwards = 0] = "Forwards", e[e.Backwards = 1] = "Backwards", e))(GP || {}), KP = ((e) => (e[e.Less = -1] = "Less", e[e.Equal = 0] = "Equal", e[e.Greater = 1] = "Greater", e))(KP || {}), qP = ((e) => (e[e.SetSelectedIndex = 0] = "SetSelectedIndex", e[e.RegisterTab = 1] = "RegisterTab", e[e.UnregisterTab = 2] = "UnregisterTab", e[e.RegisterPanel = 3] = "RegisterPanel", e[e.UnregisterPanel = 4] = "UnregisterPanel", e))(qP || {});
let YP = { 0(e, t) {
  var n;
  let r = vr(e.tabs, (d) => d.current), o = vr(e.panels, (d) => d.current), s = r.filter((d) => {
    var p;
    return !((p = d.current) != null && p.hasAttribute("disabled"));
  }), i = { ...e, tabs: r, panels: o };
  if (t.index < 0 || t.index > r.length - 1) {
    let d = je(Math.sign(t.index - e.selectedIndex), { [-1]: () => 1, 0: () => je(Math.sign(t.index), { [-1]: () => 0, 0: () => 0, 1: () => 1 }), 1: () => 0 });
    if (s.length === 0)
      return i;
    let p = je(d, { 0: () => r.indexOf(s[0]), 1: () => r.indexOf(s[s.length - 1]) });
    return { ...i, selectedIndex: p === -1 ? e.selectedIndex : p };
  }
  let a = r.slice(0, t.index), c = [...r.slice(t.index), ...a].find((d) => s.includes(d));
  if (!c)
    return i;
  let u = (n = r.indexOf(c)) != null ? n : e.selectedIndex;
  return u === -1 && (u = e.selectedIndex), { ...i, selectedIndex: u };
}, 1(e, t) {
  if (e.tabs.includes(t.tab))
    return e;
  let n = e.tabs[e.selectedIndex], r = vr([...e.tabs, t.tab], (s) => s.current), o = e.selectedIndex;
  return e.info.current.isControlled || (o = r.indexOf(n), o === -1 && (o = e.selectedIndex)), { ...e, tabs: r, selectedIndex: o };
}, 2(e, t) {
  return { ...e, tabs: e.tabs.filter((n) => n !== t.tab) };
}, 3(e, t) {
  return e.panels.includes(t.panel) ? e : { ...e, panels: vr([...e.panels, t.panel], (n) => n.current) };
}, 4(e, t) {
  return { ...e, panels: e.panels.filter((n) => n !== t.panel) };
} }, fp = De(null);
fp.displayName = "TabsDataContext";
function as(e) {
  let t = Oe(fp);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, as), n;
  }
  return t;
}
let hp = De(null);
hp.displayName = "TabsActionsContext";
function gp(e) {
  let t = Oe(hp);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, gp), n;
  }
  return t;
}
function XP(e, t) {
  return je(t.type, YP, e, t);
}
let ZP = bt;
function JP(e, t) {
  let { defaultIndex: n = 0, vertical: r = !1, manual: o = !1, onChange: s, selectedIndex: i = null, ...a } = e;
  const c = r ? "vertical" : "horizontal", u = o ? "manual" : "auto";
  let d = i !== null, p = wt({ isControlled: d }), f = Te(t), [h, v] = Gr(XP, { info: p, selectedIndex: i ?? n, tabs: [], panels: [] }), g = oe(() => ({ selectedIndex: h.selectedIndex }), [h.selectedIndex]), b = wt(s || (() => {
  })), m = wt(h.tabs), y = oe(() => ({ orientation: c, activation: u, ...h }), [c, u, h]), x = Z((P) => (v({ type: 1, tab: P }), () => v({ type: 2, tab: P }))), w = Z((P) => (v({ type: 3, panel: P }), () => v({ type: 4, panel: P }))), S = Z((P) => {
    j.current !== P && b.current(P), d || v({ type: 0, index: P });
  }), j = wt(d ? e.selectedIndex : h.selectedIndex), E = oe(() => ({ registerTab: x, registerPanel: w, change: S }), []);
  Le(() => {
    v({ type: 0, index: i ?? n });
  }, [i]), Le(() => {
    if (j.current === void 0 || h.tabs.length <= 0)
      return;
    let P = vr(h.tabs, (_) => _.current);
    P.some((_, O) => h.tabs[O] !== _) && S(P.indexOf(h.tabs[j.current]));
  });
  let C = { ref: f };
  return I.createElement(UP, null, I.createElement(hp.Provider, { value: E }, I.createElement(fp.Provider, { value: y }, y.tabs.length <= 0 && I.createElement(zP, { onFocus: () => {
    var P, _;
    for (let O of m.current)
      if (((P = O.current) == null ? void 0 : P.tabIndex) === 0)
        return (_ = O.current) == null || _.focus(), !0;
    return !1;
  } }), Pe({ ourProps: C, theirProps: a, slot: g, defaultTag: ZP, name: "Tabs" }))));
}
let QP = "div";
function eE(e, t) {
  let { orientation: n, selectedIndex: r } = as("Tab.List"), o = Te(t);
  return Pe({ ourProps: { ref: o, role: "tablist", "aria-orientation": n }, theirProps: e, slot: { selectedIndex: r }, defaultTag: QP, name: "Tabs.List" });
}
let tE = "button";
function nE(e, t) {
  var n, r;
  let o = Ye(), { id: s = `headlessui-tabs-tab-${o}`, ...i } = e, { orientation: a, activation: c, selectedIndex: u, tabs: d, panels: p } = as("Tab"), f = gp("Tab"), h = as("Tab"), v = G(null), g = Te(v, t);
  Le(() => f.registerTab(v), [f, v]);
  let b = z1("tabs"), m = d.indexOf(v);
  m === -1 && (m = b);
  let y = m === u, x = Z((_) => {
    var O;
    let k = _();
    if (k === An.Success && c === "auto") {
      let z = (O = Yr(v)) == null ? void 0 : O.activeElement, F = h.tabs.findIndex((A) => A.current === z);
      F !== -1 && f.change(F);
    }
    return k;
  }), w = Z((_) => {
    let O = d.map((k) => k.current).filter(Boolean);
    if (_.key === he.Space || _.key === he.Enter) {
      _.preventDefault(), _.stopPropagation(), f.change(m);
      return;
    }
    switch (_.key) {
      case he.Home:
      case he.PageUp:
        return _.preventDefault(), _.stopPropagation(), x(() => xt(O, qe.First));
      case he.End:
      case he.PageDown:
        return _.preventDefault(), _.stopPropagation(), x(() => xt(O, qe.Last));
    }
    if (x(() => je(a, { vertical() {
      return _.key === he.ArrowUp ? xt(O, qe.Previous | qe.WrapAround) : _.key === he.ArrowDown ? xt(O, qe.Next | qe.WrapAround) : An.Error;
    }, horizontal() {
      return _.key === he.ArrowLeft ? xt(O, qe.Previous | qe.WrapAround) : _.key === he.ArrowRight ? xt(O, qe.Next | qe.WrapAround) : An.Error;
    } })) === An.Success)
      return _.preventDefault();
  }), S = G(!1), j = Z(() => {
    var _;
    S.current || (S.current = !0, (_ = v.current) == null || _.focus({ preventScroll: !0 }), f.change(m), Ri(() => {
      S.current = !1;
    }));
  }), E = Z((_) => {
    _.preventDefault();
  }), C = oe(() => {
    var _;
    return { selected: y, disabled: (_ = e.disabled) != null ? _ : !1 };
  }, [y, e.disabled]), P = { ref: g, onKeyDown: w, onMouseDown: E, onClick: j, id: s, role: "tab", type: ms(e, v), "aria-controls": (r = (n = p[m]) == null ? void 0 : n.current) == null ? void 0 : r.id, "aria-selected": y, tabIndex: y ? 0 : -1 };
  return Pe({ ourProps: P, theirProps: i, slot: C, defaultTag: tE, name: "Tabs.Tab" });
}
let rE = "div";
function oE(e, t) {
  let { selectedIndex: n } = as("Tab.Panels"), r = Te(t), o = oe(() => ({ selectedIndex: n }), [n]);
  return Pe({ ourProps: { ref: r }, theirProps: e, slot: o, defaultTag: rE, name: "Tabs.Panels" });
}
let sE = "div", iE = Rt.RenderStrategy | Rt.Static;
function aE(e, t) {
  var n, r, o, s;
  let i = Ye(), { id: a = `headlessui-tabs-panel-${i}`, tabIndex: c = 0, ...u } = e, { selectedIndex: d, tabs: p, panels: f } = as("Tab.Panel"), h = gp("Tab.Panel"), v = G(null), g = Te(v, t);
  Le(() => h.registerPanel(v), [h, v, a]);
  let b = z1("panels"), m = f.indexOf(v);
  m === -1 && (m = b);
  let y = m === d, x = oe(() => ({ selected: y }), [y]), w = { ref: g, id: a, role: "tabpanel", "aria-labelledby": (r = (n = p[m]) == null ? void 0 : n.current) == null ? void 0 : r.id, tabIndex: y ? c : -1 };
  return !y && ((o = u.unmount) == null || o) && !((s = u.static) != null && s) ? I.createElement(rn, { as: "span", "aria-hidden": "true", ...w }) : Pe({ ourProps: w, theirProps: u, slot: x, defaultTag: sE, features: iE, visible: y, name: "Tabs.Panel" });
}
let lE = Ee(nE), cE = Ee(JP), uE = Ee(eE), dE = Ee(oE), pE = Ee(aE), Rs = Object.assign(lE, { Group: cE, List: uE, Panels: dE, Panel: pE });
function fE(e) {
  let t = { called: !1 };
  return (...n) => {
    if (!t.called)
      return t.called = !0, e(...n);
  };
}
function Bc(e, ...t) {
  e && t.length > 0 && e.classList.add(...t);
}
function zc(e, ...t) {
  e && t.length > 0 && e.classList.remove(...t);
}
function hE(e, t) {
  let n = xn();
  if (!e)
    return n.dispose;
  let { transitionDuration: r, transitionDelay: o } = getComputedStyle(e), [s, i] = [r, o].map((c) => {
    let [u = 0] = c.split(",").filter(Boolean).map((d) => d.includes("ms") ? parseFloat(d) : parseFloat(d) * 1e3).sort((d, p) => p - d);
    return u;
  }), a = s + i;
  if (a !== 0) {
    n.group((u) => {
      u.setTimeout(() => {
        t(), u.dispose();
      }, a), u.addEventListener(e, "transitionrun", (d) => {
        d.target === d.currentTarget && u.dispose();
      });
    });
    let c = n.addEventListener(e, "transitionend", (u) => {
      u.target === u.currentTarget && (t(), c());
    });
  } else
    t();
  return n.add(() => t()), n.dispose;
}
function gE(e, t, n, r) {
  let o = n ? "enter" : "leave", s = xn(), i = r !== void 0 ? fE(r) : () => {
  };
  o === "enter" && (e.removeAttribute("hidden"), e.style.display = "");
  let a = je(o, { enter: () => t.enter, leave: () => t.leave }), c = je(o, { enter: () => t.enterTo, leave: () => t.leaveTo }), u = je(o, { enter: () => t.enterFrom, leave: () => t.leaveFrom });
  return zc(e, ...t.base, ...t.enter, ...t.enterTo, ...t.enterFrom, ...t.leave, ...t.leaveFrom, ...t.leaveTo, ...t.entered), Bc(e, ...t.base, ...a, ...u), s.nextFrame(() => {
    zc(e, ...t.base, ...a, ...u), Bc(e, ...t.base, ...a, ...c), hE(e, () => (zc(e, ...t.base, ...a), Bc(e, ...t.base, ...t.entered), i()));
  }), s.dispose;
}
function mE({ immediate: e, container: t, direction: n, classes: r, onStart: o, onStop: s }) {
  let i = vs(), a = wn(), c = wt(n);
  Le(() => {
    e && (c.current = "enter");
  }, [e]), Le(() => {
    let u = xn();
    a.add(u.dispose);
    let d = t.current;
    if (d && c.current !== "idle" && i.current)
      return u.dispose(), o.current(c.current), u.add(gE(d, r.current, c.current === "enter", () => {
        u.dispose(), s.current(c.current);
      })), u.dispose;
  }, [n]);
}
function Lr(e = "") {
  return e.split(/\s+/).filter((t) => t.length > 1);
}
let Bl = De(null);
Bl.displayName = "TransitionContext";
var vE = ((e) => (e.Visible = "visible", e.Hidden = "hidden", e))(vE || {});
function bE() {
  let e = Oe(Bl);
  if (e === null)
    throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");
  return e;
}
function yE() {
  let e = Oe(zl);
  if (e === null)
    throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");
  return e;
}
let zl = De(null);
zl.displayName = "NestingContext";
function Fl(e) {
  return "children" in e ? Fl(e.children) : e.current.filter(({ el: t }) => t.current !== null).filter(({ state: t }) => t === "visible").length > 0;
}
function F1(e, t) {
  let n = wt(e), r = G([]), o = vs(), s = wn(), i = Z((h, v = Ir.Hidden) => {
    let g = r.current.findIndex(({ el: b }) => b === h);
    g !== -1 && (je(v, { [Ir.Unmount]() {
      r.current.splice(g, 1);
    }, [Ir.Hidden]() {
      r.current[g].state = "hidden";
    } }), s.microTask(() => {
      var b;
      !Fl(r) && o.current && ((b = n.current) == null || b.call(n));
    }));
  }), a = Z((h) => {
    let v = r.current.find(({ el: g }) => g === h);
    return v ? v.state !== "visible" && (v.state = "visible") : r.current.push({ el: h, state: "visible" }), () => i(h, Ir.Unmount);
  }), c = G([]), u = G(Promise.resolve()), d = G({ enter: [], leave: [], idle: [] }), p = Z((h, v, g) => {
    c.current.splice(0), t && (t.chains.current[v] = t.chains.current[v].filter(([b]) => b !== h)), t == null || t.chains.current[v].push([h, new Promise((b) => {
      c.current.push(b);
    })]), t == null || t.chains.current[v].push([h, new Promise((b) => {
      Promise.all(d.current[v].map(([m, y]) => y)).then(() => b());
    })]), v === "enter" ? u.current = u.current.then(() => t == null ? void 0 : t.wait.current).then(() => g(v)) : g(v);
  }), f = Z((h, v, g) => {
    Promise.all(d.current[v].splice(0).map(([b, m]) => m)).then(() => {
      var b;
      (b = c.current.shift()) == null || b();
    }).then(() => g(v));
  });
  return oe(() => ({ children: r, register: a, unregister: i, onStart: p, onStop: f, wait: u, chains: d }), [a, i, r, p, f, d, u]);
}
function xE() {
}
let wE = ["beforeEnter", "afterEnter", "beforeLeave", "afterLeave"];
function Ff(e) {
  var t;
  let n = {};
  for (let r of wE)
    n[r] = (t = e[r]) != null ? t : xE;
  return n;
}
function SE(e) {
  let t = G(Ff(e));
  return W(() => {
    t.current = Ff(e);
  }, [e]), t;
}
let jE = "div", U1 = Rt.RenderStrategy;
function CE(e, t) {
  var n, r;
  let { beforeEnter: o, afterEnter: s, beforeLeave: i, afterLeave: a, enter: c, enterFrom: u, enterTo: d, entered: p, leave: f, leaveFrom: h, leaveTo: v, ...g } = e, b = G(null), m = Te(b, t), y = (n = g.unmount) == null || n ? Ir.Unmount : Ir.Hidden, { show: x, appear: w, initial: S } = bE(), [j, E] = U(x ? "visible" : "hidden"), C = yE(), { register: P, unregister: _ } = C;
  W(() => P(b), [P, b]), W(() => {
    if (y === Ir.Hidden && b.current) {
      if (x && j !== "visible") {
        E("visible");
        return;
      }
      return je(j, { hidden: () => _(b), visible: () => P(b) });
    }
  }, [j, b, P, _, x, y]);
  let O = wt({ base: Lr(g.className), enter: Lr(c), enterFrom: Lr(u), enterTo: Lr(d), entered: Lr(p), leave: Lr(f), leaveFrom: Lr(h), leaveTo: Lr(v) }), k = SE({ beforeEnter: o, afterEnter: s, beforeLeave: i, afterLeave: a }), z = gs();
  W(() => {
    if (z && j === "visible" && b.current === null)
      throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?");
  }, [b, j, z]);
  let F = S && !w, A = w && x && S, T = (() => !z || F ? "idle" : x ? "enter" : "leave")(), D = I1(0), M = Z((X) => je(X, { enter: () => {
    D.addFlag(Ge.Opening), k.current.beforeEnter();
  }, leave: () => {
    D.addFlag(Ge.Closing), k.current.beforeLeave();
  }, idle: () => {
  } })), N = Z((X) => je(X, { enter: () => {
    D.removeFlag(Ge.Opening), k.current.afterEnter();
  }, leave: () => {
    D.removeFlag(Ge.Closing), k.current.afterLeave();
  }, idle: () => {
  } })), V = F1(() => {
    E("hidden"), _(b);
  }, C), K = G(!1);
  mE({ immediate: A, container: b, classes: O, direction: T, onStart: wt((X) => {
    K.current = !0, V.onStart(b, X, M);
  }), onStop: wt((X) => {
    K.current = !1, V.onStop(b, X, N), X === "leave" && !Fl(V) && (E("hidden"), _(b));
  }) });
  let J = g, ie = { ref: m };
  return A ? J = { ...J, className: Ja(g.className, ...O.current.enter, ...O.current.enterFrom) } : K.current && (J.className = Ja(g.className, (r = b.current) == null ? void 0 : r.className), J.className === "" && delete J.className), I.createElement(zl.Provider, { value: V }, I.createElement(Di, { value: je(j, { visible: Ge.Open, hidden: Ge.Closed }) | D.flags }, Pe({ ourProps: ie, theirProps: J, defaultTag: jE, features: U1, visible: j === "visible", name: "Transition.Child" })));
}
function PE(e, t) {
  let { show: n, appear: r = !1, unmount: o = !0, ...s } = e, i = G(null), a = Te(i, t);
  gs();
  let c = Xr();
  if (n === void 0 && c !== null && (n = (c & Ge.Open) === Ge.Open), ![!0, !1].includes(n))
    throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");
  let [u, d] = U(n ? "visible" : "hidden"), p = F1(() => {
    d("hidden");
  }), [f, h] = U(!0), v = G([n]);
  Le(() => {
    f !== !1 && v.current[v.current.length - 1] !== n && (v.current.push(n), h(!1));
  }, [v, n]);
  let g = oe(() => ({ show: n, appear: r, initial: f }), [n, r, f]);
  W(() => {
    if (n)
      d("visible");
    else if (!Fl(p))
      d("hidden");
    else {
      let x = i.current;
      if (!x)
        return;
      let w = x.getBoundingClientRect();
      w.x === 0 && w.y === 0 && w.width === 0 && w.height === 0 && d("hidden");
    }
  }, [n, p]);
  let b = { unmount: o }, m = Z(() => {
    var x;
    f && h(!1), (x = e.beforeEnter) == null || x.call(e);
  }), y = Z(() => {
    var x;
    f && h(!1), (x = e.beforeLeave) == null || x.call(e);
  });
  return I.createElement(zl.Provider, { value: p }, I.createElement(Bl.Provider, { value: g }, Pe({ ourProps: { ...b, as: bt, children: I.createElement(W1, { ref: a, ...b, ...s, beforeEnter: m, beforeLeave: y }) }, theirProps: {}, defaultTag: bt, features: U1, visible: u === "visible", name: "Transition" })));
}
function EE(e, t) {
  let n = Oe(Bl) !== null, r = Xr() !== null;
  return I.createElement(I.Fragment, null, !n && r ? I.createElement(qu, { ref: t, ...e }) : I.createElement(W1, { ref: t, ...e }));
}
let qu = Ee(PE), W1 = Ee(CE), _E = Ee(EE), tr = Object.assign(qu, { Child: _E, Root: qu });
var Uf = function(t) {
  return t.reduce(function(n, r) {
    var o = r[0], s = r[1];
    return n[o] = s, n;
  }, {});
}, Wf = typeof window < "u" && window.document && window.document.createElement ? He.useLayoutEffect : He.useEffect, Kt = "top", Sn = "bottom", jn = "right", qt = "left", mp = "auto", zi = [Kt, Sn, jn, qt], ls = "start", bi = "end", OE = "clippingParents", G1 = "viewport", Ds = "popper", TE = "reference", Gf = /* @__PURE__ */ zi.reduce(function(e, t) {
  return e.concat([t + "-" + ls, t + "-" + bi]);
}, []), K1 = /* @__PURE__ */ [].concat(zi, [mp]).reduce(function(e, t) {
  return e.concat([t, t + "-" + ls, t + "-" + bi]);
}, []), AE = "beforeRead", LE = "read", kE = "afterRead", ME = "beforeMain", $E = "main", NE = "afterMain", RE = "beforeWrite", DE = "write", IE = "afterWrite", VE = [AE, LE, kE, ME, $E, NE, RE, DE, IE];
function or(e) {
  return e ? (e.nodeName || "").toLowerCase() : null;
}
function on(e) {
  if (e == null)
    return window;
  if (e.toString() !== "[object Window]") {
    var t = e.ownerDocument;
    return t && t.defaultView || window;
  }
  return e;
}
function xo(e) {
  var t = on(e).Element;
  return e instanceof t || e instanceof Element;
}
function yn(e) {
  var t = on(e).HTMLElement;
  return e instanceof t || e instanceof HTMLElement;
}
function vp(e) {
  if (typeof ShadowRoot > "u")
    return !1;
  var t = on(e).ShadowRoot;
  return e instanceof t || e instanceof ShadowRoot;
}
function HE(e) {
  var t = e.state;
  Object.keys(t.elements).forEach(function(n) {
    var r = t.styles[n] || {}, o = t.attributes[n] || {}, s = t.elements[n];
    !yn(s) || !or(s) || (Object.assign(s.style, r), Object.keys(o).forEach(function(i) {
      var a = o[i];
      a === !1 ? s.removeAttribute(i) : s.setAttribute(i, a === !0 ? "" : a);
    }));
  });
}
function BE(e) {
  var t = e.state, n = {
    popper: {
      position: t.options.strategy,
      left: "0",
      top: "0",
      margin: "0"
    },
    arrow: {
      position: "absolute"
    },
    reference: {}
  };
  return Object.assign(t.elements.popper.style, n.popper), t.styles = n, t.elements.arrow && Object.assign(t.elements.arrow.style, n.arrow), function() {
    Object.keys(t.elements).forEach(function(r) {
      var o = t.elements[r], s = t.attributes[r] || {}, i = Object.keys(t.styles.hasOwnProperty(r) ? t.styles[r] : n[r]), a = i.reduce(function(c, u) {
        return c[u] = "", c;
      }, {});
      !yn(o) || !or(o) || (Object.assign(o.style, a), Object.keys(s).forEach(function(c) {
        o.removeAttribute(c);
      }));
    });
  };
}
const zE = {
  name: "applyStyles",
  enabled: !0,
  phase: "write",
  fn: HE,
  effect: BE,
  requires: ["computeStyles"]
};
function nr(e) {
  return e.split("-")[0];
}
var uo = Math.max, el = Math.min, cs = Math.round;
function Yu() {
  var e = navigator.userAgentData;
  return e != null && e.brands && Array.isArray(e.brands) ? e.brands.map(function(t) {
    return t.brand + "/" + t.version;
  }).join(" ") : navigator.userAgent;
}
function q1() {
  return !/^((?!chrome|android).)*safari/i.test(Yu());
}
function us(e, t, n) {
  t === void 0 && (t = !1), n === void 0 && (n = !1);
  var r = e.getBoundingClientRect(), o = 1, s = 1;
  t && yn(e) && (o = e.offsetWidth > 0 && cs(r.width) / e.offsetWidth || 1, s = e.offsetHeight > 0 && cs(r.height) / e.offsetHeight || 1);
  var i = xo(e) ? on(e) : window, a = i.visualViewport, c = !q1() && n, u = (r.left + (c && a ? a.offsetLeft : 0)) / o, d = (r.top + (c && a ? a.offsetTop : 0)) / s, p = r.width / o, f = r.height / s;
  return {
    width: p,
    height: f,
    top: d,
    right: u + p,
    bottom: d + f,
    left: u,
    x: u,
    y: d
  };
}
function bp(e) {
  var t = us(e), n = e.offsetWidth, r = e.offsetHeight;
  return Math.abs(t.width - n) <= 1 && (n = t.width), Math.abs(t.height - r) <= 1 && (r = t.height), {
    x: e.offsetLeft,
    y: e.offsetTop,
    width: n,
    height: r
  };
}
function Y1(e, t) {
  var n = t.getRootNode && t.getRootNode();
  if (e.contains(t))
    return !0;
  if (n && vp(n)) {
    var r = t;
    do {
      if (r && e.isSameNode(r))
        return !0;
      r = r.parentNode || r.host;
    } while (r);
  }
  return !1;
}
function Pr(e) {
  return on(e).getComputedStyle(e);
}
function FE(e) {
  return ["table", "td", "th"].indexOf(or(e)) >= 0;
}
function Zr(e) {
  return ((xo(e) ? e.ownerDocument : (
    // $FlowFixMe[prop-missing]
    e.document
  )) || window.document).documentElement;
}
function Ul(e) {
  return or(e) === "html" ? e : (
    // this is a quicker (but less type safe) way to save quite some bytes from the bundle
    // $FlowFixMe[incompatible-return]
    // $FlowFixMe[prop-missing]
    e.assignedSlot || // step into the shadow DOM of the parent of a slotted node
    e.parentNode || // DOM Element detected
    (vp(e) ? e.host : null) || // ShadowRoot detected
    // $FlowFixMe[incompatible-call]: HTMLElement is a Node
    Zr(e)
  );
}
function Kf(e) {
  return !yn(e) || // https://github.com/popperjs/popper-core/issues/837
  Pr(e).position === "fixed" ? null : e.offsetParent;
}
function UE(e) {
  var t = /firefox/i.test(Yu()), n = /Trident/i.test(Yu());
  if (n && yn(e)) {
    var r = Pr(e);
    if (r.position === "fixed")
      return null;
  }
  var o = Ul(e);
  for (vp(o) && (o = o.host); yn(o) && ["html", "body"].indexOf(or(o)) < 0; ) {
    var s = Pr(o);
    if (s.transform !== "none" || s.perspective !== "none" || s.contain === "paint" || ["transform", "perspective"].indexOf(s.willChange) !== -1 || t && s.willChange === "filter" || t && s.filter && s.filter !== "none")
      return o;
    o = o.parentNode;
  }
  return null;
}
function Fi(e) {
  for (var t = on(e), n = Kf(e); n && FE(n) && Pr(n).position === "static"; )
    n = Kf(n);
  return n && (or(n) === "html" || or(n) === "body" && Pr(n).position === "static") ? t : n || UE(e) || t;
}
function yp(e) {
  return ["top", "bottom"].indexOf(e) >= 0 ? "x" : "y";
}
function Xs(e, t, n) {
  return uo(e, el(t, n));
}
function WE(e, t, n) {
  var r = Xs(e, t, n);
  return r > n ? n : r;
}
function X1() {
  return {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0
  };
}
function Z1(e) {
  return Object.assign({}, X1(), e);
}
function J1(e, t) {
  return t.reduce(function(n, r) {
    return n[r] = e, n;
  }, {});
}
var GE = function(t, n) {
  return t = typeof t == "function" ? t(Object.assign({}, n.rects, {
    placement: n.placement
  })) : t, Z1(typeof t != "number" ? t : J1(t, zi));
};
function KE(e) {
  var t, n = e.state, r = e.name, o = e.options, s = n.elements.arrow, i = n.modifiersData.popperOffsets, a = nr(n.placement), c = yp(a), u = [qt, jn].indexOf(a) >= 0, d = u ? "height" : "width";
  if (!(!s || !i)) {
    var p = GE(o.padding, n), f = bp(s), h = c === "y" ? Kt : qt, v = c === "y" ? Sn : jn, g = n.rects.reference[d] + n.rects.reference[c] - i[c] - n.rects.popper[d], b = i[c] - n.rects.reference[c], m = Fi(s), y = m ? c === "y" ? m.clientHeight || 0 : m.clientWidth || 0 : 0, x = g / 2 - b / 2, w = p[h], S = y - f[d] - p[v], j = y / 2 - f[d] / 2 + x, E = Xs(w, j, S), C = c;
    n.modifiersData[r] = (t = {}, t[C] = E, t.centerOffset = E - j, t);
  }
}
function qE(e) {
  var t = e.state, n = e.options, r = n.element, o = r === void 0 ? "[data-popper-arrow]" : r;
  o != null && (typeof o == "string" && (o = t.elements.popper.querySelector(o), !o) || Y1(t.elements.popper, o) && (t.elements.arrow = o));
}
const YE = {
  name: "arrow",
  enabled: !0,
  phase: "main",
  fn: KE,
  effect: qE,
  requires: ["popperOffsets"],
  requiresIfExists: ["preventOverflow"]
};
function ds(e) {
  return e.split("-")[1];
}
var XE = {
  top: "auto",
  right: "auto",
  bottom: "auto",
  left: "auto"
};
function ZE(e, t) {
  var n = e.x, r = e.y, o = t.devicePixelRatio || 1;
  return {
    x: cs(n * o) / o || 0,
    y: cs(r * o) / o || 0
  };
}
function qf(e) {
  var t, n = e.popper, r = e.popperRect, o = e.placement, s = e.variation, i = e.offsets, a = e.position, c = e.gpuAcceleration, u = e.adaptive, d = e.roundOffsets, p = e.isFixed, f = i.x, h = f === void 0 ? 0 : f, v = i.y, g = v === void 0 ? 0 : v, b = typeof d == "function" ? d({
    x: h,
    y: g
  }) : {
    x: h,
    y: g
  };
  h = b.x, g = b.y;
  var m = i.hasOwnProperty("x"), y = i.hasOwnProperty("y"), x = qt, w = Kt, S = window;
  if (u) {
    var j = Fi(n), E = "clientHeight", C = "clientWidth";
    if (j === on(n) && (j = Zr(n), Pr(j).position !== "static" && a === "absolute" && (E = "scrollHeight", C = "scrollWidth")), j = j, o === Kt || (o === qt || o === jn) && s === bi) {
      w = Sn;
      var P = p && j === S && S.visualViewport ? S.visualViewport.height : (
        // $FlowFixMe[prop-missing]
        j[E]
      );
      g -= P - r.height, g *= c ? 1 : -1;
    }
    if (o === qt || (o === Kt || o === Sn) && s === bi) {
      x = jn;
      var _ = p && j === S && S.visualViewport ? S.visualViewport.width : (
        // $FlowFixMe[prop-missing]
        j[C]
      );
      h -= _ - r.width, h *= c ? 1 : -1;
    }
  }
  var O = Object.assign({
    position: a
  }, u && XE), k = d === !0 ? ZE({
    x: h,
    y: g
  }, on(n)) : {
    x: h,
    y: g
  };
  if (h = k.x, g = k.y, c) {
    var z;
    return Object.assign({}, O, (z = {}, z[w] = y ? "0" : "", z[x] = m ? "0" : "", z.transform = (S.devicePixelRatio || 1) <= 1 ? "translate(" + h + "px, " + g + "px)" : "translate3d(" + h + "px, " + g + "px, 0)", z));
  }
  return Object.assign({}, O, (t = {}, t[w] = y ? g + "px" : "", t[x] = m ? h + "px" : "", t.transform = "", t));
}
function JE(e) {
  var t = e.state, n = e.options, r = n.gpuAcceleration, o = r === void 0 ? !0 : r, s = n.adaptive, i = s === void 0 ? !0 : s, a = n.roundOffsets, c = a === void 0 ? !0 : a, u = {
    placement: nr(t.placement),
    variation: ds(t.placement),
    popper: t.elements.popper,
    popperRect: t.rects.popper,
    gpuAcceleration: o,
    isFixed: t.options.strategy === "fixed"
  };
  t.modifiersData.popperOffsets != null && (t.styles.popper = Object.assign({}, t.styles.popper, qf(Object.assign({}, u, {
    offsets: t.modifiersData.popperOffsets,
    position: t.options.strategy,
    adaptive: i,
    roundOffsets: c
  })))), t.modifiersData.arrow != null && (t.styles.arrow = Object.assign({}, t.styles.arrow, qf(Object.assign({}, u, {
    offsets: t.modifiersData.arrow,
    position: "absolute",
    adaptive: !1,
    roundOffsets: c
  })))), t.attributes.popper = Object.assign({}, t.attributes.popper, {
    "data-popper-placement": t.placement
  });
}
const QE = {
  name: "computeStyles",
  enabled: !0,
  phase: "beforeWrite",
  fn: JE,
  data: {}
};
var aa = {
  passive: !0
};
function e_(e) {
  var t = e.state, n = e.instance, r = e.options, o = r.scroll, s = o === void 0 ? !0 : o, i = r.resize, a = i === void 0 ? !0 : i, c = on(t.elements.popper), u = [].concat(t.scrollParents.reference, t.scrollParents.popper);
  return s && u.forEach(function(d) {
    d.addEventListener("scroll", n.update, aa);
  }), a && c.addEventListener("resize", n.update, aa), function() {
    s && u.forEach(function(d) {
      d.removeEventListener("scroll", n.update, aa);
    }), a && c.removeEventListener("resize", n.update, aa);
  };
}
const t_ = {
  name: "eventListeners",
  enabled: !0,
  phase: "write",
  fn: function() {
  },
  effect: e_,
  data: {}
};
var n_ = {
  left: "right",
  right: "left",
  bottom: "top",
  top: "bottom"
};
function Va(e) {
  return e.replace(/left|right|bottom|top/g, function(t) {
    return n_[t];
  });
}
var r_ = {
  start: "end",
  end: "start"
};
function Yf(e) {
  return e.replace(/start|end/g, function(t) {
    return r_[t];
  });
}
function xp(e) {
  var t = on(e), n = t.pageXOffset, r = t.pageYOffset;
  return {
    scrollLeft: n,
    scrollTop: r
  };
}
function wp(e) {
  return us(Zr(e)).left + xp(e).scrollLeft;
}
function o_(e, t) {
  var n = on(e), r = Zr(e), o = n.visualViewport, s = r.clientWidth, i = r.clientHeight, a = 0, c = 0;
  if (o) {
    s = o.width, i = o.height;
    var u = q1();
    (u || !u && t === "fixed") && (a = o.offsetLeft, c = o.offsetTop);
  }
  return {
    width: s,
    height: i,
    x: a + wp(e),
    y: c
  };
}
function s_(e) {
  var t, n = Zr(e), r = xp(e), o = (t = e.ownerDocument) == null ? void 0 : t.body, s = uo(n.scrollWidth, n.clientWidth, o ? o.scrollWidth : 0, o ? o.clientWidth : 0), i = uo(n.scrollHeight, n.clientHeight, o ? o.scrollHeight : 0, o ? o.clientHeight : 0), a = -r.scrollLeft + wp(e), c = -r.scrollTop;
  return Pr(o || n).direction === "rtl" && (a += uo(n.clientWidth, o ? o.clientWidth : 0) - s), {
    width: s,
    height: i,
    x: a,
    y: c
  };
}
function Sp(e) {
  var t = Pr(e), n = t.overflow, r = t.overflowX, o = t.overflowY;
  return /auto|scroll|overlay|hidden/.test(n + o + r);
}
function Q1(e) {
  return ["html", "body", "#document"].indexOf(or(e)) >= 0 ? e.ownerDocument.body : yn(e) && Sp(e) ? e : Q1(Ul(e));
}
function Zs(e, t) {
  var n;
  t === void 0 && (t = []);
  var r = Q1(e), o = r === ((n = e.ownerDocument) == null ? void 0 : n.body), s = on(r), i = o ? [s].concat(s.visualViewport || [], Sp(r) ? r : []) : r, a = t.concat(i);
  return o ? a : (
    // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here
    a.concat(Zs(Ul(i)))
  );
}
function Xu(e) {
  return Object.assign({}, e, {
    left: e.x,
    top: e.y,
    right: e.x + e.width,
    bottom: e.y + e.height
  });
}
function i_(e, t) {
  var n = us(e, !1, t === "fixed");
  return n.top = n.top + e.clientTop, n.left = n.left + e.clientLeft, n.bottom = n.top + e.clientHeight, n.right = n.left + e.clientWidth, n.width = e.clientWidth, n.height = e.clientHeight, n.x = n.left, n.y = n.top, n;
}
function Xf(e, t, n) {
  return t === G1 ? Xu(o_(e, n)) : xo(t) ? i_(t, n) : Xu(s_(Zr(e)));
}
function a_(e) {
  var t = Zs(Ul(e)), n = ["absolute", "fixed"].indexOf(Pr(e).position) >= 0, r = n && yn(e) ? Fi(e) : e;
  return xo(r) ? t.filter(function(o) {
    return xo(o) && Y1(o, r) && or(o) !== "body";
  }) : [];
}
function l_(e, t, n, r) {
  var o = t === "clippingParents" ? a_(e) : [].concat(t), s = [].concat(o, [n]), i = s[0], a = s.reduce(function(c, u) {
    var d = Xf(e, u, r);
    return c.top = uo(d.top, c.top), c.right = el(d.right, c.right), c.bottom = el(d.bottom, c.bottom), c.left = uo(d.left, c.left), c;
  }, Xf(e, i, r));
  return a.width = a.right - a.left, a.height = a.bottom - a.top, a.x = a.left, a.y = a.top, a;
}
function ev(e) {
  var t = e.reference, n = e.element, r = e.placement, o = r ? nr(r) : null, s = r ? ds(r) : null, i = t.x + t.width / 2 - n.width / 2, a = t.y + t.height / 2 - n.height / 2, c;
  switch (o) {
    case Kt:
      c = {
        x: i,
        y: t.y - n.height
      };
      break;
    case Sn:
      c = {
        x: i,
        y: t.y + t.height
      };
      break;
    case jn:
      c = {
        x: t.x + t.width,
        y: a
      };
      break;
    case qt:
      c = {
        x: t.x - n.width,
        y: a
      };
      break;
    default:
      c = {
        x: t.x,
        y: t.y
      };
  }
  var u = o ? yp(o) : null;
  if (u != null) {
    var d = u === "y" ? "height" : "width";
    switch (s) {
      case ls:
        c[u] = c[u] - (t[d] / 2 - n[d] / 2);
        break;
      case bi:
        c[u] = c[u] + (t[d] / 2 - n[d] / 2);
        break;
    }
  }
  return c;
}
function yi(e, t) {
  t === void 0 && (t = {});
  var n = t, r = n.placement, o = r === void 0 ? e.placement : r, s = n.strategy, i = s === void 0 ? e.strategy : s, a = n.boundary, c = a === void 0 ? OE : a, u = n.rootBoundary, d = u === void 0 ? G1 : u, p = n.elementContext, f = p === void 0 ? Ds : p, h = n.altBoundary, v = h === void 0 ? !1 : h, g = n.padding, b = g === void 0 ? 0 : g, m = Z1(typeof b != "number" ? b : J1(b, zi)), y = f === Ds ? TE : Ds, x = e.rects.popper, w = e.elements[v ? y : f], S = l_(xo(w) ? w : w.contextElement || Zr(e.elements.popper), c, d, i), j = us(e.elements.reference), E = ev({
    reference: j,
    element: x,
    strategy: "absolute",
    placement: o
  }), C = Xu(Object.assign({}, x, E)), P = f === Ds ? C : j, _ = {
    top: S.top - P.top + m.top,
    bottom: P.bottom - S.bottom + m.bottom,
    left: S.left - P.left + m.left,
    right: P.right - S.right + m.right
  }, O = e.modifiersData.offset;
  if (f === Ds && O) {
    var k = O[o];
    Object.keys(_).forEach(function(z) {
      var F = [jn, Sn].indexOf(z) >= 0 ? 1 : -1, A = [Kt, Sn].indexOf(z) >= 0 ? "y" : "x";
      _[z] += k[A] * F;
    });
  }
  return _;
}
function c_(e, t) {
  t === void 0 && (t = {});
  var n = t, r = n.placement, o = n.boundary, s = n.rootBoundary, i = n.padding, a = n.flipVariations, c = n.allowedAutoPlacements, u = c === void 0 ? K1 : c, d = ds(r), p = d ? a ? Gf : Gf.filter(function(v) {
    return ds(v) === d;
  }) : zi, f = p.filter(function(v) {
    return u.indexOf(v) >= 0;
  });
  f.length === 0 && (f = p);
  var h = f.reduce(function(v, g) {
    return v[g] = yi(e, {
      placement: g,
      boundary: o,
      rootBoundary: s,
      padding: i
    })[nr(g)], v;
  }, {});
  return Object.keys(h).sort(function(v, g) {
    return h[v] - h[g];
  });
}
function u_(e) {
  if (nr(e) === mp)
    return [];
  var t = Va(e);
  return [Yf(e), t, Yf(t)];
}
function d_(e) {
  var t = e.state, n = e.options, r = e.name;
  if (!t.modifiersData[r]._skip) {
    for (var o = n.mainAxis, s = o === void 0 ? !0 : o, i = n.altAxis, a = i === void 0 ? !0 : i, c = n.fallbackPlacements, u = n.padding, d = n.boundary, p = n.rootBoundary, f = n.altBoundary, h = n.flipVariations, v = h === void 0 ? !0 : h, g = n.allowedAutoPlacements, b = t.options.placement, m = nr(b), y = m === b, x = c || (y || !v ? [Va(b)] : u_(b)), w = [b].concat(x).reduce(function(X, ne) {
      return X.concat(nr(ne) === mp ? c_(t, {
        placement: ne,
        boundary: d,
        rootBoundary: p,
        padding: u,
        flipVariations: v,
        allowedAutoPlacements: g
      }) : ne);
    }, []), S = t.rects.reference, j = t.rects.popper, E = /* @__PURE__ */ new Map(), C = !0, P = w[0], _ = 0; _ < w.length; _++) {
      var O = w[_], k = nr(O), z = ds(O) === ls, F = [Kt, Sn].indexOf(k) >= 0, A = F ? "width" : "height", T = yi(t, {
        placement: O,
        boundary: d,
        rootBoundary: p,
        altBoundary: f,
        padding: u
      }), D = F ? z ? jn : qt : z ? Sn : Kt;
      S[A] > j[A] && (D = Va(D));
      var M = Va(D), N = [];
      if (s && N.push(T[k] <= 0), a && N.push(T[D] <= 0, T[M] <= 0), N.every(function(X) {
        return X;
      })) {
        P = O, C = !1;
        break;
      }
      E.set(O, N);
    }
    if (C)
      for (var V = v ? 3 : 1, K = function(ne) {
        var fe = w.find(function(se) {
          var q = E.get(se);
          if (q)
            return q.slice(0, ne).every(function(ee) {
              return ee;
            });
        });
        if (fe)
          return P = fe, "break";
      }, J = V; J > 0; J--) {
        var ie = K(J);
        if (ie === "break")
          break;
      }
    t.placement !== P && (t.modifiersData[r]._skip = !0, t.placement = P, t.reset = !0);
  }
}
const p_ = {
  name: "flip",
  enabled: !0,
  phase: "main",
  fn: d_,
  requiresIfExists: ["offset"],
  data: {
    _skip: !1
  }
};
function Zf(e, t, n) {
  return n === void 0 && (n = {
    x: 0,
    y: 0
  }), {
    top: e.top - t.height - n.y,
    right: e.right - t.width + n.x,
    bottom: e.bottom - t.height + n.y,
    left: e.left - t.width - n.x
  };
}
function Jf(e) {
  return [Kt, jn, Sn, qt].some(function(t) {
    return e[t] >= 0;
  });
}
function f_(e) {
  var t = e.state, n = e.name, r = t.rects.reference, o = t.rects.popper, s = t.modifiersData.preventOverflow, i = yi(t, {
    elementContext: "reference"
  }), a = yi(t, {
    altBoundary: !0
  }), c = Zf(i, r), u = Zf(a, o, s), d = Jf(c), p = Jf(u);
  t.modifiersData[n] = {
    referenceClippingOffsets: c,
    popperEscapeOffsets: u,
    isReferenceHidden: d,
    hasPopperEscaped: p
  }, t.attributes.popper = Object.assign({}, t.attributes.popper, {
    "data-popper-reference-hidden": d,
    "data-popper-escaped": p
  });
}
const h_ = {
  name: "hide",
  enabled: !0,
  phase: "main",
  requiresIfExists: ["preventOverflow"],
  fn: f_
};
function g_(e, t, n) {
  var r = nr(e), o = [qt, Kt].indexOf(r) >= 0 ? -1 : 1, s = typeof n == "function" ? n(Object.assign({}, t, {
    placement: e
  })) : n, i = s[0], a = s[1];
  return i = i || 0, a = (a || 0) * o, [qt, jn].indexOf(r) >= 0 ? {
    x: a,
    y: i
  } : {
    x: i,
    y: a
  };
}
function m_(e) {
  var t = e.state, n = e.options, r = e.name, o = n.offset, s = o === void 0 ? [0, 0] : o, i = K1.reduce(function(d, p) {
    return d[p] = g_(p, t.rects, s), d;
  }, {}), a = i[t.placement], c = a.x, u = a.y;
  t.modifiersData.popperOffsets != null && (t.modifiersData.popperOffsets.x += c, t.modifiersData.popperOffsets.y += u), t.modifiersData[r] = i;
}
const v_ = {
  name: "offset",
  enabled: !0,
  phase: "main",
  requires: ["popperOffsets"],
  fn: m_
};
function b_(e) {
  var t = e.state, n = e.name;
  t.modifiersData[n] = ev({
    reference: t.rects.reference,
    element: t.rects.popper,
    strategy: "absolute",
    placement: t.placement
  });
}
const y_ = {
  name: "popperOffsets",
  enabled: !0,
  phase: "read",
  fn: b_,
  data: {}
};
function x_(e) {
  return e === "x" ? "y" : "x";
}
function w_(e) {
  var t = e.state, n = e.options, r = e.name, o = n.mainAxis, s = o === void 0 ? !0 : o, i = n.altAxis, a = i === void 0 ? !1 : i, c = n.boundary, u = n.rootBoundary, d = n.altBoundary, p = n.padding, f = n.tether, h = f === void 0 ? !0 : f, v = n.tetherOffset, g = v === void 0 ? 0 : v, b = yi(t, {
    boundary: c,
    rootBoundary: u,
    padding: p,
    altBoundary: d
  }), m = nr(t.placement), y = ds(t.placement), x = !y, w = yp(m), S = x_(w), j = t.modifiersData.popperOffsets, E = t.rects.reference, C = t.rects.popper, P = typeof g == "function" ? g(Object.assign({}, t.rects, {
    placement: t.placement
  })) : g, _ = typeof P == "number" ? {
    mainAxis: P,
    altAxis: P
  } : Object.assign({
    mainAxis: 0,
    altAxis: 0
  }, P), O = t.modifiersData.offset ? t.modifiersData.offset[t.placement] : null, k = {
    x: 0,
    y: 0
  };
  if (j) {
    if (s) {
      var z, F = w === "y" ? Kt : qt, A = w === "y" ? Sn : jn, T = w === "y" ? "height" : "width", D = j[w], M = D + b[F], N = D - b[A], V = h ? -C[T] / 2 : 0, K = y === ls ? E[T] : C[T], J = y === ls ? -C[T] : -E[T], ie = t.elements.arrow, X = h && ie ? bp(ie) : {
        width: 0,
        height: 0
      }, ne = t.modifiersData["arrow#persistent"] ? t.modifiersData["arrow#persistent"].padding : X1(), fe = ne[F], se = ne[A], q = Xs(0, E[T], X[T]), ee = x ? E[T] / 2 - V - q - fe - _.mainAxis : K - q - fe - _.mainAxis, pe = x ? -E[T] / 2 + V + q + se + _.mainAxis : J + q + se + _.mainAxis, ae = t.elements.arrow && Fi(t.elements.arrow), we = ae ? w === "y" ? ae.clientTop || 0 : ae.clientLeft || 0 : 0, Ce = (z = O == null ? void 0 : O[w]) != null ? z : 0, ot = D + ee - Ce - we, lt = D + pe - Ce, Et = Xs(h ? el(M, ot) : M, D, h ? uo(N, lt) : N);
      j[w] = Et, k[w] = Et - D;
    }
    if (a) {
      var ut, Ze = w === "x" ? Kt : qt, ln = w === "x" ? Sn : jn, ze = j[S], st = S === "y" ? "height" : "width", Pn = ze + b[Ze], _t = ze - b[ln], ht = [Kt, qt].indexOf(m) !== -1, St = (ut = O == null ? void 0 : O[S]) != null ? ut : 0, En = ht ? Pn : ze - E[st] - C[st] - St + _.altAxis, It = ht ? ze + E[st] + C[st] - St - _.altAxis : _t, _n = h && ht ? WE(En, ze, It) : Xs(h ? En : Pn, ze, h ? It : _t);
      j[S] = _n, k[S] = _n - ze;
    }
    t.modifiersData[r] = k;
  }
}
const S_ = {
  name: "preventOverflow",
  enabled: !0,
  phase: "main",
  fn: w_,
  requiresIfExists: ["offset"]
};
function j_(e) {
  return {
    scrollLeft: e.scrollLeft,
    scrollTop: e.scrollTop
  };
}
function C_(e) {
  return e === on(e) || !yn(e) ? xp(e) : j_(e);
}
function P_(e) {
  var t = e.getBoundingClientRect(), n = cs(t.width) / e.offsetWidth || 1, r = cs(t.height) / e.offsetHeight || 1;
  return n !== 1 || r !== 1;
}
function E_(e, t, n) {
  n === void 0 && (n = !1);
  var r = yn(t), o = yn(t) && P_(t), s = Zr(t), i = us(e, o, n), a = {
    scrollLeft: 0,
    scrollTop: 0
  }, c = {
    x: 0,
    y: 0
  };
  return (r || !r && !n) && ((or(t) !== "body" || // https://github.com/popperjs/popper-core/issues/1078
  Sp(s)) && (a = C_(t)), yn(t) ? (c = us(t, !0), c.x += t.clientLeft, c.y += t.clientTop) : s && (c.x = wp(s))), {
    x: i.left + a.scrollLeft - c.x,
    y: i.top + a.scrollTop - c.y,
    width: i.width,
    height: i.height
  };
}
function __(e) {
  var t = /* @__PURE__ */ new Map(), n = /* @__PURE__ */ new Set(), r = [];
  e.forEach(function(s) {
    t.set(s.name, s);
  });
  function o(s) {
    n.add(s.name);
    var i = [].concat(s.requires || [], s.requiresIfExists || []);
    i.forEach(function(a) {
      if (!n.has(a)) {
        var c = t.get(a);
        c && o(c);
      }
    }), r.push(s);
  }
  return e.forEach(function(s) {
    n.has(s.name) || o(s);
  }), r;
}
function O_(e) {
  var t = __(e);
  return VE.reduce(function(n, r) {
    return n.concat(t.filter(function(o) {
      return o.phase === r;
    }));
  }, []);
}
function T_(e) {
  var t;
  return function() {
    return t || (t = new Promise(function(n) {
      Promise.resolve().then(function() {
        t = void 0, n(e());
      });
    })), t;
  };
}
function A_(e) {
  var t = e.reduce(function(n, r) {
    var o = n[r.name];
    return n[r.name] = o ? Object.assign({}, o, r, {
      options: Object.assign({}, o.options, r.options),
      data: Object.assign({}, o.data, r.data)
    }) : r, n;
  }, {});
  return Object.keys(t).map(function(n) {
    return t[n];
  });
}
var Qf = {
  placement: "bottom",
  modifiers: [],
  strategy: "absolute"
};
function eh() {
  for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
    t[n] = arguments[n];
  return !t.some(function(r) {
    return !(r && typeof r.getBoundingClientRect == "function");
  });
}
function L_(e) {
  e === void 0 && (e = {});
  var t = e, n = t.defaultModifiers, r = n === void 0 ? [] : n, o = t.defaultOptions, s = o === void 0 ? Qf : o;
  return function(a, c, u) {
    u === void 0 && (u = s);
    var d = {
      placement: "bottom",
      orderedModifiers: [],
      options: Object.assign({}, Qf, s),
      modifiersData: {},
      elements: {
        reference: a,
        popper: c
      },
      attributes: {},
      styles: {}
    }, p = [], f = !1, h = {
      state: d,
      setOptions: function(m) {
        var y = typeof m == "function" ? m(d.options) : m;
        g(), d.options = Object.assign({}, s, d.options, y), d.scrollParents = {
          reference: xo(a) ? Zs(a) : a.contextElement ? Zs(a.contextElement) : [],
          popper: Zs(c)
        };
        var x = O_(A_([].concat(r, d.options.modifiers)));
        return d.orderedModifiers = x.filter(function(w) {
          return w.enabled;
        }), v(), h.update();
      },
      // Sync update  it will always be executed, even if not necessary. This
      // is useful for low frequency updates where sync behavior simplifies the
      // logic.
      // For high frequency updates (e.g. `resize` and `scroll` events), always
      // prefer the async Popper#update method
      forceUpdate: function() {
        if (!f) {
          var m = d.elements, y = m.reference, x = m.popper;
          if (eh(y, x)) {
            d.rects = {
              reference: E_(y, Fi(x), d.options.strategy === "fixed"),
              popper: bp(x)
            }, d.reset = !1, d.placement = d.options.placement, d.orderedModifiers.forEach(function(_) {
              return d.modifiersData[_.name] = Object.assign({}, _.data);
            });
            for (var w = 0; w < d.orderedModifiers.length; w++) {
              if (d.reset === !0) {
                d.reset = !1, w = -1;
                continue;
              }
              var S = d.orderedModifiers[w], j = S.fn, E = S.options, C = E === void 0 ? {} : E, P = S.name;
              typeof j == "function" && (d = j({
                state: d,
                options: C,
                name: P,
                instance: h
              }) || d);
            }
          }
        }
      },
      // Async and optimistically optimized update  it will not be executed if
      // not necessary (debounced to run at most once-per-tick)
      update: T_(function() {
        return new Promise(function(b) {
          h.forceUpdate(), b(d);
        });
      }),
      destroy: function() {
        g(), f = !0;
      }
    };
    if (!eh(a, c))
      return h;
    h.setOptions(u).then(function(b) {
      !f && u.onFirstUpdate && u.onFirstUpdate(b);
    });
    function v() {
      d.orderedModifiers.forEach(function(b) {
        var m = b.name, y = b.options, x = y === void 0 ? {} : y, w = b.effect;
        if (typeof w == "function") {
          var S = w({
            state: d,
            name: m,
            instance: h,
            options: x
          }), j = function() {
          };
          p.push(S || j);
        }
      });
    }
    function g() {
      p.forEach(function(b) {
        return b();
      }), p = [];
    }
    return h;
  };
}
var k_ = [t_, y_, QE, zE, v_, p_, S_, YE, h_], M_ = /* @__PURE__ */ L_({
  defaultModifiers: k_
}), $_ = typeof Element < "u", N_ = typeof Map == "function", R_ = typeof Set == "function", D_ = typeof ArrayBuffer == "function" && !!ArrayBuffer.isView;
function Ha(e, t) {
  if (e === t)
    return !0;
  if (e && t && typeof e == "object" && typeof t == "object") {
    if (e.constructor !== t.constructor)
      return !1;
    var n, r, o;
    if (Array.isArray(e)) {
      if (n = e.length, n != t.length)
        return !1;
      for (r = n; r-- !== 0; )
        if (!Ha(e[r], t[r]))
          return !1;
      return !0;
    }
    var s;
    if (N_ && e instanceof Map && t instanceof Map) {
      if (e.size !== t.size)
        return !1;
      for (s = e.entries(); !(r = s.next()).done; )
        if (!t.has(r.value[0]))
          return !1;
      for (s = e.entries(); !(r = s.next()).done; )
        if (!Ha(r.value[1], t.get(r.value[0])))
          return !1;
      return !0;
    }
    if (R_ && e instanceof Set && t instanceof Set) {
      if (e.size !== t.size)
        return !1;
      for (s = e.entries(); !(r = s.next()).done; )
        if (!t.has(r.value[0]))
          return !1;
      return !0;
    }
    if (D_ && ArrayBuffer.isView(e) && ArrayBuffer.isView(t)) {
      if (n = e.length, n != t.length)
        return !1;
      for (r = n; r-- !== 0; )
        if (e[r] !== t[r])
          return !1;
      return !0;
    }
    if (e.constructor === RegExp)
      return e.source === t.source && e.flags === t.flags;
    if (e.valueOf !== Object.prototype.valueOf && typeof e.valueOf == "function" && typeof t.valueOf == "function")
      return e.valueOf() === t.valueOf();
    if (e.toString !== Object.prototype.toString && typeof e.toString == "function" && typeof t.toString == "function")
      return e.toString() === t.toString();
    if (o = Object.keys(e), n = o.length, n !== Object.keys(t).length)
      return !1;
    for (r = n; r-- !== 0; )
      if (!Object.prototype.hasOwnProperty.call(t, o[r]))
        return !1;
    if ($_ && e instanceof Element)
      return !1;
    for (r = n; r-- !== 0; )
      if (!((o[r] === "_owner" || o[r] === "__v" || o[r] === "__o") && e.$$typeof) && !Ha(e[o[r]], t[o[r]]))
        return !1;
    return !0;
  }
  return e !== e && t !== t;
}
var I_ = function(t, n) {
  try {
    return Ha(t, n);
  } catch (r) {
    if ((r.message || "").match(/stack|recursion/i))
      return console.warn("react-fast-compare cannot handle circular refs"), !1;
    throw r;
  }
};
const V_ = /* @__PURE__ */ _d(I_);
var H_ = [], bs = function(t, n, r) {
  r === void 0 && (r = {});
  var o = He.useRef(null), s = {
    onFirstUpdate: r.onFirstUpdate,
    placement: r.placement || "bottom",
    strategy: r.strategy || "absolute",
    modifiers: r.modifiers || H_
  }, i = He.useState({
    styles: {
      popper: {
        position: s.strategy,
        left: "0",
        top: "0"
      },
      arrow: {
        position: "absolute"
      }
    },
    attributes: {}
  }), a = i[0], c = i[1], u = He.useMemo(function() {
    return {
      name: "updateState",
      enabled: !0,
      phase: "write",
      fn: function(h) {
        var v = h.state, g = Object.keys(v.elements);
        R0.flushSync(function() {
          c({
            styles: Uf(g.map(function(b) {
              return [b, v.styles[b] || {}];
            })),
            attributes: Uf(g.map(function(b) {
              return [b, v.attributes[b]];
            }))
          });
        });
      },
      requires: ["computeStyles"]
    };
  }, []), d = He.useMemo(function() {
    var f = {
      onFirstUpdate: s.onFirstUpdate,
      placement: s.placement,
      strategy: s.strategy,
      modifiers: [].concat(s.modifiers, [u, {
        name: "applyStyles",
        enabled: !1
      }])
    };
    return V_(o.current, f) ? o.current || f : (o.current = f, f);
  }, [s.onFirstUpdate, s.placement, s.strategy, s.modifiers, u]), p = He.useRef();
  return Wf(function() {
    p.current && p.current.setOptions(d);
  }, [d]), Wf(function() {
    if (!(t == null || n == null)) {
      var f = r.createPopper || M_, h = f(t, n, d);
      return p.current = h, function() {
        h.destroy(), p.current = null;
      };
    }
  }, [t, n, r.createPopper]), {
    state: p.current ? p.current.state : null,
    styles: a.styles,
    attributes: a.attributes,
    update: p.current ? p.current.update : null,
    forceUpdate: p.current ? p.current.forceUpdate : null
  };
};
const Ui = (e) => typeof e < "u";
var Fe = /* @__PURE__ */ ((e) => (e.web = "web", e.email = "email", e))(Fe || {});
const Yt = Mt(function({
  children: t,
  title: n,
  onClose: r,
  icon: o,
  shadow: s = !0,
  padding: i = !0,
  border: a = !0,
  round: c = !0,
  className: u,
  classNameBody: d,
  size: p = "m",
  titleClass: f = L("gs-utl-mb-2 gs-utl-mt-0.5"),
  style: h,
  bg: v,
  ...g
}, b) {
  return /* @__PURE__ */ l.jsxs(
    "div",
    {
      ...g,
      ref: b,
      style: h,
      className: L([
        u,
        v || Bd.bg,
        re.b,
        c && re.rnd,
        a ? H.br : re.bT,
        "gs-utl-card gs-utl-overflow-auto",
        s && "gs-utl-shadow-md",
        i && p === "l" && "gs-utl-p-5",
        i && p === "m" && "gs-utl-px-4 gs-utl-py-2",
        i && p === "s" && "gs-utl-px-2 gs-utl-py-1",
        i && p === "xs" && "gs-utl-px-2 gs-utl-py-0.5",
        i && p === "x2s" && "gs-utl-px-0.5"
      ]),
      children: [
        (n || r) && n !== !1 && /* @__PURE__ */ l.jsxs(R, { className: L("gs-utl-card-title", f), items: "center", children: [
          /* @__PURE__ */ l.jsx($, { className: L("truncate"), grow: !0, children: n }),
          (r || o) && /* @__PURE__ */ l.jsx(
            $,
            {
              onClick: r,
              className: L("cursor-pointer transition-opacity opacity-50 hover:gs-utl-opacity-100"),
              children: /* @__PURE__ */ l.jsx(te, { icon: o || Q.close, size: "18px" })
            }
          )
        ] }),
        /* @__PURE__ */ l.jsx("div", { className: L("gs-utl-card-body", d), children: t })
      ]
    }
  );
});
var jp = /* @__PURE__ */ ((e) => (e.canvas = "canvas", e.layers = "layers", e))(jp || {}), $r = /* @__PURE__ */ ((e) => (e.selectParent = "selectParent", e.duplicate = "duplicate", e.delete = "delete", e.symbolCreate = "symbolCreate", e.symbolDetach = "symbolDetach", e.symbolOverride = "symbolOverride", e.symbolOverrideClear = "symbolOverrideClear", e))($r || {});
class B_ {
  constructor(t) {
    this.isOpen = !1, this.isEnabled = !0, this.items = [], this.coordinates = { x: 0, y: 0 }, this.getItemsForComponent = vo(function* (n, r = {}) {
      var m;
      if (!(n != null && n.em))
        return [];
      const o = n.em.getEditor(), { isSymbol: s, isRoot: i } = o.Components.getSymbolInfo(n), a = !!n.getSymbolOverride(), c = !!n.get("removable"), u = !!n.parent() && !!n.toolbar.length, d = !!n.get("copyable"), p = [
        u && {
          id: $r.selectParent,
          label: "Select parent",
          onClick: () => {
            o.runCommand("core:component-exit", { force: !0 });
          }
        },
        d && {
          id: $r.duplicate,
          label: "Duplicate",
          onClick: () => {
            o.runCommand("tlb-clone");
          }
        },
        !s && c && {
          id: $r.symbolCreate,
          label: "Create Symbol",
          onClick: () => {
            o.runCommand(ye.symbolAdd);
          }
        },
        s && i && {
          id: $r.symbolDetach,
          label: "Detach instance",
          onClick: () => {
            o.runCommand(ye.symbolDetach);
          }
        },
        s && !a && {
          id: $r.symbolOverride,
          label: "Make overridable",
          onClick: () => {
            o.runCommand(ye.symbolOverride, { override: !0 });
          }
        },
        s && a && {
          id: $r.symbolOverrideClear,
          label: "Clear overridable",
          onClick: () => {
            o.runCommand(ye.symbolOverride);
          }
        },
        c && {
          id: $r.delete,
          label: "Delete",
          onClick: () => {
            o.runCommand("core:component-delete");
          }
        }
      ].filter(Boolean), f = n.get("contextMenu"), h = {
        ...r,
        items: p,
        component: n,
        editor: o,
        type: n.get("type") || "default",
        source: r.source || jp.canvas
      }, v = yield th(f, h), g = (m = this.store.appEditorStore.sdkComponentsConfig) == null ? void 0 : m.contextMenu;
      return yield th(g, {
        ...h,
        items: v
      });
    }), this.store = t, Xt(this, {}, { autoBind: !0 });
  }
  get publicState() {
    return {
      enabled: this.isEnabled
    };
  }
  setPublicState(t) {
    t.enabled !== void 0 && (this.isEnabled = t.enabled);
  }
  *showForComponent(t, n) {
    const r = t == null ? void 0 : t.em;
    if (!r)
      return;
    n.skipSelect || r.selected.hasComponent(t) || r.setSelected(t);
    const o = yield this.getItemsForComponent(t, n);
    o.length && this.show({ ...n, items: o });
  }
  show({ items: t, x: n, y: r, w: o, h: s }) {
    this.isOpen = !0, this.coordinates = { x: n, y: r, w: o, h: s }, this.items = t;
  }
  hide() {
    this.isOpen = !1, setTimeout(this.clear, 101);
  }
  clear() {
    this.items = [], this.coordinates = { x: 0, y: 0 };
  }
}
const th = async (e, t) => pt(e) ? (await e(t)).filter(Boolean) : t.items, Cp = () => Dt().contextMenu;
var tv, nh = Pd;
tv = nh.createRoot, nh.hydrateRoot;
function nv(e, t) {
  W(() => {
    const n = "pointerdown", { current: r } = e;
    if (!r || !t.enabled)
      return;
    function o(s) {
      const i = s.target;
      r && i && !r.contains(i) && t.onTrigger(i);
    }
    return document.addEventListener(n, o), () => {
      document.removeEventListener(n, o);
    };
  }, [e.current, t.enabled]);
}
const rv = (e, t) => {
  const { boxRectScreen: n, vwHeight: r, initialPos: o = "top-right" } = t, s = o.split("-"), i = s[0], a = s[1], c = i === "top" ? "bottom" : "top", u = a === "right" ? "left" : "right";
  yl(() => {
    const d = e.current;
    if (d) {
      const { offsetWidth: p, offsetHeight: f } = d, h = n.y - f, v = n.x + n.width - p, g = n.height + f > r, b = h < 0, m = b && !g ? c : i, y = v < 0 ? u : a;
      if (t.setPos(`${m}-${y}`), g) {
        const x = n.y + n.height, w = x < 0 ? h - x : h;
        d.style.top = b ? `${parseInt(`${-w}`)}px` : "";
      } else
        d.style.top = "";
    }
  }, [e.current, n]);
}, ov = (e) => {
  const { ref: t, show: n, node: r, styles: o, update: s, reload: i } = e, a = {
    all: "initial",
    zIndex: "10",
    fontFamily: "inherit",
    ...o
  };
  W(() => {
    const c = t.current;
    if (c && n) {
      if (!c.__sh) {
        const p = c.attachShadow({ mode: "closed" });
        c.__sh = tv(p);
      }
      c.__sh.render(r), Object.keys(a).forEach((p) => {
        c.style.setProperty(Gx(p), a[p], "important");
      });
      const u = new MutationObserver(i);
      u.observe(c, { attributeFilter: ["style"] });
      const d = new MutationObserver((p) => {
        Array.from(p[0].removedNodes).includes(c) && i();
      });
      return d.observe(c.parentNode, { childList: !0 }), () => {
        u.disconnect(), d.disconnect();
      };
    }
  }, [t.current, n, s]);
}, z_ = "gs-cmp-popover";
function Ar({
  children: e,
  handler: t,
  title: n,
  size: r,
  padding: o = !0,
  overlay: s,
  clickAway: i,
  topIcon: a,
  placement: c = "auto",
  offset: u,
  open: d,
  onClose: p,
  buttonAs: f,
  className: h,
  classNameBody: v,
  buttonProps: g = {}
}) {
  const [b, m] = U(!!d), [y, x] = U(b), [w, S] = U(null), [j, E] = U(null), C = bs(w, j, {
    ...Ep({ offset: u }),
    placement: c
  }), P = () => {
    x(!1), p == null || p();
  };
  nv(
    { current: j },
    {
      onTrigger: P,
      enabled: i && b
    }
  ), W(() => {
    x(!!d);
  }, [d]), W(() => {
    var k;
    b && ((k = C.update) == null || k.call(C));
  }, [b, C.update]), W(() => {
    const k = setTimeout(() => m(y), 10);
    return () => clearTimeout(k);
  }, [y]);
  const _ = L("w-full transition-colors", ...u1({ border: !1, size: "", ...g })), O = L([
    "fixed z-20",
    a && "gjs-mt-5",
    r === "s" && "w-full max-w-64",
    r === "sm" && "w-full max-w-sm",
    r === "md" && "w-full max-w-md"
  ]);
  return /* @__PURE__ */ l.jsxs(Vc, { className: L(z_, "relative flex", h), children: [
    /* @__PURE__ */ l.jsx(Vc.Button, { ref: S, as: f, className: _, children: /* @__PURE__ */ l.jsx("div", { onClick: () => !Ui(d) && x(!b), children: t }) }),
    b && s && /* @__PURE__ */ l.jsx("div", { onClick: P, className: L("z-10 fixed inset-0") }),
    y && /* @__PURE__ */ l.jsx(
      Vc.Panel,
      {
        static: !0,
        className: O,
        ref: E,
        style: C.styles.popper,
        ...C.attributes.popper,
        children: /* @__PURE__ */ l.jsx(tr, { as: bt, show: b, unmount: !1, ...Hd, children: /* @__PURE__ */ l.jsx(Yt, { title: n, onClose: P, padding: o, classNameBody: v, children: typeof e == "function" ? e({ close: P }) : e }) })
      }
    )
  ] });
}
function Wl({ action: e, icon: t, label: n, className: r, items: o, ...s }) {
  const i = G(null), [a, c] = U(), u = i.current, d = L([
    r,
    "gs-utl-last:border-b-0 gs-utl-gap-2 gs-utl-select-none",
    H.br,
    ke.xy,
    re.bb,
    s.disabled && tt.disabled,
    ...e ? [H.hBgH, "gs-utl-cursor-pointer"] : ["gs-utl-cursor-default"]
  ]), p = (h) => pt(e) && e({ event: h });
  W(() => {
    if (!u)
      return;
    const h = setTimeout(() => c(u.getBoundingClientRect()), s.active ? 0 : a1);
    return () => clearTimeout(h);
  }, [u, s.active]);
  const f = () => {
    var h;
    return (h = s.onActive) == null ? void 0 : h.call(s);
  };
  return /* @__PURE__ */ l.jsxs(R, { ref: i, items: "center", nowrap: !0, className: d, onClick: p, onPointerEnter: f, children: [
    t && /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(te, { icon: t, size: le.s }) }),
    /* @__PURE__ */ l.jsx($, { className: L(s.classNameLabel, tt.txtEllips), grow: !0, children: n }),
    !!(o != null && o.length) && /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
      /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(te, { icon: Q.chevronRight, size: le.s, className: L("-gs-utl-mr-2") }) }),
      a && s.active && /* @__PURE__ */ l.jsx(lv, { items: o, x: a.left, y: a.top, w: a.width, h: a.height, open: !0 })
    ] })
  ] });
}
function kt({
  className: e,
  as: t = "label",
  bold: n,
  m: r = "gjs-mb-1",
  size: o = "m",
  capitalize: s = !0,
  children: i,
  tip: a,
  ...c
}) {
  const u = t;
  return (
    // eslint-disable-next-line @typescript-eslint/ban-ts-comment
    // @ts-ignore
    /* @__PURE__ */ l.jsxs(
      u,
      {
        className: L(
          e,
          r,
          a ? "gs-utl-flex gs-utl-gap-2 gs-utl-items-center" : "block",
          s && "capitalize",
          n && "font-semibold",
          o === "s" && "text-sm"
        ),
        ...c,
        children: [
          !!a && /* @__PURE__ */ l.jsx(mt, { classNameWrp: "gs-utl-normal-case", classNameContent: "gs-utl-max-w-60", title: a, children: /* @__PURE__ */ l.jsx(te, { icon: Q.information, size: le.s2x }) }),
          i
        ]
      }
    )
  );
}
const F_ = (e, t) => e.filter((n) => n.id === t)[0] || null, sv = (e, t) => (e == null ? void 0 : e.id) === (t == null ? void 0 : t.id), U_ = (e, t) => e.label.toLowerCase().indexOf(t.toLowerCase()) >= 0, iv = L("cursor-default select-none focus:gs-utl-outline-none", "z-20 max-h-full"), Pp = {
  strategy: "fixed",
  placement: "bottom",
  modifiers: [
    {
      name: "offset",
      options: { offset: [0, 5] }
    },
    {
      name: "flip",
      options: { fallbackPlacements: ["top"] }
    }
  ]
};
function rh(e) {
  var s;
  const { option: t, active: n, selected: r } = e, o = ((s = e.isSelected) == null ? void 0 : s.call(e)) || !0;
  return /* @__PURE__ */ l.jsxs(R, { items: "center", className: L([ke.xy, n && Bd.bgH]), children: [
    /* @__PURE__ */ l.jsx($, { className: L("truncate"), grow: !0, children: t.label }),
    /* @__PURE__ */ l.jsx($, { className: L("gjs-pl-2"), children: sv(t, r) && o && /* @__PURE__ */ l.jsx(te, { className: L(H.tA), icon: Q.check, size: le.s }) })
  ] });
}
const W_ = "gs-select-field";
function _e({
  value: e,
  onChange: t,
  onBlur: n,
  onFocus: r,
  handlerSelected: o,
  label: s,
  options: i,
  includeEmpty: a,
  className: c,
  search: u,
  fixed: d,
  open: p,
  caret: f = Q.chevronDown,
  size: h = "m",
  width: v = "",
  border: g,
  style: b,
  pos: m,
  emptyState: y = "- Select an option -",
  name: x,
  required: w,
  disabled: S,
  tip: j,
  classNameContainer: E,
  autoFocus: C
}) {
  const [P, _] = U(null), [O, k] = U(null), [z, F] = U(""), { styles: A, attributes: T } = bs(P, O, Pp), D = typeof u == "object" ? u.onChange : void 0, M = [...i].filter((se) => u ? D || U_(se, z) : se), N = u && (typeof u == "object" && u.value || z), V = N && M.length ? M[0] : F_(M, e), K = (se) => t(se.id), J = { id: null, label: y }, ie = V ? o ? o(V) : V.content || V.label : o ? o(J) : y;
  a && M.unshift(J);
  const X = (se) => {
    const { value: q } = se.target, ee = q.trim();
    switch (se.key) {
      case "Escape":
        t(null);
        break;
      case "Enter":
        t((M.length ? M[0].id : ee) || null);
        break;
      case " ":
        gi(se);
        break;
    }
  }, ne = Y("gs-utl-w-full gs-utl-text-left gs-utl-cursor-pointer gs-utl-block", re.rnd, mi.focus), fe = () => {
    n == null || n();
  };
  return /* @__PURE__ */ l.jsx(Ns, { value: V, onChange: K, children: ({ open: se }) => /* @__PURE__ */ l.jsxs(
    "div",
    {
      className: Y(W_, E, "gs-utl-relative gs-utl-w-full gs-utl-text-sm"),
      style: b,
      children: [
        s && /* @__PURE__ */ l.jsx(Ns.Label, { children: /* @__PURE__ */ l.jsx(kt, { as: "span", size: h, tip: j, children: s }) }),
        x && /* @__PURE__ */ l.jsx(
          "input",
          {
            type: "input",
            name: x,
            value: (V == null ? void 0 : V.id) ?? "",
            onChange: () => {
            },
            className: L("gs-utl-w-[1px] gs-utl-h-[1px] gs-utl-opacity-[0.001] gs-utl-absolute"),
            required: w,
            disabled: S
          }
        ),
        /* @__PURE__ */ l.jsx(Ns.Button, { ref: _, className: ne, tabIndex: u ? -1 : void 0, children: u ? /* @__PURE__ */ l.jsx(
          "input",
          {
            autoFocus: C,
            value: typeof u == "object" && u.value || z,
            className: Y([c, "gs-utl-w-full", re.rnd, mi.focus, ke.xyS]),
            onChange: (q) => {
              F(q.target.value), D == null || D(q.target.value);
            },
            onKeyDown: X,
            onClick: gi,
            onBlur: fe,
            onFocus: r
          }
        ) : /* @__PURE__ */ l.jsx(
          Yt,
          {
            border: g,
            size: h,
            title: ie,
            icon: f,
            shadow: !1,
            className: L(c),
            titleClass: ""
          }
        ) }),
        /* @__PURE__ */ l.jsx(
          Ns.Options,
          {
            static: p,
            className: iv,
            ref: k,
            style: A.popper,
            ...T.popper,
            children: /* @__PURE__ */ l.jsxs(
              Yt,
              {
                padding: !1,
                className: L("h-full"),
                style: { minWidth: `${P == null ? void 0 : P.offsetWidth}px`, maxHeight: 200 },
                children: [
                  !M.length && u && u !== !0 && /* @__PURE__ */ l.jsx("div", { className: L(ke.xy), children: u.empty }),
                  M.map((q, ee) => /* @__PURE__ */ l.jsx(Ns.Option, { value: q, children: ({ active: pe, selected: ae }) => /* @__PURE__ */ l.jsxs(R, { items: "center", className: L([q.className, ke.xy, pe && Bd.bgH]), children: [
                    /* @__PURE__ */ l.jsx($, { className: L("truncate"), grow: !0, children: q.content || q.label }),
                    /* @__PURE__ */ l.jsx($, { className: L("gjs-pl-2"), children: sv(q, V) && !N && /* @__PURE__ */ l.jsx(te, { className: L(H.tA), icon: Q.check, size: le.s }) })
                  ] }) }, ee))
                ]
              }
            )
          }
        )
      ]
    }
  ) });
}
const oh = ir() && document.body, Ep = (e = {}) => ({
  ...Pp,
  placement: "right-start",
  modifiers: [
    {
      name: "offset",
      options: { offset: e.offset || [0, 5] }
    },
    {
      name: "flip",
      options: { boundary: e.boundary ?? oh }
    },
    {
      name: "preventOverflow",
      options: { boundary: e.boundary ?? oh }
    }
  ]
}), av = Ep(), la = "gs-ctx-menu-list", lv = ce(function({ open: t, items: n, x: r, y: o, w: s, h: i }) {
  const a = Cp(), [c, u] = U(), [d, p] = U(null), f = oe(() => ({ getBoundingClientRect: () => new DOMRect(r, o, s, i) }), [r, o, s, i, t]), { styles: h, attributes: v } = bs(f, d, av), g = Y(`${la}-wrp gs-utl-z-20`), b = Y(`${la} gs-utl-z-20`), m = Y(`${la}-body gs-utl-max-w-56`), y = Y(`${la}-item`), x = "gs-utl-max-w-40", w = (S) => {
    const { action: j, onClick: E } = S;
    if (j || E)
      return (C) => {
        const P = {
          editor: a.store.appEditorStore.editor,
          ...C
        };
        pt(j) ? (j(P), a.hide()) : pt(E) && (E(P), a.hide());
      };
  };
  return /* @__PURE__ */ l.jsx("div", { className: g, ref: p, style: h.popper, ...v.popper, children: /* @__PURE__ */ l.jsx(tr, { show: !!t, ...$i, unmount: !1, children: /* @__PURE__ */ l.jsx(Yt, { padding: !1, className: b, classNameBody: m, children: n.map((S, j) => /* @__PURE__ */ ci(
    Wl,
    {
      ...S,
      key: S.id ?? j,
      className: y,
      classNameLabel: x,
      action: w(S),
      onActive: () => u(S),
      active: c === S
    }
  )) }) }) });
}), Fc = "gs-cmp-tooltip";
function mt({
  className: e,
  classNameWrp: t,
  classNameContent: n,
  children: r,
  title: o,
  onClick: s,
  inline: i,
  size: a
}) {
  const [c, u] = U(!1), [d, p] = U(!1), f = Ui(a), [h, v] = U(null), [g, b] = U(null), m = bs(h, g, {
    ...Ep(),
    placement: "bottom"
  }), y = L(`${Fc}-target`, !i && "block", e, !s && "cursor-auto"), x = L(
    `${Fc}-content`,
    n,
    "fixed z-30 text-sm",
    !f && !n && "whitespace-nowrap",
    a === "s" && "w-60"
  );
  return W(() => {
    var w;
    c && ((w = m.update) == null || w.call(m));
  }, [c, m.update]), W(() => {
    const w = setTimeout(() => u(d), 10);
    return () => clearTimeout(w);
  }, [d]), /* @__PURE__ */ l.jsxs("div", { className: L(Fc, "relative", t), children: [
    /* @__PURE__ */ l.jsx(
      "span",
      {
        ref: v,
        className: y,
        onMouseEnter: () => o && p(!0),
        onMouseLeave: () => p(!1),
        children: /* @__PURE__ */ l.jsx(
          "div",
          {
            className: L(i && "inline-block"),
            onClick: () => {
              p(!1), s == null || s();
            },
            children: r
          }
        )
      }
    ),
    !!d && /* @__PURE__ */ l.jsx(
      "div",
      {
        className: x,
        ref: b,
        style: m.styles.popper,
        ...m.attributes.popper,
        children: /* @__PURE__ */ l.jsx(tr, { show: !!c, unmount: !1, ...Hd, children: /* @__PURE__ */ l.jsx(Yt, { className: L(Mf.txt), bg: Mf.bg, size: "s", border: !1, children: o }) })
      }
    )
  ] });
}
function Bt({ children: e, title: t, classNameWrp: n, ...r }) {
  return /* @__PURE__ */ l.jsx(mt, { title: t, classNameWrp: n, children: /* @__PURE__ */ l.jsx(Xe, { ...r, children: e }) });
}
var Wo = /* @__PURE__ */ ((e) => (e.Info = "info", e.Error = "error", e.Success = "success", e.Warning = "warning", e))(Wo || {});
const G_ = {
  info: H.bgA,
  error: "bg-red-500",
  success: "bg-green-500",
  warning: "bg-orange-400"
}, K_ = I.forwardRef(function(t, n) {
  const r = {
    info: Q.informationVariant,
    error: Q.fire,
    success: Q.checkBold,
    warning: Q.alertRhombus
  }, { children: o, className: s, content: i, id: a, buttons: c = [], variant: u = "info", autoHideTimeout: d = 3e3 } = t, p = G(null), f = G(), h = r[u], v = G_[u];
  xl(n, () => p.current, []);
  const g = () => {
    var x;
    return (x = t.onDismiss) == null ? void 0 : x.call(t, a);
  }, b = () => {
    d && (f.current = setTimeout(g, d));
  }, m = () => f.current && clearTimeout(f.current);
  W(() => (b(), m), []);
  const y = i || o;
  return /* @__PURE__ */ l.jsx(
    Yt,
    {
      className: B(s, "overflow-hidden relative"),
      ref: p,
      onPointerEnter: m,
      onPointerLeave: b,
      children: /* @__PURE__ */ l.jsxs(R, { space: "m", items: "center", className: B(ke.y), children: [
        /* @__PURE__ */ l.jsx($, { className: B(v, re.pill, "text-white gjs-p-1"), children: /* @__PURE__ */ l.jsx(te, { icon: h, size: le.s }) }),
        /* @__PURE__ */ l.jsx($, { grow: !0, className: B("gjs-pr-3"), children: /* @__PURE__ */ l.jsxs(R, { col: !0, space: "xs", children: [
          /* @__PURE__ */ l.jsx($, { className: B("text-lg font-medium leading-6"), children: t.header }),
          y && /* @__PURE__ */ l.jsx($, { className: B(H.txtLowEmphasis), children: y }),
          !!c.length && /* @__PURE__ */ l.jsx(R, { space: "m", justify: "end", children: c.map(({ id: x, ...w }) => /* @__PURE__ */ l.jsx(Xe, { ...w }, x)) })
        ] }) }),
        /* @__PURE__ */ l.jsx($, { className: B("absolute top-1 right-1"), children: /* @__PURE__ */ l.jsx(Bt, { onClick: g, border: !1, children: /* @__PURE__ */ l.jsx(te, { icon: Q.close, size: le.s }) }) })
      ] })
    }
  );
}), q_ = ce(
  I.forwardRef(function({ className: t, toasts: n, onDismiss: r, ...o }, s) {
    const i = jw({});
    return (
      // For some reason with Grid, automate flickers
      /* @__PURE__ */ l.jsx("div", { className: B(t, "w-80 gs-utl-z-30"), ...o, ref: i, children: n.map((a) => /* @__PURE__ */ l.jsx(K_, { ...a, className: B("gjs-mb-2"), onDismiss: r }, a.uuid || a.id)) })
    );
  })
);
var Zu = /* @__PURE__ */ ((e) => (e.self = "self", e.cloud = "cloud", e))(Zu || {}), _p = /* @__PURE__ */ ((e) => (e.IMAGE = "image", e.VIDEO = "video", e))(_p || {}), On = /* @__PURE__ */ ((e) => (e.componentOutline = "componentOutline", e.preview = "preview", e.fullscreen = "fullscreen", e.showCode = "showCode", e.showImportCode = "showImportCode", e.clearCanvas = "clearCanvas", e.store = "store", e.undo = "undo", e.redo = "redo", e))(On || {}), Y_ = /* @__PURE__ */ ((e) => (e.text = "text", e.number = "number", e.color = "color", e.select = "select", e.radio = "radio", e))(Y_ || {}), Ho = /* @__PURE__ */ ((e) => (e.left = "left", e.right = "right", e.top = "top", e.bottom = "bottom", e))(Ho || {}), Bo = /* @__PURE__ */ ((e) => (e.popover = "popover", e.absolute = "absolute", e.static = "static", e.dialog = "dialog", e))(Bo || {}), Ju = /* @__PURE__ */ ((e) => (e.browser = "browser", e.self = "self", e.cloud = "cloud", e))(Ju || {}), Hr = /* @__PURE__ */ ((e) => (e.dark = "dark", e.light = "light", e.auto = "auto", e))(Hr || {});
function Wi(e, t, n) {
  let r, o, s, i, a;
  const c = t === void 0 ? 100 : t;
  function u() {
    const p = Date.now() - i;
    p < c && p >= 0 ? r = setTimeout(u, c - p) : (r = null, n || (a = e.apply(s, o), s = o = null));
  }
  const d = function() {
    s = this, o = arguments, i = Date.now();
    const p = n && !r;
    return r || (r = setTimeout(u, c)), p && (a = e.apply(s, o), s = o = null), a;
  };
  return d.clear = function() {
    r && (clearTimeout(r), r = null);
  }, d.flush = function() {
    r && (a = e.apply(s, o), s = o = null, clearTimeout(r), r = null);
  }, d;
}
const Is = (e) => (t) => (t.tagName || "").toLowerCase() === e, gr = (...e) => e.map((t) => `[data-gjs-type="${t}"]`).join(","), X_ = (e, ...t) => {
  var n;
  return t.indexOf((n = e == null ? void 0 : e.tagName) == null ? void 0 : n.toUpperCase()) >= 0;
}, Ur = (e, t) => {
  var n;
  return (n = e == null ? void 0 : e.classList) == null ? void 0 : n.contains(t);
}, cv = (e, t) => {
  var n;
  return !!((n = e == null ? void 0 : e.hasAttribute) != null && n.call(e, t));
}, Gi = (e, t) => {
  const n = e.Blocks.get(t);
  return n ? n.collection.indexOf(n) : -1;
}, Z_ = (e) => e.replace(/[^a-z0-9.]/gi, "_").toLowerCase(), Qu = (e, t, n = "html") => {
  const { Pages: r } = e, o = Ft({ page: t, key: "slug" });
  return `${r.getMain() === t ? "index" : Dd(o || t.getName())}.${n}`;
}, J_ = (e, t) => {
  const { toolbar: n } = e;
  n.some((o) => o.id === t.id) || (n.unshift(t), e.set("toolbar", [...n]));
}, tl = "custom-html-body", nl = "data-custom-html-body", sh = "data-global-custom-html-head", ih = "data-global-custom-html-body", ah = "global", Q_ = function(e, t) {
  var s;
  const n = (i) => {
    if (!i)
      return e.em.logError("loadGlobalHead: document not found");
    const a = ed(t.appStore);
    let c = i.querySelector(`[${sh}]`);
    c || (c = i.createElement("div"), c.setAttribute(sh, "true"), i.head.insertBefore(c, i.head.firstChild)), c.innerHTML = a.customCodeHead || "", jf(c);
  }, r = (i) => {
    if (!i)
      return e.em.logError("loadGlobalBody: document not found");
    const a = ed(t.appStore);
    let c = i.querySelector(`[${ih}]`);
    if (!c) {
      c = i.createElement("div"), c.setAttribute(ih, "true");
      const u = i.querySelector('[data-gjs-type="wrapper"]');
      u == null || u.appendChild(c);
    }
    c.innerHTML = a.customCodeBody || "", jf(c);
  };
  e.on(e.Canvas.events.frameLoad, (i) => {
    var a;
    return n((a = i.el.contentWindow) == null ? void 0 : a.document);
  }), e.on(e.Canvas.events.frameLoadBody, (i) => {
    var a;
    return r((a = i.el.contentWindow) == null ? void 0 : a.document);
  }), e.on(zr.pageSettingsUpdate, (i) => {
    var c, u;
    if (i.page)
      return;
    const a = (u = (c = e.Canvas.getFrames()[0]) == null ? void 0 : c.view) == null ? void 0 : u.getDoc();
    n(a), r(a);
  }), e.Components.addType(tl, {
    isComponent: (i) => cv(i, nl),
    model: {
      defaults: {
        attributes: { [nl]: !0 },
        locked: !0,
        layerable: !1
      },
      toHTML: () => ""
    }
  });
  const o = ((s = e.events) == null ? void 0 : s.projectLoad) || "change:readyLoad";
  e.on(o, () => {
    const { appStore: i } = t, { globalPageSettings: a } = i.projectDataCustom;
    let c = (a == null ? void 0 : a.customCodeHead) || "", u = (a == null ? void 0 : a.customCodeBody) || "";
    e.Pages.getAll().forEach((d) => {
      const p = d.getMainComponent(), f = p.head.components(), h = [];
      f.forEach((b) => {
        b.has(ah) && h.push(b);
      }), h.forEach((b) => {
        const m = b.toHTML();
        c.includes(m) || (c += m), b.remove();
      });
      const v = [];
      p.findType(tl).forEach((b) => {
        b.has(ah) && v.push(b);
      }), v.forEach((b) => {
        const m = b.getInnerHTML();
        u.includes(m) || (u += m), b.remove();
      });
    }), (c || u) && i.setProjectDataCustom({
      globalPageSettings: {
        ...a,
        customCodeHead: c,
        customCodeBody: u
      }
    });
  });
}, lh = (e) => {
  const t = e.getDirtyCount() || 0;
  e.em.set({ changesCount: t + 1 }, {});
}, uv = (e) => !!e.getSymbolOverride() ? /* @__PURE__ */ l.jsx(te, { icon: Q.rhombusOutline, size: le.s3x }) : /* @__PURE__ */ l.jsx(Vd, { className: L("w-4 fill-current"), svg: e.getIcon() }), eO = (e) => {
  e.getModel().set({
    changesCount: e.getDirtyCount() + 1
  });
}, tO = (e) => e && e === e.em.Pages.getMain(), Je = {
  title: ({ cmp: e }) => e.tagName === "title",
  favicon: ({ cmp: e }) => {
    var t;
    return e.tagName === "link" && ((t = e.attributes.attributes) == null ? void 0 : t.rel) === "icon";
  },
  description: ({ cmp: e }) => {
    var t;
    return e.tagName === "meta" && ((t = e.attributes.attributes) == null ? void 0 : t.name) === "description";
  },
  keywords: ({ cmp: e }) => {
    var t;
    return e.tagName === "meta" && ((t = e.attributes.attributes) == null ? void 0 : t.name) === "keywords";
  },
  socialTitle: ({ cmp: e }) => {
    var t;
    return e.tagName === "meta" && ((t = e.attributes.attributes) == null ? void 0 : t.property) === "og:title";
  },
  socialImage: ({ cmp: e }) => {
    var t;
    return e.tagName === "meta" && ((t = e.attributes.attributes) == null ? void 0 : t.property) === "og:image";
  },
  socialDescription: ({ cmp: e }) => {
    var t;
    return e.tagName === "meta" && ((t = e.attributes.attributes) == null ? void 0 : t.property) === "og:description";
  },
  charset: ({ cmp: e }) => {
    var t;
    return e.tagName === "meta" && ((t = e.attributes.attributes) == null ? void 0 : t.charset);
  },
  viewport: ({ cmp: e }) => {
    var t;
    return e.tagName === "meta" && ((t = e.attributes.attributes) == null ? void 0 : t.name) === "viewport";
  },
  robots: ({ cmp: e }) => {
    var t;
    return e.tagName === "meta" && ((t = e.attributes.attributes) == null ? void 0 : t.name) === "robots";
  },
  generator: ({ cmp: e }) => {
    var t;
    return e.tagName === "meta" && ((t = e.attributes.attributes) == null ? void 0 : t.name) === "generator";
  }
}, dv = (e) => {
  for (const t in Je) {
    const n = t;
    if (Je[n]({ cmp: e }))
      return n;
  }
}, pv = (e, t, n) => {
  const r = [];
  let o = n;
  return e.getMainComponent().findType(tl).forEach((s) => {
    r.push(s), o = (o || "") + s.getInnerHTML();
  }), { components: r, html: o, changed: o !== t };
}, nO = (e, t) => {
  const n = { ...t }, r = e.getMainComponent(), { head: o } = r;
  if (o) {
    const i = [], a = o.components();
    a.forEach((u) => {
      Je.title({ cmp: u }) ? (u.components(t.title), delete n.title) : Je.favicon({ cmp: u }) ? (u.addAttributes({ href: t.favicon }), delete n.favicon) : Je.description({ cmp: u }) ? (u.addAttributes({ content: t.description }), delete n.description) : Je.keywords({ cmp: u }) ? (u.addAttributes({ content: t.keywords }), delete n.keywords) : Je.socialTitle({ cmp: u }) ? (u.addAttributes({ content: t.socialTitle }), delete n.socialTitle) : Je.socialDescription({ cmp: u }) ? (u.addAttributes({ content: t.socialDescription }), delete n.socialDescription) : Je.socialImage({ cmp: u }) ? (u.addAttributes({ content: t.socialImage }), delete n.socialImage) : dv(u) || i.push(u);
    });
    const c = e.em.Parser.parseHtml(`<!DOCTYPE html><html><head>${t.customCodeHead}</head></html>`);
    c.head && (a.remove(i), c.head.components && a.add(c.head.components), delete n.customCodeHead);
  }
  const s = pv(e, n.customCodeBody);
  if (s.changed) {
    const [i, ...a] = s.components;
    (i || r.append({ type: tl })[0]).components(n.customCodeBody), a.forEach((u) => u.remove()), delete n.customCodeBody;
  }
  return e.set("settings", n);
}, rO = (e) => {
  const t = { ...e.get("settings") ?? {} }, n = e.getMainComponent(), { head: r } = n;
  if (r) {
    const o = [];
    r.components().forEach((s) => {
      const { content: i, href: a } = s.getAttributes({ noClass: !0, noStyle: !0 });
      Je.title({ cmp: s }) ? t.title = s.getInnerHTML() : Je.favicon({ cmp: s }) ? t.favicon = a : Je.description({ cmp: s }) ? t.description = i : Je.keywords({ cmp: s }) ? t.keywords = i : Je.socialTitle({ cmp: s }) ? t.socialTitle = i : Je.socialDescription({ cmp: s }) ? t.socialDescription = i : Je.socialImage({ cmp: s }) ? t.socialImage = i : dv(s) || o.push(s.toHTML());
    }), o.length && (t.customCodeHead = o.join(`
`));
  }
  return t.customCodeBody = pv(e, t.customCodeBody).html, t;
}, fv = (e, t) => {
  e.getModel().set("customData", { ...Op(e), ...t });
}, Op = (e) => e.getModel().get("customData") ?? {}, ed = (e) => (e == null ? void 0 : e.projectDataCustom.globalPageSettings) ?? {}, Ft = (e) => {
  const { page: t, key: n, appEditorStore: r, def: o = "", defPage: s = "" } = e;
  return (t ? rO(t)[n] ?? s : ed(r)[n]) ?? o;
}, ro = (e, t) => {
  const n = e.em.getEditor(), o = Op(n).globalPageSettings || {};
  return Ft({ page: e, key: t }) || o[t];
}, ch = (e, t) => {
  const n = (e == null ? void 0 : e.getName()) ?? "", r = {
    page: e,
    appEditorStore: t
  };
  return {
    name: n,
    slug: Ft({ ...r, key: "slug", defPage: Dd(n) }),
    title: Ft({ ...r, key: "title", defPage: n }),
    description: Ft({ ...r, key: "description" }),
    favicon: Ft({ ...r, key: "favicon" }),
    keywords: Ft({ ...r, key: "keywords" }),
    socialTitle: Ft({ ...r, key: "socialTitle", defPage: n }),
    socialImage: Ft({ ...r, key: "socialImage" }),
    socialDescription: Ft({ ...r, key: "socialDescription" }),
    customCodeHead: Ft({ ...r, key: "customCodeHead" }),
    customCodeBody: Ft({ ...r, key: "customCodeBody" })
  };
}, hv = (e, t) => {
  var n;
  return (n = e.Styles.getSectors().find((r) => !!r.getProperty(t))) == null ? void 0 : n.getProperty(t);
}, oO = (e, t, n) => {
  const r = hv(e, t);
  return r == null ? void 0 : r.getProperty(n);
};
class uh {
  constructor(t, n) {
    this.assetsStore = t, this.layoutPanelId = n, this.itemLayout = void 0, this.isLoadingAssets = !1, this.typeFilter = void 0, this.searchValue = "", this.customTypes = void 0, this.customProviders = void 0, this.providerFilter = void 0, this.customAssetProps = void 0, this.customPages = void 0, this.totalItems = void 0, this.optionalType = !1, Xt(this, {}, { autoBind: !0 }), this.initTypeFilter(), this.initProviderFilter(), this.initOptionalType();
  }
  get sdkProviders() {
    var n;
    const t = (n = this.assetsStore.sdkAssetConfig) == null ? void 0 : n.providers;
    return pt(t) ? t({ providers: this.assetsStore.allProviders }) : this.assetsStore.allProviders;
  }
  get typeFilterOptions() {
    return this.customTypes ?? [];
  }
  get providers() {
    return this.sdkProviders.map((t) => ({
      ...t,
      types: Array.isArray(t.types) ? t.types : [t.types]
    }));
  }
  get providerFilterOptions() {
    return this.providers.filter(
      (t) => (
        // filter by type
        (!this.typeFilter || t.types.includes(this.typeFilter)) && // filter by customProviders
        (!this.customProviders || this.customProviders.includes(t.id))
      )
    );
  }
  get provider() {
    return this.providers.find((t) => t.id === this.providerFilter);
  }
  get assetPropsFromPages() {
    if (!this.customPages)
      return;
    const t = [];
    for (const n of this.customPages)
      t.push(...n.items);
    return t;
  }
  get assetProps() {
    return this.customAssetProps ?? this.assetPropsFromPages ?? this.assetsStore.projectAssetProps ?? [];
  }
  get onProviderOrProjectDelete() {
    const { provider: t, assetsStore: n } = this;
    return t ? t.onDelete : n.onProjectDelete;
  }
  get t() {
    return this.assetsStore.t;
  }
  get isLoading() {
    return this.assetsStore.isLoadingAssets || this.isLoadingAssets;
  }
  get handleDelete() {
    return this.onProviderOrProjectDelete && this.handleDeleteCallback;
  }
  get isUsingPagination() {
    return !!this.customPages;
  }
  initOptionalType() {
    this.setOptionalType(!1);
  }
  initTypeFilter() {
    this.setTypeFilter(_p.IMAGE);
  }
  initProviderFilter() {
    var t;
    this.setProviderFilter((t = this.assetsStore.sdkAssetConfig) == null ? void 0 : t.providerId);
  }
  setOptionalType(t) {
    this.optionalType = t;
  }
  setTypeFilter(t) {
    this.typeFilter = t;
  }
  setProviderFilter(t) {
    this.providerFilter = t;
  }
  setSearchValue(t) {
    this.searchValue = t;
  }
  setCustomTypes(t) {
    this.customTypes = t;
  }
  setCustomProviders(t) {
    this.customProviders = t;
  }
  setCustomAssetProps(t) {
    this.customAssetProps = t;
  }
  setCustomPages(t) {
    this.customPages = t;
  }
  setItemLayout(t) {
    this.itemLayout = t;
  }
  setIsLoadingAssets(t) {
    this.isLoadingAssets = t;
  }
  selectProjectAssets() {
    this.setCustomAssetProps(void 0), this.setCustomPages(void 0), this.setItemLayout(void 0);
  }
  async loadProviderAssets(t = !0) {
    var i;
    const { assetsStore: n } = this, { editor: r } = n;
    if (!r || !this.provider)
      return;
    t && (this.setCustomAssetProps(void 0), this.setCustomPages(void 0));
    const o = this.customPages ? this.customPages.length : 0, s = await this.provider.onLoad({
      editor: r,
      assetTypeFilter: this.typeFilter,
      pageIndex: o
    }) ?? [];
    if (Array.isArray(s)) {
      const a = s.map(n.toAssetProps);
      this.setCustomAssetProps(a);
    } else {
      const a = {
        ...s,
        items: s.items.map(n.toAssetProps)
      };
      this.setCustomPages([...this.customPages ?? [], a]);
    }
    this.setItemLayout((i = this.provider) == null ? void 0 : i.itemLayout);
  }
  async loadAssets(t = !0) {
    const { assetsStore: n } = this, { toastStore: r } = n.store;
    try {
      this.setIsLoadingAssets(!0), this.provider ? await this.loadProviderAssets(t) : this.selectProjectAssets();
    } catch (o) {
      console.error(o), r.addError("assets-error-get", this.t("errorLoad"));
    } finally {
      this.setIsLoadingAssets(!1);
    }
  }
  async reloadAssets(t) {
    const { assetsStore: n } = this, { cachedOnLoadAssetProps: r } = n;
    await this.loadAssets(t == null ? void 0 : t.clearExisting), !this.provider && r && (n.cachedOnLoadAssetProps = void 0, await n.loadProjectAssets());
  }
  async handleDeleteCallback(t) {
    const { assetsStore: n, onProviderOrProjectDelete: r } = this, { appEditorStore: o } = n.store, { editor: s } = o;
    if (!(!s || !r))
      try {
        n.setIsLoadingAssets(!0), await r({
          assets: [n.toAsset(t)],
          assetProps: [t],
          editor: s,
          loadAssets: (i) => this.reloadAssets(i)
        });
      } catch (i) {
        console.error(i), n.store.toastStore.addError("assets-error-delete", {
          header: this.t("errorDelete"),
          content: i == null ? void 0 : i.message
        });
      } finally {
        n.setIsLoadingAssets(!1);
      }
  }
}
const gv = (e) => Dt().assetsStore.assetPanelStores[e];
class sO {
  constructor(t) {
    this.store = t, this.isLoadingAssets = !1, this.mainPanelId = `main-${Qm()}`, this.assetPanelStores = {}, this.cachedOnLoadAssetProps = void 0, this.projectAssetProps = void 0, this.customAllProviders = void 0, this.assetPanelStores[this.mainPanelId] = new uh(this, this.mainPanelId), Xt(this, {}, { autoBind: !0 });
  }
  get sdkAssetConfig() {
    return this.store.appEditorStore.sdkOptions.assets;
  }
  get isUsingAssetCloud() {
    var t;
    return ((t = this.sdkAssetConfig) == null ? void 0 : t.storageType) === Zu.cloud;
  }
  get storageType() {
    var t;
    return (t = this.sdkAssetConfig) == null ? void 0 : t.storageType;
  }
  get isSelfStorage() {
    return this.storageType === Zu.self;
  }
  get editor() {
    return this.store.appEditorStore.editor;
  }
  get customOnLoad() {
    var t;
    return (t = this.sdkAssetConfig) == null ? void 0 : t.onLoad;
  }
  get customOnDelete() {
    var t;
    return (t = this.sdkAssetConfig) == null ? void 0 : t.onDelete;
  }
  get customOnUpload() {
    var t;
    return (t = this.sdkAssetConfig) == null ? void 0 : t.onUpload;
  }
  get onCloudOrCustomUpload() {
    const { appEditorStore: t } = this.store, { sdkProps: n } = t, o = n.options.licenseKey, s = t.sdkProjectId, i = t.sdkIdentityId, a = ({ files: c }) => lw(c, o, s, i);
    return this.isUsingAssetCloud ? a : this.customOnUpload;
  }
  get onProjectDelete() {
    const { customOnDelete: t, isSelfStorage: n, isUsingAssetCloud: r } = this;
    return n ? t ? async (o) => {
      await t(o), this.deleteFromProjectAssets(o);
    } : void 0 : r ? async (o) => {
      var c, u;
      const { sdkOptions: s } = this.store.appEditorStore, i = (c = s.project) == null ? void 0 : c.id, a = (u = s.identity) == null ? void 0 : u.id;
      await Cf(o.assetProps, s.licenseKey, i, a), this.deleteFromProjectAssets(o);
    } : this.deleteFromProjectAssets;
  }
  get t() {
    return this.store.i18nStore.tScoped("assetManager");
  }
  get userProvider() {
    var a, c;
    const { appEditorStore: t } = this.store, { sdkOptions: n } = t, r = (a = n.project) == null ? void 0 : a.id, o = (c = n.identity) == null ? void 0 : c.id, s = n.licenseKey;
    return {
      id: "grapesjs-user-provider",
      label: this.t("userAssets"),
      types: _p.IMAGE,
      onLoad: () => sw(
        s,
        // both mandatory for storageType === 'cloud'
        r,
        o
      ),
      onDelete: async (u) => {
        const { assetProps: d, loadAssets: p } = u;
        await Cf(
          d,
          s,
          // both mandatory for storageType === 'cloud'
          r,
          o
        ), this.deleteFromProjectAssets(u), await p({ clearExisting: !1 });
      }
    };
  }
  get defaultProviders() {
    return [...this.isUsingAssetCloud ? [this.userProvider] : []];
  }
  get allProviders() {
    var n;
    const t = (n = this.sdkAssetConfig) == null ? void 0 : n.providers;
    return this.customAllProviders ?? [...this.defaultProviders, ...Array.isArray(t) ? t : []];
  }
  onEditor() {
    const t = Wi(() => !this.loadProjectAssets()), n = this.store.appEditorStore.editor, r = n.Assets.events.all;
    n.on(r, t), this.loadProjectAssets();
  }
  createAssetManager(t) {
    const n = new uh(this, t);
    this.assetPanelStores[t] = n;
  }
  removeAssetManager(t) {
    delete this.assetPanelStores[t];
  }
  async loadProjectAssets() {
    const { editor: t, isSelfStorage: n, cachedOnLoadAssetProps: r, customOnLoad: o } = this, { toastStore: s } = this.store;
    let i;
    if (t) {
      try {
        if (this.setIsLoadingAssets(!0), n && o)
          if (r)
            i = r;
          else {
            const a = await o({ editor: t });
            this.cachedOnLoadAssetProps = a.map(this.toAssetProps), i = this.cachedOnLoadAssetProps;
          }
        else
          i = t.Assets.getAll().map(this.toAssetProps);
      } catch (a) {
        console.error(a), s.addError("assets-error-load", {
          header: this.t("errorLoad"),
          content: a == null ? void 0 : a.message
        });
      } finally {
        this.setIsLoadingAssets(!1);
      }
      i && this.setProjectAssetProps(i);
    }
  }
  deleteFromProjectAssets({ assets: t, editor: n, assetProps: r }) {
    const { cachedOnLoadAssetProps: o, customOnLoad: s } = this;
    if (s) {
      if (o) {
        const i = r.map((a) => a.id);
        this.cachedOnLoadAssetProps = o.filter(({ id: a }) => !i.includes(a)), this.setProjectAssetProps(this.cachedOnLoadAssetProps);
      }
    } else
      t.forEach((i) => n.Assets.remove(i)), lh(n);
  }
  addToProjectAssets(t) {
    const n = this.store.appEditorStore.editor, { cachedOnLoadAssetProps: r, customOnLoad: o } = this;
    o ? r && (this.cachedOnLoadAssetProps = [...t, ...r], this.setProjectAssetProps(this.cachedOnLoadAssetProps)) : (n.Assets.add(t), lh(n));
  }
  async handleUpload(t) {
    var s, i;
    const { editor: n, onCloudOrCustomUpload: r } = this, { toastStore: o } = this.store;
    if (!(!n || !r))
      try {
        this.setIsLoadingAssets(!0);
        const a = ((s = t.dataTransfer) == null ? void 0 : s.files) || ((i = t.target) == null ? void 0 : i.files) || [], c = Array.from(a), u = await r({ files: c, editor: n });
        u != null && u.length ? this.addToProjectAssets(u.map(this.toAssetProps)) : console.warn("No assets returned from the upload handler. Ensure to return an array of assets.");
      } catch (a) {
        console.error(a), o.addError("assets-error-upload", {
          header: this.t("errorUpload"),
          content: a == null ? void 0 : a.message
        });
      } finally {
        this.setIsLoadingAssets(!1);
      }
  }
  uploadFile(t) {
    var n;
    return (n = this.editor) == null ? void 0 : n.Assets.FileUploader().uploadFile(t);
  }
  isAsset(t) {
    return !!t.getSrc;
  }
  toAssetProps(t) {
    if (this.isAsset(t)) {
      const r = t;
      return {
        ...r.attributes,
        id: r.attributes.id || r.getSrc(),
        src: r.getSrc(),
        name: r.attributes.name ?? r.getFilename(),
        asset: r
      };
    }
    return { ...t, id: t.id || t.src };
  }
  toAsset(t) {
    const { editor: n } = this.store.appEditorStore;
    if (n)
      return t.asset ?? new n.AssetManager.Asset(t);
  }
  setProjectAssetProps(t) {
    this.projectAssetProps = t;
  }
  setIsLoadingAssets(t) {
    this.isLoadingAssets = t;
  }
  setAllProviders(t) {
    this.customAllProviders = t;
  }
}
const Ki = () => Dt().assetsStore;
class iO {
  constructor(t) {
    this.store = t, Xt(this, {}, { autoBind: !0 });
  }
  t(t, n = {}) {
    var o;
    const { editor: r } = this.store.appEditorStore;
    return ((o = r == null ? void 0 : r.I18n) == null ? void 0 : o.t(t, n)) || "";
  }
  tScoped(t) {
    return (n, r) => this.t(`${t}.${n}`, r);
  }
}
const Me = () => Dt().i18nStore, Wt = (e, t) => N0.map(e, (n) => n && n.type === t ? n : null), dh = "gs-custom-layout", aO = Mt(function({ className: t, component: n, noWrapper: r, id: o, render: s, ...i }, a) {
  const { editor: c } = ve(), u = G(null), d = n, p = d && c ? /* @__PURE__ */ l.jsx(d, { editor: c }) : null, f = Y(dh, o && `${dh}__${o}`, t), h = u.current, v = r && !s;
  return xl(a, () => u.current, []), W(() => {
    if (!s || !h)
      return;
    const g = (y) => h.appendChild(y), b = (y) => h.removeChild(y), m = s({ editor: c, addEl: g, removeEl: b });
    if (Lt(m))
      h.innerHTML = m;
    else {
      if (m instanceof HTMLElement)
        return g(m), () => {
          b(m);
        };
      if (pt(m))
        return () => {
          m();
        };
    }
  }, [s, c, h]), v ? p : /* @__PURE__ */ l.jsx("div", { className: f, ref: u, ...i, children: p });
}), td = ce(aO);
class lO {
  constructor(t) {
    this.layouts = [], this.layoutsById = /* @__PURE__ */ new Map(), this.store = t, Xt(this, {}, { autoBind: !0 });
  }
  get editor() {
    return this.store.appEditorStore.editor;
  }
  add(t, n) {
    var r;
    this.get(t) || (this.layouts.push({
      id: t,
      ...n
    }), (r = this.editor) == null || r.trigger(`${zr.layoutToggleId}${t}`, { isOpen: !0 }));
  }
  remove(t, n) {
    var r;
    this.layouts = n != null && n.force ? this.layouts.filter((o) => o.id !== t) : this.layouts.map((o) => o.id === t ? { ...o, toRemove: !0 } : o), (r = this.editor) == null || r.trigger(`${zr.layoutToggleId}${t}`, { isOpen: !1 });
  }
  get(t) {
    return this.layouts.find((n) => n.id === t);
  }
  clear() {
    this.layouts = [];
  }
  get layoutChildren() {
    var r;
    const { children: t } = this.store.appEditorStore.sdkProps, n = ((r = Wt(t, td)) == null ? void 0 : r.filter(Boolean)) || [];
    return new Map(
      n.map(({ props: o }) => [o.id, o])
    );
  }
}
const Tp = () => Dt().layoutStore, cO = () => Cs().layoutStore;
class uO {
  constructor(t) {
    this.isActive = !1, this.content = "", this.store = t, Xt(this, {}, { autoBind: !0 });
  }
  show(t) {
    this.isActive = !0, this.content = t;
  }
  hide() {
    this.isActive = !1, setTimeout(this.clear, 101);
  }
  clear() {
    this.content = "";
  }
}
const mv = () => Dt().pointerBadgeStore;
var ys = /* @__PURE__ */ ((e) => (e.Projects = "projects", e.Settings = "settings", e))(ys || {}), vv = /* @__PURE__ */ ((e) => (e.gjs = "gjs", e.gjsStudio = "gjs-studio", e))(vv || {});
const ph = {}, dO = 1, pO = (e = {}) => new Promise((t, n) => {
  const r = (e == null ? void 0 : e.db) || "gjs", o = r === "gjs-studio" ? dO : 1, s = ph[r];
  if (s)
    t(s);
  else {
    if (!ir())
      return n(new Error("window context not found"));
    const i = window.indexedDB.open(r, o);
    i.onerror = n, i.onsuccess = () => {
      const a = i.result;
      a.onerror = n, ph[r] = a, t(a);
    }, i.onupgradeneeded = () => {
      const a = i.result;
      a.objectStoreNames.contains(
        "projects"
        /* Projects */
      ) || a.createObjectStore(
        "projects"
        /* Projects */
      ), a.objectStoreNames.contains(
        "settings"
        /* Settings */
      ) || a.createObjectStore(
        "settings"
        /* Settings */
      );
    };
  }
}), Gl = async (e, t) => (await pO(t)).transaction([e], "readwrite").objectStore(e), fO = async (e, t) => {
  const n = await Gl(e, t);
  return new Promise((r, o) => {
    const s = [], i = n.openCursor();
    i.onerror = o, i.onsuccess = function(a) {
      const u = a.target.result;
      if (u) {
        const d = u.primaryKey, p = u.value;
        s.push({ key: d, data: p }), u.continue();
      } else
        r(s);
    };
  });
}, hO = async (e, t, n) => {
  const r = await Gl(e, n);
  return new Promise((o, s) => {
    const i = r.get(t);
    i.onerror = s, i.onsuccess = () => o(i.result);
  });
}, bv = async (e, t, n, r) => {
  const o = await Gl(e, r);
  return new Promise((s, i) => {
    const a = o.put(n, t);
    a.onerror = i, a.onsuccess = () => s();
  });
}, gO = async (e, t, n) => {
  const r = await Gl(e, n);
  return new Promise((o, s) => {
    const i = r.delete(t);
    i.onerror = s, i.onsuccess = () => o();
  });
};
var xi = /* @__PURE__ */ ((e) => (e.Existing = "existing", e.Templates = "templates", e))(xi || {});
const mO = (e) => {
  const { baseApiUrl: t } = Xo();
  return `${t}/templates/${e}`;
}, vO = (e, t) => sr.get(mO(e), {
  ...t
}), bO = async (e) => {
  try {
    const t = await vO(e);
    return (t == null ? void 0 : t.result) ?? [];
  } catch (t) {
    return console.error(`Failed to load templates for type ${e}:`, t), [];
  }
}, yv = async (e = Fe.web) => typeof window > "u" ? [] : (await fO(ys.Projects)).map(({ key: r, data: o }) => {
  var s;
  return {
    id: `${r}`,
    name: `${((s = o.custom) == null ? void 0 : s.projectName) || r}`,
    data: o
  };
}).filter((r) => {
  var o;
  return ((o = r.data.custom) == null ? void 0 : o.projectType) === e;
});
class yO {
  constructor(t) {
    this.store = t, this._projectTypeFilter = this.store.appEditorStore.projectType, this._projectSourceFilter = xi.Existing, this._loadedProjects = void 0, this._loadedTemplates = void 0, Xt(this, {}, { autoBind: !0 });
  }
  get projectTypeFilter() {
    return this._projectTypeFilter;
  }
  get projectSourceFilter() {
    return this._projectSourceFilter;
  }
  get templates() {
    return this._loadedTemplates;
  }
  get projects() {
    return this._loadedProjects;
  }
  get filteredTemplates() {
    return this.projectSourceFilter === xi.Existing ? this.projects : this.templates;
  }
  async loadProjects() {
    const t = await yv(this.projectTypeFilter);
    this.setProjects(t);
  }
  async loadTemplates() {
    var o;
    const t = (o = this.store.appEditorStore.sdkOptions.templates) == null ? void 0 : o.onLoad, n = async () => await bO(this.projectTypeFilter);
    let r;
    if (t) {
      const s = this.store.appEditorStore.editor;
      r = await t({ editor: s, fetchCommunityTemplates: n });
    } else
      r = await n();
    this.setTemplates(r);
  }
  async loadAllTemplates() {
    await Promise.all([this.loadProjects(), this.loadTemplates()]);
  }
  async removeProject(t) {
    gO(ys.Projects, t);
  }
  async setProjectTypeFilter(t) {
    this._projectTypeFilter = t, this.setProjects(void 0), this.setTemplates(void 0);
  }
  setProjectSourceFilter(t) {
    this._projectSourceFilter = t;
  }
  setTemplates(t) {
    this._loadedTemplates = t;
  }
  setProjects(t) {
    this._loadedProjects = t;
  }
}
const xv = () => Dt().templatesStore;
class xO {
  constructor(t) {
    this.toasts = [], this.store = t, Xt(this, {}, { autoBind: !0 });
  }
  add(t, n) {
    this.toasts.find((r) => r.id === t) || this.toasts.push({
      id: t,
      ...n
    });
  }
  addError(t, n) {
    this.add(t, {
      ...Lt(n) ? { header: n } : n,
      variant: Wo.Error
    });
  }
  addWarning(t, n) {
    this.add(t, {
      ...Lt(n) ? { header: n } : n,
      variant: Wo.Warning
    });
  }
  addSuccess(t, n) {
    this.add(t, {
      ...Lt(n) ? { header: n } : n,
      variant: Wo.Success
    });
  }
  addInfo(t, n) {
    this.add(t, {
      ...Lt(n) ? { header: n } : n,
      variant: Wo.Info
    });
  }
  remove(t) {
    this.toasts = this.toasts.filter((n) => n.id !== t);
  }
}
const wv = () => Dt().toastStore;
class wO {
  constructor(t) {
    this.isOpen = !1, this.store = t, Xt(this, {}, { autoBind: !0 });
  }
  setOpen(t) {
    this.isOpen = t, this.triggerEvent();
  }
  toggleOpen() {
    this.isOpen = !this.isOpen, this.triggerEvent();
  }
  triggerEvent() {
    var t;
    (t = this.store.appEditorStore.editor) == null || t.trigger(zr.toggleBlocksPanel, { isOpen: this.isOpen });
  }
}
const Sv = () => Dt().blockManagerStore;
function SO(e) {
  const t = /* @__PURE__ */ new Map(), n = { items: [] };
  return e.forEach((o) => {
    const { category: s, item: i } = o;
    if (s) {
      const a = t.get(s.id);
      a ? (a.items.push(i), a.category = {
        ...a.category,
        ...s
      }) : t.set(s.id, { category: s, items: [i] });
    } else
      n.items.push(i);
  }), [...Array.from(t).map(([, o]) => o), n].filter((o) => o.items.length);
}
const jv = (e) => e.get("groups") || [], Cv = (e, t) => jv(e).includes(t), jO = (e, t) => {
  Cv(e, t) || e.set("groups", [...jv(e), t]);
};
class CO {
  constructor(t) {
    this.dataSourceKeyid = "globalStyles", this.records = [], this.openCategories = /* @__PURE__ */ new Map(), this.store = t, Xt(
      this,
      {
        // will be used only on the initial render of GlobalStyleManager
        openCategories: !1
      },
      { autoBind: !0 }
    );
  }
  get sdkOptionStyles() {
    var t;
    return ((t = this.store.appEditorStore.sdkOptions.globalStyles) == null ? void 0 : t.default) || [];
  }
  get editor() {
    return this.store.appEditorStore.editor;
  }
  get DataSources() {
    var t;
    return (t = this.editor) == null ? void 0 : t.DataSources;
  }
  get recordsByCategory() {
    const { records: t, sdkOptionStyles: n } = this, r = [], o = t.reduce((s, i) => (s.set(i.get("id"), i), s), /* @__PURE__ */ new Map());
    return n.forEach(({ id: s }) => {
      const i = o.get(s);
      i && (r.push(i), o.delete(s));
    }), Array.from(o).map(([, s]) => {
      s.get("_internal") || r.push(s);
    }), SO(r.map((s) => ({ category: s.get("category"), item: s })));
  }
  setCategoryOpen(t, n) {
    this.openCategories.set(t, n);
  }
  getDataSource() {
    var t;
    return (t = this.DataSources) == null ? void 0 : t.get(this.dataSourceKeyid);
  }
  getRuleByGroup(t) {
    var n;
    return (n = this.editor) == null ? void 0 : n.CssComposer.getAll().find((r) => Cv(r, t));
  }
  addStyleRule(t) {
    var u;
    const n = t.get("id"), r = t.get("selector"), o = t.get("property"), s = t.getPath("value"), i = `globalStyles:${n}`, a = {
      [o]: {
        type: "data-variable",
        path: s,
        defaultValue: t.get("defaultValue")
      }
    }, c = this.getRuleByGroup(i);
    if (c)
      c.addStyle(a);
    else {
      const d = (u = this.editor) == null ? void 0 : u.CssComposer.addCollection(
        [
          {
            selectors: [],
            selectorsAdd: r,
            style: a
          }
        ],
        {
          extend: !0,
          at: t.index
        }
      )[0];
      d && jO(d, i);
    }
  }
  createDataSource() {
    return this.DataSources.add({
      id: this.dataSourceKeyid,
      records: []
    });
  }
  onLoad() {
    var r;
    const { sdkOptionStyles: t } = this;
    if (!t.length) {
      this.records = [];
      return;
    }
    let n = this.getDataSource();
    n || (n = this.createDataSource()), t.forEach((o) => {
      const s = n.getRecord(o.id);
      if (s) {
        const i = {
          label: o.label,
          field: o.field,
          category: o.category
        };
        s.set({
          ...i,
          _undo: !0
        });
      } else
        n.addRecord({
          value: void 0,
          // make the first undo work if value is not provided
          ...o,
          _internal: !0,
          // setByGlobalStyleManager
          _undo: !0
          // Make globalStyle records undoable
        });
    }), n.getRecords().forEach((o) => {
      this.addStyleRule(o);
    }), n.listenTo(n.records, "add", (o) => {
      this.addStyleRule(o);
    }), (r = this.editor) == null || r.UndoManager.add(n.records), this.records = n.getRecords();
  }
}
const PO = () => Dt().globalStylesStore, Pv = (e, t) => {
  let n;
  try {
    const r = ir() && e && localStorage.getItem(e);
    r && (n = JSON.parse(r));
  } catch (r) {
    console.error(r);
  }
  return {
    lastProjectId: "",
    ...t,
    ...n
  };
}, fh = (e, t) => {
  const r = { ...Pv(e), ...t };
  try {
    ir() && e && localStorage.setItem(e, JSON.stringify(r));
  } catch (o) {
    console.error(o);
  }
  return r;
}, nd = "gs-utl-dark", EO = () => ir() && window.matchMedia("(prefers-color-scheme: dark)").matches, Ev = (e) => e === "dark" || e === "auto" && EO(), hh = (e, t) => {
  if (e && ir() && t.rootEl) {
    const { classList: n } = t.rootEl;
    let r = !1;
    if (Ev(e) ? (n.add(nd), r = !0) : n.remove(nd), t.updateAppShell) {
      const o = document.head.querySelector('meta[name="theme-color"]');
      o && (o.content = r ? "#18181b" : "#ffffff");
    }
  }
};
class _O {
  constructor(t) {
    this.key = "", this.theme = Hr.auto, this.lastProjectId = "", this.updateAppShell = !1, this.rootEl = void 0, t && Object.keys(t).forEach((n) => {
      const r = n, o = t[r];
      o !== void 0 && (this[r] = o);
    }), Xt(this, {}, { autoBind: !0 }), this.init();
  }
  init() {
    hh(this.theme, this);
  }
  changeTheme(t) {
    hh(t, this), fh(this.key, { theme: t });
  }
  setTheme(t) {
    this.theme = t;
  }
  setRootEl(t) {
    this.rootEl = t;
  }
  setLocalState(t) {
    Object.keys(t).forEach((n) => {
      const r = n, o = t[r];
      o !== void 0 && (this[r] = o);
    }), fh(this.key, t);
  }
  get isDarkTheme() {
    return Ev(this.theme);
  }
}
const OO = (e) => {
  Mm(
    () => e.theme,
    (t) => {
      e.changeTheme(t);
    }
  );
}, an = () => Dt().localSettingsStore;
class TO {
  constructor(t) {
    this.isOpen = !1, this.title = "", this.content = "", this.size = "l", this.fullH = !1, this.modalProps = {}, this.buttons = [], this.store = t, Xt(this, {}, { autoBind: !0 });
  }
  setModalProps(t) {
    this.modalProps = {
      title: "",
      size: "l",
      fullH: !1,
      buttons: [],
      ...t
    };
  }
  open({ content: t, ...n }) {
    this.isOpen = !0, this.content = t, this.setModalProps(n);
  }
  close() {
    this.isOpen = !1, setTimeout(this.clear, 101);
  }
  clear() {
    this.content = "", this.setModalProps({
      size: this.modalProps.size
    });
  }
  confirm({ content: t, size: n = "m", onConfirm: r, confirmButton: o, ...s }) {
    this.isOpen = !0, this.content = t;
    const i = () => {
      r == null || r(), this.close();
    };
    this.setModalProps({
      ...s,
      size: n,
      buttons: [
        { children: "Cancel", onClick: this.close, size: "m2" },
        { children: "Confirm", onClick: i, size: "m2", variant: "pr", ...o }
      ]
    });
  }
}
const Dn = () => Dt().modalStore, AO = {
  add: "Add",
  delete: "Delete",
  duplicate: "Duplicate",
  rename: "Rename",
  remove: "Remove",
  clear: "Clear",
  select: "Select",
  selectList: "Select from the list",
  search: "Search",
  update: "Update",
  updated: "Updated!",
  confirm: "Confirm",
  cancel: "Cancel",
  enable: "Enable",
  disable: "Disable",
  upload: "Upload",
  close: "Close",
  load: "Load",
  copy: "Copy",
  save: "Save",
  current: "Current",
  toggleCss: "Toggle CSS",
  selectTarget: "Target Component",
  noCode: "No code available",
  noItems: "No items found",
  confirmAction: "Do you confirm this action?",
  eyeDropper: "Eyedropper",
  noEyeDropper: "Eyedropper not supported",
  unauthorized: "Unauthorized project",
  notItemsFound: "No items found",
  actions: {
    componentOutline: { title: "Component outline" },
    preview: { title: "Preview" },
    fullscreen: { title: "Fullscreen" },
    showCode: {
      title: "Code",
      exportButton: "Export to ZIP"
    },
    undo: { title: "Undo" },
    redo: { title: "Redo" },
    save: { title: "Save project" },
    store: { title: "Save content" },
    open: { title: "Open project" },
    importCode: {
      title: "Import code",
      content: "Paste here your HTML/CSS and click Import",
      button: "Import"
    },
    clearCanvas: {
      title: "Clear page",
      content: "Are you sure you want to clear the page?"
    },
    about: {
      title: "About"
    },
    embed: {
      title: "Embed Studio"
    },
    newProject: {
      title: "Load project"
    },
    installApp: {
      title: "Install App",
      installed: "App installed"
    }
  },
  modals: {
    styleCatalog: {
      title: "Style Catalog",
      noStyles: "No styles found"
    },
    openProject: {
      title: "Open project"
    }
  },
  pluginManager: {
    plugins: "Plugins",
    all: "Available",
    installed: "Installed",
    install: "Install",
    uninstall: "Uninstall",
    allPlugins: "All plugins",
    updateStudio: "Restart Studio for plugin updates"
  },
  globalStyleManager: {
    notFound: "No global styles found"
  },
  pageManager: {
    pages: "Pages",
    page: "Page",
    newPage: "New Page",
    add: "Add page",
    rename: "Rename",
    duplicate: "Duplicate",
    copy: "Copy",
    delete: "Delete",
    deletePage: "Delete Page",
    confirmDelete: "Are you sure you want to delete the page?",
    settings: {
      label: "Settings",
      title: "Page settings",
      global: "Global settings",
      fields: {
        name: {
          label: "Name"
        },
        slug: {
          label: "Slug",
          description: "The slug is the URL-friendly version of the name. It is usually all lowercase and contains only letters, numbers, and hyphens."
        },
        favicon: {
          label: "Favicon",
          description: "The favicon is the small icon that appears in the browser tab."
        },
        title: {
          label: "Title",
          description: "The title is the name of the page that appears in the browser tab."
        },
        description: {
          label: "Description",
          description: "The description is a short summary of the page content."
        },
        keywords: {
          label: "Keywords",
          description: "Keywords are words or phrases that describe the content of the page."
        },
        socialTitle: {
          label: "Social title",
          description: "The title is the name of the page that appears on social networks."
        },
        socialImage: {
          label: "Social image",
          description: "The image is the picture that appears on social networks."
        },
        socialDescription: {
          label: "Social description",
          description: "The description is a short summary of the page content that appears on social networks."
        },
        customCodeHead: {
          label: "Custom HTML head",
          description: "Add any custom HTML (e.g., meta tags, stylesheets, scripts) to be included in the <head> section of the page."
        },
        customCodeBody: {
          label: "Custom HTML body",
          description: "Add any custom HTML (e.g., scripts, tracking codes) to be included just before the closing </body> tag."
        }
      }
    }
  },
  projectManager: {
    existentProjects: "Your projects",
    templates: "Templates",
    notAvailable: "No projects available",
    projectType: "Project type",
    projectName: "Project name",
    pages: "Pages"
  },
  templates: {
    notFound: "No templates found"
  },
  storageManager: {
    errorLoad: "Failed to load the project",
    errorStore: "Failed to save the project"
  },
  assetManager: {
    addUrl: "Add URL",
    projectAssets: "Assets in this project",
    userAssets: "Assets from all projects",
    errorLoad: "Failed to load assets",
    errorUpload: "Failed to upload",
    errorDelete: "Failed to delete",
    deleteConfirmQuestion: "Delete asset?",
    deleteConfirmExplanation: "This will affect existing and published projects that rely on this asset, if any exist.",
    assetTypes: {
      all: "All",
      image: "Images"
    },
    noProvider: "Project assets"
  },
  blockManager: {
    notFound: "No blocks found",
    blocks: "Blocks",
    add: "Add more blocks",
    labels: {
      section: "Section",
      column1: "1 Column",
      column2: "2 Columns",
      column3: "3 Columns",
      "column3-7": "2 Columns 3/7",
      gridRow: "Grid",
      heading: "Heading",
      divider: "Divider",
      imageBox: "Image Box",
      linkBox: "Link Box"
    },
    categories: {
      // 'category-id': 'Category Label',
    },
    symbols: {
      notFound: "No symbols found",
      instancesProject: "Instance/s in the project",
      delete: "Delete symbol",
      deleteConfirm: "Are you sure you want to delete the symbol? All instances inside the project will be detached."
    }
  },
  domComponents: {
    names: {
      section: "Section",
      gridRow: "Row",
      gridColumn: "Column",
      heading: "Heading",
      divider: "Divider",
      imageBox: "Image Box",
      linkBox: "Link Box"
    }
  },
  traitManager: {
    empty: "Select a component to see its properties",
    panelLabel: "Properties",
    traits: {
      labels: {
        loading: "Lazy load",
        target: "Open in new tab",
        showList: "Show element list",
        customAttributes: "Custom Attributes"
      },
      attributes: {
        // href: { placeholder: 'eg. https://google.com' },
      }
    }
  },
  deviceManager: {
    allDevices: "All devices"
  },
  selectorManager: {
    noSelecton: "You don't have any selected element.",
    selectFromCanvas: "Select an element from the canvas.",
    selectFromList: "Pick any style from the Style Catalog.",
    selectCustom: "Add your custom style selector.",
    selection: "Selection",
    selector: "Selector",
    addNewSelector: "Add new selector",
    removeSelector: "Remove selector",
    target: "Target",
    device: "Device",
    state: "State",
    deleteStyle: "Delete style",
    showCSS: "Show CSS code",
    searchStyle: "Search style",
    applyOnSelector: "Apply style changes on Selectors",
    noSelectors: "No Selectors applied",
    applyOnComponents: "Apply style changes on Components",
    noComponents: "No Components selected",
    currentSelection: "The current selection from which styles are displayed of"
    // label: 'Classes',
    // selected: 'Selected',
    // emptyState: '- State -',
    // states: {
    //   hover: 'Hover',
    //   active: 'Click',
    //   'nth-of-type(2n)': 'Even/Odd',
    // },
  },
  layerManager: {
    layers: "Layers"
  },
  styleManager: {
    panelLabel: "Styles",
    layout: {
      flexChild: "Flex child",
      display: {
        tips: {
          block: "Block generates a block element box, generating line breaks both before and after the element when in the normal flow.",
          inline: "Inline generates one or more inline element boxes that do not generate line breaks. The inline is generally default for text content.",
          "inline-block": "Inline-block is similar to inline but allows to define width and height properties.",
          flex: "Flex behaves like a block element and lays out its child elements on a vertical/horizontal axis",
          none: "The element is hidden from the layout"
        }
      },
      direction: {
        title: {
          row: "Horizontal",
          "row-reverse": "Horizontal reversed",
          column: "Vertical",
          "column-reverse": "Vertical reversed"
        }
      }
    },
    position: {
      tips: {
        static: "Default position",
        relative: "Similar to Static but with the ability to be moved relative to itself",
        absolute: "Absolute position, relative to its closest non-static parent",
        fixed: "Fixed position (even when the page is scrolled), relative to the browser viewport",
        sticky: "Elements are keept in place but moved when the page is scrolled, based on indicated distance"
      },
      presets: {
        title: "Presets",
        options: {
          topLeft: "Top left",
          topRight: "Top right",
          bottomLeft: "Bottom left",
          bottomRight: "Bottom right",
          left: "Left",
          right: "Right",
          bottom: "Bottom",
          top: "Top",
          full: "Full"
        }
      }
    },
    properties: {
      "margin-top": "Top",
      "margin-right": "Right",
      "margin-bottom": "Bottom",
      "margin-left": "Left",
      "padding-top": "Top",
      "padding-right": "Right",
      "padding-bottom": "Bottom",
      "padding-left": "Left",
      "border-top-left-radius": "Top Left",
      "border-top-right-radius": "Top Right",
      "border-bottom-right-radius": "Bottom Right",
      "border-bottom-left-radius": "Bottom Left",
      "mix-blend-mode": "Blend mode",
      "transform-style": "Type",
      "backface-visibility": "Backface",
      "perspective-origin": "Perspective origin",
      "perspective-origin-x": "Left",
      "perspective-origin-y": "Top",
      "transform-origin-x": "Left",
      "transform-origin-y": "Top",
      "align-items": "Align",
      "align-self": "Align",
      "justify-content": "Justify",
      "row-gap": "Row",
      "column-gap": "Column",
      // Typography
      "font-family": "Font",
      "font-size": "Size",
      "font-weight": "Weight",
      "letter-spacing": "Spacing",
      "text-align": "Align",
      "text-decoration": "Decoration",
      "text-transform": "Transform",
      "white-space": "Breaking",
      // Borders
      "border-top-width": "Top",
      "border-right-width": "Right",
      "border-bottom-width": "Bottom",
      "border-left-width": "Left",
      "border-top-style": "Top",
      "border-right-style": "Right",
      "border-bottom-style": "Bottom",
      "border-left-style": "Left",
      "border-top-color": "Top",
      "border-right-color": "Right",
      "border-bottom-color": "Bottom",
      "border-left-color": "Left",
      // Bg
      "background-position": "Position",
      "background-position-x": "Left",
      "background-position-y": "Top",
      "background-size": "Size",
      "background-size-x": "Left",
      "background-size-y": "Top",
      "background-repeat": "Repeat",
      "background-attachment": "Attachment",
      "background-origin": "Origin",
      "background-clip": "Clip",
      // Effects
      "overflow-x": "X",
      "overflow-y": "Y"
    },
    options: {
      "__background-type": {
        image: "Image",
        gradient: "Gradient",
        color: "Color"
      },
      display: {
        block: "Block",
        inline: "Inline",
        "inline-block": "Inline block",
        flex: "Flex",
        none: "None"
      },
      overflow: {
        visible: "Visible",
        hidden: "Hidden",
        scroll: "Scroll",
        auto: "Auto"
      },
      "flex-wrap": {
        nowrap: "No wrap",
        wrap: "Wrap",
        "wrap-reverse": "Reverse wrap"
      }
    }
  }
}, LO = "column1", kO = "column2", MO = "column3", _v = "column3-7", $O = function(e, t = {}) {
  const { Components: n, Blocks: r } = e, o = "gridRow", s = "gridColumn", i = "gjs-grid-row", a = "gjs-grid-column", c = { tl: 0, tc: 0, tr: 0, cl: 0, bl: 0, br: 0 }, u = "flex-basis", d = 1, p = 1, f = 1;
  n.addType(o, {
    isComponent: (g) => Ur(g, i),
    model: {
      defaults: {
        emptyState: !0,
        droppable: gr(s),
        highlightable: !1,
        attributes: { class: i },
        resizable: { ...c, keyHeight: "min-height" },
        icon: `
            <svg viewBox="0 0 24 24">
              <path d="M22 14c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2v4M4 14h4v-4H4v4m6 0h4v-4h-4v4m6 0h4v-4h-4v4z"></path>
            </svg>
          `,
        "stylable-require": ["flex-align-items", "flex-align-items-v", "flex-direction-id", "flex-multiline"],
        traits: [
          "id",
          "title",
          {
            name: "add-column",
            labelButton: "Add column",
            type: "button",
            full: !0,
            command: (g) => {
              g.getSelected().components().add({ type: s });
            }
          }
        ],
        styles: `
            .${i} {
              display: flex;
              justify-content: flex-start;
              align-items: stretch;
              flex-direction: row;
              min-height: auto;
              padding: 10px 0;
            }
            @media (max-width: 992px) {
              .${i} {
                flex-direction: column;
              }
            }
          `
      }
    }
  }), n.addType(s, {
    isComponent: (g) => Ur(g, a),
    model: {
      defaults: {
        emptyState: !0,
        attributes: { class: a },
        draggable: gr(o),
        resizable: { ...c, bc: 0, keyWidth: u, currentUnit: f, minDim: d, step: p },
        icon: `
            <svg viewBox="0 0 24 24">
              <path d="M8 2h8c1.1 0 2 .9 2 2v16c0 1.1-.9 2-2 2H8c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2m0 8v4h8v-4H8m0 6v4h8v-4H8M8 4v4h8V4H8z"></path>
            </svg>
          `,
        unstylable: ["width"],
        "stylable-require": ["flex-basis", "flex-item-behaviour", "flex-item-h-align", "flex-order"],
        traits: [
          {
            label: "Center content",
            name: "center-content",
            type: "checkbox",
            changeProp: !0
          }
        ],
        styles: `
            .${a} {
              flex: 1 1 0%;
              padding: 5px 0;
            }
          `
      },
      init() {
        this.listenTo(this, "change:center-content", this.handleCenter);
      },
      handleCenter() {
        const g = this.get("center-content");
        this.addStyle({
          display: g ? "flex" : "block",
          "align-items": g ? "center" : "",
          "justify-content": g ? "center" : ""
        });
      }
    }
  });
  const h = {
    label: o,
    content: {
      type: o,
      components: [{ type: s }, { type: s }, { type: s }]
    },
    ...t.block
  }, v = { merge: !0 };
  r.add(
    LO,
    {
      ...h,
      content: {
        type: o,
        components: [{ type: s }]
      }
    },
    v
  ), r.add(
    kO,
    {
      ...h,
      content: {
        type: o,
        components: [{ type: s }, { type: s }]
      }
    },
    v
  ), r.add(
    MO,
    {
      ...h,
      content: {
        type: o,
        components: [{ type: s }, { type: s }, { type: s }]
      }
    },
    v
  ), r.add(
    _v,
    {
      ...h,
      content: {
        type: o,
        components: [{ type: s, style: { "flex-basis": "30%", "flex-grow": 0 } }, { type: s }]
      }
    },
    v
  );
}, Ws = "section", Uc = "container", Wc = "gjs-section", Gc = "gjs-container", NO = function(e, t = {}) {
  const { Components: n, Blocks: r } = e;
  r.add(
    Ws,
    {
      label: Ws,
      media: `
        <svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />
        </svg>
      `,
      content: { type: Ws },
      ...t.block
    },
    { at: Gi(e, _v) + 1 }
  ), n.addType(Ws, {
    isComponent: (o) => Ur(o, Wc),
    model: {
      defaults: {
        tagName: "section",
        emptyState: !0,
        draggable: gr("wrapper"),
        droppable: gr(Uc),
        attributes: { class: Wc },
        components: { type: Uc },
        styles: `
            .${Wc} {
              display: flex;
              padding: 50px 0;
            }
          `
      }
    }
  }), n.addType(Uc, {
    isComponent: (o) => Ur(o, Gc),
    model: {
      defaults: {
        emptyState: !0,
        copyable: !1,
        removable: !1,
        draggable: !1,
        attributes: { class: Gc },
        styles: `
            .${Gc} {
              width: 90%;
              margin: 0 auto;
              max-width: 1200px;
            }
          `
      }
    }
  });
}, RO = function(e, t = {}) {
  const { Components: n, Blocks: r } = e, o = "divider", s = "gjs-divider";
  r.add(
    o,
    {
      label: o,
      media: `
        <svg viewBox="0 0 24 24">
          <path d="M8,18H11V15H2V13H22V15H13V18H16L12,22L8,18M12,2L8,6H11V9H2V11H22V9H13V6H16L12,2Z" />
        </svg>
      `,
      content: { type: o },
      ...t.block
    },
    { at: Gi(e, Ws) + 1 }
  ), n.addType(o, {
    isComponent: (i) => Ur(i, s),
    model: {
      defaults: {
        droppable: !1,
        highlightable: !1,
        attributes: { class: s },
        stylable: [
          "height",
          "width",
          "background-color",
          "margin",
          "margin-top",
          "margin-right",
          "margin-bottom",
          "margin-left"
        ],
        styles: `
            .${s} {
              height: 3px;
              width: 100%;
              margin: 10px;
              background-color: rgba(0, 0, 0, 0.05);
            }
          `
      }
    }
  });
}, gh = "page://", DO = function(e) {
  const { Components: t, Blocks: n } = e, o = t.getType("wrapper").model.getDefaults(), s = t.getType("head").model;
  t.addType("wrapper", {
    model: {
      defaults: {
        emptyState: { styleIn: "height: 100vh", styleOut: "padding: 0;" },
        stylable: [
          ...o.stylable,
          // For now, the whole Typography section is visible because we don't handle
          // properly each property visibility, so this might change in case that will
          // be fixed (we'll need to indicate all Typography properties in that case).
          "font-family"
        ]
      }
    }
  }), t.addType("head", {
    model: {
      components(u, d) {
        return s.prototype.components.call(this, u, {
          ...d,
          skipDomReset: !0
        });
      }
    },
    view: {
      updateContent() {
      }
    }
  }), t.addType("text", {
    model: {
      defaults: {
        highlightable: !1,
        emptyState: { styleIn: "min-height: auto; font-size: inherit;" }
      }
    }
  }), t.addType("image", {
    model: {
      defaults: {
        traits: [
          {
            type: "image",
            name: "src",
            label: "Image",
            // @ts-expect-error to add later
            typeProps: { inputField: !0 }
          },
          "alt",
          {
            type: "checkbox",
            name: "loading",
            valueTrue: "lazy"
          }
        ]
      }
    }
  });
  const a = t.getType("link").model;
  t.addType("link", {
    model: {
      defaults: {
        emptyState: !0,
        traits: [
          "title",
          {
            type: "checkbox",
            name: "target",
            valueTrue: "_blank"
          },
          {
            type: "href",
            name: "href"
          }
        ]
      },
      getAttrToHTML() {
        const u = a.prototype.getAttrToHTML.apply(this), { href: d } = u;
        if (d && d.indexOf(gh) === 0) {
          const p = d.replace(gh, ""), f = e.Pages.get(p);
          u.href = f ? `./${Qu(e, f)}` : "##";
        }
        return u;
      }
    }
  }), n.add(
    "link",
    {
      label: "Link",
      content: {
        type: "link",
        content: "Link",
        style: { color: "#d983a6", padding: "10px" }
      }
    },
    { merge: !0 }
  ), t.addType("select", {
    model: {
      defaults: {
        traits: [
          { name: "name" },
          {
            type: "checkbox",
            name: "required"
          },
          {
            name: "options",
            type: "stack",
            getValue({ component: u }) {
              return u.components().map((d) => ({
                id: d.getAttributes().value || "",
                label: d.getInnerHTML()
              }));
            },
            setValue: ({ component: u, value: d, emitUpdate: p }) => {
              u.components(
                d.map((f) => ({
                  type: "option",
                  content: f.label,
                  attributes: { value: f.id }
                }))
              ), p();
            },
            // eslint-disable-next-line @typescript-eslint/ban-ts-comment
            // @ts-ignore
            properties: [{ name: "id" }, { name: "label" }]
          }
        ]
      }
    }
  });
  const c = "contentEditable";
  t.addType(c, {
    extend: "text",
    model: {
      defaults: {
        name: "Content",
        tagName: "span",
        hoverable: !1,
        selectable: !1
      },
      toHTML(u) {
        return this.getInnerHTML(u);
      }
    }
  }), t.addType("button", {
    model: {
      defaults: {
        components: [
          {
            type: c,
            components: { type: "textnode", content: "Button" }
          }
        ],
        traits: [
          {
            type: "select",
            name: "type",
            options: [
              { id: "button", label: "Button" },
              { id: "submit", label: "Submit" },
              { id: "reset", label: "Reset" }
            ]
          }
        ]
      },
      init() {
        var d;
        const u = [...this.components().models];
        (u.length > 1 || !((d = u[0]) != null && d.is(c))) && this.append({ type: c })[0].append(u);
      }
    }
  });
}, IO = function(e, t = {}) {
  const { Components: n, Blocks: r } = e, o = "heading";
  r.add(
    o,
    {
      label: o,
      media: `
        <svg viewBox="0 0 24 24">
          <path d="M8.3 11.5h7.4V6.9l-.2-1.6a1 1 0 00-.5-.5c-.3-.2-.7-.3-1-.3h-.6v-.4h6.8v.4h-.6c-.4 0-.7.1-1 .3a1 1 0 00-.6.6L18 6.9v10.3c0 .8 0 1.3.2 1.6 0 .2.2.3.4.5.4.2.7.3 1.1.3h.6v.4h-6.8v-.4h.5c.7 0 1.2-.2 1.5-.6.2-.3.3-.9.3-1.8v-4.9H8.3v4.9l.1 1.6.5.5c.3.2.7.3 1 .3h.7v.4H3.7v-.4h.6c.7 0 1.1-.2 1.4-.6.2-.3.3-.9.3-1.8V6.9L6 5.3a1 1 0 00-.5-.5l-1-.3h-.7v-.4h6.9v.4H10c-.4 0-.8.1-1 .3a1 1 0 00-.6.6l-.1 1.5v4.6z"></path>
        </svg>
      `,
      content: { type: o, components: "Insert your text here" },
      ...t.block
    },
    { at: Gi(e, "text") }
  ), n.addType(o, {
    extend: "text",
    isComponent: (s) => X_(s, "H1", "H2", "H3", "H4", "H5", "H6"),
    model: {
      defaults: {
        emptyState: !0,
        tagName: "h1",
        traits: [
          {
            type: "select",
            options: [
              { value: "h1", name: "One (largest)" },
              { value: "h2", name: "Two" },
              { value: "h3", name: "Three" },
              { value: "h4", name: "Four" },
              { value: "h5", name: "Five" },
              { value: "h6", name: "Six (smallest)" }
            ],
            label: "Size",
            name: "tagName",
            changeProp: !0
          }
        ]
      }
    }
  });
}, VO = function(e, t = {}) {
  const { Components: n, Blocks: r } = e, o = e.Components.getType("default").model, s = "imageBox", i = "gjs-image-box";
  r.add(
    s,
    {
      label: s,
      media: `
        <svg viewBox="0 0 24 24">
          <path d="M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M13.96,12.29L11.21,15.83L9.25,13.47L6.5,17H17.5L13.96,12.29Z" />
        </svg>
      `,
      content: { type: s },
      ...t.block
    },
    { at: Gi(e, "image") + 1 }
  ), n.addType(s, {
    extend: "image",
    isComponent: (a) => Ur(a, i),
    model: {
      defaults: {
        tagName: "div",
        void: !1,
        droppable: !0,
        emptyState: !1,
        resizable: { tl: 0, tc: 0, tr: 0, cl: 0, cr: 0, bl: 0, br: 0 },
        traits: ["title"],
        attributes: { class: i },
        styles: `
            .${i} {
              height: 200px;
              width: 100%;
            }
          `
      },
      getAttrToHTML(...a) {
        return o.prototype.getAttrToHTML.apply(this, a);
      }
    },
    view: {
      // @ts-ignore TODO ts
      tagName: "div",
      updateSrc() {
        const { model: a, em: c } = this, u = a.getSrcResult(), d = a.isDefaultSrc(), p = a.getStyle(), f = `url('${u}')`;
        u && a.addStyle({
          "background-image": d && p["background-image"] || f,
          "background-size": p["background-size"] || "contain",
          "background-position": p["background-position"] || "center center",
          "background-attachment": p["background-attachment"] || "scroll",
          "background-repeat": p["background-repeat"] || "no-repeat"
        }), u && c.trigger("component:toggled"), this.$el[u ? "removeClass" : "addClass"](this.classEmpty);
      },
      onRender() {
        this.renderChildren(), this.updateSrc();
      }
    }
  });
}, HO = function(e, t = {}) {
  const { Components: n, Blocks: r } = e, o = "linkBox", s = "gjs-link-box";
  r.add(
    o,
    {
      label: o,
      media: `
        <svg viewBox="0 0 24 24">
          <path d="M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V5H19V19M11,16H10C8.39,16 6,14.94 6,12C6,9.07 8.39,8 10,8H11V10H10C9.54,10 8,10.17 8,12C8,13.9 9.67,14 10,14H11V16M14,16H13V14H14C14.46,14 16,13.83 16,12C16,10.1 14.33,10 14,10H13V8H14C15.61,8 18,9.07 18,12C18,14.94 15.61,16 14,16M15,13H9V11H15V13Z" />
        </svg>
      `,
      content: { type: o },
      ...t.block
    },
    { at: Gi(e, "link") + 1 }
  ), n.addType(o, {
    isComponent: (i) => Ur(i, s),
    extend: "link",
    model: {
      defaults: {
        editable: !1,
        droppable: !0,
        attributes: { class: s },
        styles: `
            .${s} {
              color: inherit;
              display: inline-block;
              vertical-align: top;
              padding: 10px;
              max-width: 100%;
              text-decoration: none;
            }
          `
      }
    }
  });
}, mh = (e) => {
  const t = (e || "").split(" ");
  let n = t[0], r = t[0], o = t[0], s = t[0];
  return t.length === 4 ? (n = t[0], r = t[1], o = t[2], s = t[3]) : t.length === 3 ? (n = t[0], r = t[1], s = t[1], o = t[2]) : t.length === 2 && (n = t[0], r = t[1], s = t[1], o = t[0]), [n, r, o, s];
};
function BO(e) {
  const t = {};
  if (e.padding) {
    const n = e.padding.split(" ");
    let r = n[0], o = n[0], s = n[0], i = n[0];
    n.length === 4 ? (r = n[0], o = n[1], s = n[2], i = n[3]) : n.length === 3 ? (r = n[0], o = n[1], i = n[1], s = n[2]) : n.length === 2 && (r = n[0], o = n[1], i = n[1], s = n[0]), t["padding-top"] = e["padding-top"] || r, t["padding-right"] = e["padding-right"] || o, t["padding-bottom"] = e["padding-bottom"] || s, t["padding-left"] = e["padding-left"] || i, delete e.padding;
  }
  return {
    ...e,
    ...t
  };
}
const zO = { ratioDefault: !0, tc: !1, cl: !1, cr: !1, bc: !1 }, vh = `<svg viewBox="0 0 24 24">
  <path d="M16 9h3l-5 7m-4-7h4l-2 8M5 9h3l2 7m5-12h2l2 3h-3m-5-3h2l1 3h-4M7 4h2L8 7H5m1-5L2 8l10 14L22 8l-4-6H6z"></path>
</svg>`, FO = function(e, t = {}) {
  const { Components: n, Blocks: r } = e, o = "icon", s = "gjs-icon", i = "data-type-icon";
  r.add(
    o,
    {
      label: o,
      media: vh,
      content: { type: o },
      ...t.block
    }
    //{ at: getBlockIndex(editor, 'link') + 1 }
  ), n.addType(o, {
    isComponent: (a) => Ur(a, s) || cv(a, i),
    model: {
      defaults: {
        droppable: !1,
        attributes: { class: s, [i]: !0 },
        resizable: zO,
        components: vh,
        traits: [
          "id",
          "title",
          {
            type: "code",
            label: "Content",
            // eslint-disable-next-line @typescript-eslint/ban-ts-comment
            // @ts-ignore
            typeProps: {
              language: "html",
              clean: !0,
              padding: 5
            },
            getValue({ component: a }) {
              return a.getInnerHTML();
            },
            setValue: Wi(({ editor: a, component: c, value: u }) => {
              const d = a.Parser.parseHtml(u).html, p = Array.isArray(d) ? d[0] : d;
              p && p.tagName === "svg" && c.components(p);
            }, 500)
          }
        ],
        styles: `
            .${s} {
              display: inline-block;
              text-decoration: none;
              color: inherit;
              vertical-align: middle;
              fill: currentColor;
              width: 50px;
              height: 50px;
            }
          `
      },
      init() {
        this.listenTo(this.components(), "change add", this.disableLayers), this.disableLayers();
      },
      disableLayers() {
        this.components().forEach((a) => a.set("layerable", !1));
      }
    },
    view: {
      init() {
        const { model: a } = this;
        this.listenTo(a.components(), "change", this.disableChildren);
      },
      onRender() {
        this.disableChildren();
      },
      disableChildren() {
        this.model.components().forEach((a) => {
          var u;
          const c = (u = a.view) == null ? void 0 : u.el;
          c && (c.style.pointerEvents = "none");
        });
      }
    }
  });
}, Kc = "__nc", UO = (e) => {
  const t = e.getAttributes({ noClass: !0, noStyle: !0 });
  return e.traits.forEach((n) => {
    const r = n.getName();
    n.get("changeProp") || delete t[r];
  }), delete t.id, delete t.__p, t;
};
function WO(e) {
  const { Components: t } = e, n = (r) => {
    const { model: o, id: s } = r, i = o.getDefaults();
    t.addType(s, {
      model: {
        defaults: {
          traits: [
            ...i.traits,
            {
              name: "customAttributes",
              type: "stack",
              getValue({ component: a }) {
                const c = UO(a);
                return Object.keys(c).map((d) => ({
                  id: d,
                  value: c[d]
                }));
              },
              setValue: ({ component: a, value: c, options: u, emitUpdate: d }) => {
                const p = u.removed, f = u.previous, h = u.item;
                if (p)
                  a.removeAttributes(p.id);
                else {
                  f && h && f.id !== h.id && a.removeAttributes(f.id);
                  const v = c.reduce((g, b) => (g[b.id] = b.value || "", g), {});
                  a.addAttributes(v);
                }
                d();
              },
              addItem: () => ({
                id: Kc,
                value: !1
              }),
              labelItem: (a) => a.id === Kc || !a.id && !a.value ? "- Empty -" : `${a.id || ""}="${a.value || ""}"`,
              properties: [
                {
                  name: "id",
                  label: "Name",
                  getValue: (a) => a === Kc ? "" : a,
                  setValue: (a, c) => a.trim().toLowerCase().replace(/^[^a-z]{1}/gi, "_").replace(/\s+/g, "-") || c
                },
                {
                  name: "value",
                  label: "Value",
                  getValue: (a) => typeof a == "boolean" ? "" : a
                }
              ]
            }
          ]
        }
      }
    });
  };
  t.getTypes().forEach(n);
}
const GO = "Basic";
function KO(e, t) {
  const { appStore: n } = t;
  e.Css.getConfig().onBeforeStyle = BO;
  const r = e.Parser.getConfig().optionsHtml;
  r.htmlType = "text/html";
  const o = n.sdkOptions.pages || {};
  (wr(o.allowDocuments) ? o.allowDocuments : !0) && (r.detectDocument = !0, r.allowScripts = !0), e.Components.addType("trait-check", {
    model: {
      defaults: {
        traits: [
          "id",
          "title",
          {
            type: "select",
            name: "select-type",
            options: [
              { id: "value1", label: "Value 1" },
              { id: "value2", label: "Value 2" },
              { id: "value3", label: "Value 3" }
            ]
          },
          {
            type: "number",
            name: "number-type",
            // eslint-disable-next-line @typescript-eslint/ban-ts-comment
            // @ts-ignore TODO ts
            units: ["px", "rem", "%"]
          },
          {
            type: "checkbox",
            name: "checkbox-type"
          },
          {
            type: "color",
            name: "color-type"
          },
          {
            type: "button",
            name: "button-type",
            label: "Delete",
            command: "core:component-delete"
          }
        ]
      }
    }
  });
  const i = { category: GO, select: !0, activate: !0 };
  Q_(e, t), DO(e), $O(e, { block: i }), IO(e, { block: i }), NO(e, { block: i }), RO(e, { block: i }), VO(e, { block: i }), HO(e, { block: i }), FO(e, { block: i }), WO(e);
}
function qO(e, t, n) {
  return t in e ? Object.defineProperty(e, t, {
    value: n,
    enumerable: !0,
    configurable: !0,
    writable: !0
  }) : e[t] = n, e;
}
function bh(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var r = Object.getOwnPropertySymbols(e);
    t && (r = r.filter(function(o) {
      return Object.getOwnPropertyDescriptor(e, o).enumerable;
    })), n.push.apply(n, r);
  }
  return n;
}
function yh(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2 ? bh(Object(n), !0).forEach(function(r) {
      qO(e, r, n[r]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : bh(Object(n)).forEach(function(r) {
      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(n, r));
    });
  }
  return e;
}
function YO(e, t) {
  if (e == null)
    return {};
  var n = {}, r = Object.keys(e), o, s;
  for (s = 0; s < r.length; s++)
    o = r[s], !(t.indexOf(o) >= 0) && (n[o] = e[o]);
  return n;
}
function XO(e, t) {
  if (e == null)
    return {};
  var n = YO(e, t), r, o;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (o = 0; o < s.length; o++)
      r = s[o], !(t.indexOf(r) >= 0) && Object.prototype.propertyIsEnumerable.call(e, r) && (n[r] = e[r]);
  }
  return n;
}
function ZO(e, t) {
  return JO(e) || QO(e, t) || eT(e, t) || tT();
}
function JO(e) {
  if (Array.isArray(e))
    return e;
}
function QO(e, t) {
  if (!(typeof Symbol > "u" || !(Symbol.iterator in Object(e)))) {
    var n = [], r = !0, o = !1, s = void 0;
    try {
      for (var i = e[Symbol.iterator](), a; !(r = (a = i.next()).done) && (n.push(a.value), !(t && n.length === t)); r = !0)
        ;
    } catch (c) {
      o = !0, s = c;
    } finally {
      try {
        !r && i.return != null && i.return();
      } finally {
        if (o)
          throw s;
      }
    }
    return n;
  }
}
function eT(e, t) {
  if (e) {
    if (typeof e == "string")
      return xh(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if (n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set")
      return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
      return xh(e, t);
  }
}
function xh(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = new Array(t); n < t; n++)
    r[n] = e[n];
  return r;
}
function tT() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function nT(e, t, n) {
  return t in e ? Object.defineProperty(e, t, {
    value: n,
    enumerable: !0,
    configurable: !0,
    writable: !0
  }) : e[t] = n, e;
}
function wh(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var r = Object.getOwnPropertySymbols(e);
    t && (r = r.filter(function(o) {
      return Object.getOwnPropertyDescriptor(e, o).enumerable;
    })), n.push.apply(n, r);
  }
  return n;
}
function Sh(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2 ? wh(Object(n), !0).forEach(function(r) {
      nT(e, r, n[r]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : wh(Object(n)).forEach(function(r) {
      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(n, r));
    });
  }
  return e;
}
function rT() {
  for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
    t[n] = arguments[n];
  return function(r) {
    return t.reduceRight(function(o, s) {
      return s(o);
    }, r);
  };
}
function Gs(e) {
  return function t() {
    for (var n = this, r = arguments.length, o = new Array(r), s = 0; s < r; s++)
      o[s] = arguments[s];
    return o.length >= e.length ? e.apply(this, o) : function() {
      for (var i = arguments.length, a = new Array(i), c = 0; c < i; c++)
        a[c] = arguments[c];
      return t.apply(n, [].concat(o, a));
    };
  };
}
function rl(e) {
  return {}.toString.call(e).includes("Object");
}
function oT(e) {
  return !Object.keys(e).length;
}
function wi(e) {
  return typeof e == "function";
}
function sT(e, t) {
  return Object.prototype.hasOwnProperty.call(e, t);
}
function iT(e, t) {
  return rl(t) || Br("changeType"), Object.keys(t).some(function(n) {
    return !sT(e, n);
  }) && Br("changeField"), t;
}
function aT(e) {
  wi(e) || Br("selectorType");
}
function lT(e) {
  wi(e) || rl(e) || Br("handlerType"), rl(e) && Object.values(e).some(function(t) {
    return !wi(t);
  }) && Br("handlersType");
}
function cT(e) {
  e || Br("initialIsRequired"), rl(e) || Br("initialType"), oT(e) && Br("initialContent");
}
function uT(e, t) {
  throw new Error(e[t] || e.default);
}
var dT = {
  initialIsRequired: "initial state is required",
  initialType: "initial state should be an object",
  initialContent: "initial state shouldn't be an empty object",
  handlerType: "handler should be an object or a function",
  handlersType: "all handlers should be a functions",
  selectorType: "selector should be a function",
  changeType: "provided value of changes should be an object",
  changeField: 'it seams you want to change a field in the state which is not specified in the "initial" state',
  default: "an unknown error accured in `state-local` package"
}, Br = Gs(uT)(dT), ca = {
  changes: iT,
  selector: aT,
  handler: lT,
  initial: cT
};
function pT(e) {
  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  ca.initial(e), ca.handler(t);
  var n = {
    current: e
  }, r = Gs(gT)(n, t), o = Gs(hT)(n), s = Gs(ca.changes)(e), i = Gs(fT)(n);
  function a() {
    var u = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : function(d) {
      return d;
    };
    return ca.selector(u), u(n.current);
  }
  function c(u) {
    rT(r, o, s, i)(u);
  }
  return [a, c];
}
function fT(e, t) {
  return wi(t) ? t(e.current) : t;
}
function hT(e, t) {
  return e.current = Sh(Sh({}, e.current), t), t;
}
function gT(e, t, n) {
  return wi(t) ? t(e.current) : Object.keys(n).forEach(function(r) {
    var o;
    return (o = t[r]) === null || o === void 0 ? void 0 : o.call(t, e.current[r]);
  }), n;
}
var mT = {
  create: pT
}, vT = {
  paths: {
    vs: "https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"
  }
};
function bT(e) {
  return function t() {
    for (var n = this, r = arguments.length, o = new Array(r), s = 0; s < r; s++)
      o[s] = arguments[s];
    return o.length >= e.length ? e.apply(this, o) : function() {
      for (var i = arguments.length, a = new Array(i), c = 0; c < i; c++)
        a[c] = arguments[c];
      return t.apply(n, [].concat(o, a));
    };
  };
}
function yT(e) {
  return {}.toString.call(e).includes("Object");
}
function xT(e) {
  return e || jh("configIsRequired"), yT(e) || jh("configType"), e.urls ? (wT(), {
    paths: {
      vs: e.urls.monacoBase
    }
  }) : e;
}
function wT() {
  console.warn(Ov.deprecation);
}
function ST(e, t) {
  throw new Error(e[t] || e.default);
}
var Ov = {
  configIsRequired: "the configuration object is required",
  configType: "the configuration object should be an object",
  default: "an unknown error accured in `@monaco-editor/loader` package",
  deprecation: `Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `
}, jh = bT(ST)(Ov), jT = {
  config: xT
}, CT = function() {
  for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++)
    n[r] = arguments[r];
  return function(o) {
    return n.reduceRight(function(s, i) {
      return i(s);
    }, o);
  };
};
function Tv(e, t) {
  return Object.keys(t).forEach(function(n) {
    t[n] instanceof Object && e[n] && Object.assign(t[n], Tv(e[n], t[n]));
  }), yh(yh({}, e), t);
}
var PT = {
  type: "cancelation",
  msg: "operation is manually canceled"
};
function qc(e) {
  var t = !1, n = new Promise(function(r, o) {
    e.then(function(s) {
      return t ? o(PT) : r(s);
    }), e.catch(o);
  });
  return n.cancel = function() {
    return t = !0;
  }, n;
}
var ET = mT.create({
  config: vT,
  isInitialized: !1,
  resolve: null,
  reject: null,
  monaco: null
}), Av = ZO(ET, 2), qi = Av[0], Kl = Av[1];
function _T(e) {
  var t = jT.config(e), n = t.monaco, r = XO(t, ["monaco"]);
  Kl(function(o) {
    return {
      config: Tv(o.config, r),
      monaco: n
    };
  });
}
function OT() {
  var e = qi(function(t) {
    var n = t.monaco, r = t.isInitialized, o = t.resolve;
    return {
      monaco: n,
      isInitialized: r,
      resolve: o
    };
  });
  if (!e.isInitialized) {
    if (Kl({
      isInitialized: !0
    }), e.monaco)
      return e.resolve(e.monaco), qc(Yc);
    if (window.monaco && window.monaco.editor)
      return Lv(window.monaco), e.resolve(window.monaco), qc(Yc);
    CT(TT, LT)(kT);
  }
  return qc(Yc);
}
function TT(e) {
  return document.body.appendChild(e);
}
function AT(e) {
  var t = document.createElement("script");
  return e && (t.src = e), t;
}
function LT(e) {
  var t = qi(function(r) {
    var o = r.config, s = r.reject;
    return {
      config: o,
      reject: s
    };
  }), n = AT("".concat(t.config.paths.vs, "/loader.js"));
  return n.onload = function() {
    return e();
  }, n.onerror = t.reject, n;
}
function kT() {
  var e = qi(function(n) {
    var r = n.config, o = n.resolve, s = n.reject;
    return {
      config: r,
      resolve: o,
      reject: s
    };
  }), t = window.require;
  t.config(e.config), t(["vs/editor/editor.main"], function(n) {
    Lv(n), e.resolve(n);
  }, function(n) {
    e.reject(n);
  });
}
function Lv(e) {
  qi().monaco || Kl({
    monaco: e
  });
}
function MT() {
  return qi(function(e) {
    var t = e.monaco;
    return t;
  });
}
var Yc = new Promise(function(e, t) {
  return Kl({
    resolve: e,
    reject: t
  });
}), kv = {
  config: _T,
  init: OT,
  __getMonacoInstance: MT
}, $T = { wrapper: { display: "flex", position: "relative", textAlign: "initial" }, fullWidth: { width: "100%" }, hide: { display: "none" } }, Xc = $T, NT = { container: { display: "flex", height: "100%", width: "100%", justifyContent: "center", alignItems: "center" } }, RT = NT;
function DT({ children: e }) {
  return I.createElement("div", { style: RT.container }, e);
}
var IT = DT, VT = IT;
function HT({ width: e, height: t, isEditorReady: n, loading: r, _ref: o, className: s, wrapperProps: i }) {
  return I.createElement("section", { style: { ...Xc.wrapper, width: e, height: t }, ...i }, !n && I.createElement(VT, null, r), I.createElement("div", { ref: o, style: { ...Xc.fullWidth, ...!n && Xc.hide }, className: s }));
}
var BT = HT, Mv = me(BT);
function zT(e) {
  W(e, []);
}
var $v = zT;
function FT(e, t, n = !0) {
  let r = G(!0);
  W(r.current || !n ? () => {
    r.current = !1;
  } : e, t);
}
var Zt = FT;
function Js() {
}
function Go(e, t, n, r) {
  return UT(e, r) || WT(e, t, n, r);
}
function UT(e, t) {
  return e.editor.getModel(Nv(e, t));
}
function WT(e, t, n, r) {
  return e.editor.createModel(t, n, r ? Nv(e, r) : void 0);
}
function Nv(e, t) {
  return e.Uri.parse(t);
}
function GT({ original: e, modified: t, language: n, originalLanguage: r, modifiedLanguage: o, originalModelPath: s, modifiedModelPath: i, keepCurrentOriginalModel: a = !1, keepCurrentModifiedModel: c = !1, theme: u = "light", loading: d = "Loading...", options: p = {}, height: f = "100%", width: h = "100%", className: v, wrapperProps: g = {}, beforeMount: b = Js, onMount: m = Js }) {
  let [y, x] = U(!1), [w, S] = U(!0), j = G(null), E = G(null), C = G(null), P = G(m), _ = G(b), O = G(!1);
  $v(() => {
    let A = kv.init();
    return A.then((T) => (E.current = T) && S(!1)).catch((T) => (T == null ? void 0 : T.type) !== "cancelation" && console.error("Monaco initialization: error:", T)), () => j.current ? F() : A.cancel();
  }), Zt(() => {
    if (j.current && E.current) {
      let A = j.current.getOriginalEditor(), T = Go(E.current, e || "", r || n || "text", s || "");
      T !== A.getModel() && A.setModel(T);
    }
  }, [s], y), Zt(() => {
    if (j.current && E.current) {
      let A = j.current.getModifiedEditor(), T = Go(E.current, t || "", o || n || "text", i || "");
      T !== A.getModel() && A.setModel(T);
    }
  }, [i], y), Zt(() => {
    let A = j.current.getModifiedEditor();
    A.getOption(E.current.editor.EditorOption.readOnly) ? A.setValue(t || "") : t !== A.getValue() && (A.executeEdits("", [{ range: A.getModel().getFullModelRange(), text: t || "", forceMoveMarkers: !0 }]), A.pushUndoStop());
  }, [t], y), Zt(() => {
    var A, T;
    (T = (A = j.current) == null ? void 0 : A.getModel()) == null || T.original.setValue(e || "");
  }, [e], y), Zt(() => {
    let { original: A, modified: T } = j.current.getModel();
    E.current.editor.setModelLanguage(A, r || n || "text"), E.current.editor.setModelLanguage(T, o || n || "text");
  }, [n, r, o], y), Zt(() => {
    var A;
    (A = E.current) == null || A.editor.setTheme(u);
  }, [u], y), Zt(() => {
    var A;
    (A = j.current) == null || A.updateOptions(p);
  }, [p], y);
  let k = it(() => {
    var D;
    if (!E.current)
      return;
    _.current(E.current);
    let A = Go(E.current, e || "", r || n || "text", s || ""), T = Go(E.current, t || "", o || n || "text", i || "");
    (D = j.current) == null || D.setModel({ original: A, modified: T });
  }, [n, t, o, e, r, s, i]), z = it(() => {
    var A;
    !O.current && C.current && (j.current = E.current.editor.createDiffEditor(C.current, { automaticLayout: !0, ...p }), k(), (A = E.current) == null || A.editor.setTheme(u), x(!0), O.current = !0);
  }, [p, u, k]);
  W(() => {
    y && P.current(j.current, E.current);
  }, [y]), W(() => {
    !w && !y && z();
  }, [w, y, z]);
  function F() {
    var T, D, M, N;
    let A = (T = j.current) == null ? void 0 : T.getModel();
    a || ((D = A == null ? void 0 : A.original) == null || D.dispose()), c || ((M = A == null ? void 0 : A.modified) == null || M.dispose()), (N = j.current) == null || N.dispose();
  }
  return I.createElement(Mv, { width: h, height: f, isEditorReady: y, loading: d, _ref: C, className: v, wrapperProps: g });
}
var KT = GT;
me(KT);
function qT(e) {
  let t = G();
  return W(() => {
    t.current = e;
  }, [e]), t.current;
}
var YT = qT, ua = /* @__PURE__ */ new Map();
function XT({ defaultValue: e, defaultLanguage: t, defaultPath: n, value: r, language: o, path: s, theme: i = "light", line: a, loading: c = "Loading...", options: u = {}, overrideServices: d = {}, saveViewState: p = !0, keepCurrentModel: f = !1, width: h = "100%", height: v = "100%", className: g, wrapperProps: b = {}, beforeMount: m = Js, onMount: y = Js, onChange: x, onValidate: w = Js }) {
  let [S, j] = U(!1), [E, C] = U(!0), P = G(null), _ = G(null), O = G(null), k = G(y), z = G(m), F = G(), A = G(r), T = YT(s), D = G(!1), M = G(!1);
  $v(() => {
    let K = kv.init();
    return K.then((J) => (P.current = J) && C(!1)).catch((J) => (J == null ? void 0 : J.type) !== "cancelation" && console.error("Monaco initialization: error:", J)), () => _.current ? V() : K.cancel();
  }), Zt(() => {
    var J, ie, X, ne;
    let K = Go(P.current, e || r || "", t || o || "", s || n || "");
    K !== ((J = _.current) == null ? void 0 : J.getModel()) && (p && ua.set(T, (ie = _.current) == null ? void 0 : ie.saveViewState()), (X = _.current) == null || X.setModel(K), p && ((ne = _.current) == null || ne.restoreViewState(ua.get(s))));
  }, [s], S), Zt(() => {
    var K;
    (K = _.current) == null || K.updateOptions(u);
  }, [u], S), Zt(() => {
    !_.current || r === void 0 || (_.current.getOption(P.current.editor.EditorOption.readOnly) ? _.current.setValue(r) : r !== _.current.getValue() && (M.current = !0, _.current.executeEdits("", [{ range: _.current.getModel().getFullModelRange(), text: r, forceMoveMarkers: !0 }]), _.current.pushUndoStop(), M.current = !1));
  }, [r], S), Zt(() => {
    var J, ie;
    let K = (J = _.current) == null ? void 0 : J.getModel();
    K && o && ((ie = P.current) == null || ie.editor.setModelLanguage(K, o));
  }, [o], S), Zt(() => {
    var K;
    a !== void 0 && ((K = _.current) == null || K.revealLine(a));
  }, [a], S), Zt(() => {
    var K;
    (K = P.current) == null || K.editor.setTheme(i);
  }, [i], S);
  let N = it(() => {
    var K;
    if (!(!O.current || !P.current) && !D.current) {
      z.current(P.current);
      let J = s || n, ie = Go(P.current, r || e || "", t || o || "", J || "");
      _.current = (K = P.current) == null ? void 0 : K.editor.create(O.current, { model: ie, automaticLayout: !0, ...u }, d), p && _.current.restoreViewState(ua.get(J)), P.current.editor.setTheme(i), a !== void 0 && _.current.revealLine(a), j(!0), D.current = !0;
    }
  }, [e, t, n, r, o, s, u, d, p, i, a]);
  W(() => {
    S && k.current(_.current, P.current);
  }, [S]), W(() => {
    !E && !S && N();
  }, [E, S, N]), A.current = r, W(() => {
    var K, J;
    S && x && ((K = F.current) == null || K.dispose(), F.current = (J = _.current) == null ? void 0 : J.onDidChangeModelContent((ie) => {
      M.current || x(_.current.getValue(), ie);
    }));
  }, [S, x]), W(() => {
    if (S) {
      let K = P.current.editor.onDidChangeMarkers((J) => {
        var X;
        let ie = (X = _.current.getModel()) == null ? void 0 : X.uri;
        if (ie && J.find((ne) => ne.path === ie.path)) {
          let ne = P.current.editor.getModelMarkers({ resource: ie });
          w == null || w(ne);
        }
      });
      return () => {
        K == null || K.dispose();
      };
    }
    return () => {
    };
  }, [S, w]);
  function V() {
    var K, J;
    (K = F.current) == null || K.dispose(), f ? p && ua.set(s, _.current.saveViewState()) : (J = _.current.getModel()) == null || J.dispose(), _.current.dispose();
  }
  return I.createElement(Mv, { width: h, height: v, isEditorReady: S, loading: c, _ref: O, className: g, wrapperProps: b });
}
var ZT = XT, JT = me(ZT), QT = JT;
const Rv = (e) => {
  var t;
  (t = e.getAction("editor.action.formatDocument")) == null || t.run();
}, e5 = "gs-field-code", t5 = {
  minimap: { enabled: !1 },
  lineNumbers: "off",
  scrollBeyondLastLine: !1,
  contextmenu: !1,
  fixedOverflowWidgets: !0,
  // Render widgets outside of the container
  showFoldingControls: "always",
  suggestOnTriggerCharacters: !1,
  lineDecorationsWidth: 0,
  renderLineHighlight: "none",
  wordWrapOverride1: "off",
  // disable wordWrap
  tabSize: 2,
  // formatOnType: true,
  // formatOnPaste: true,
  // autoIndent: true,
  scrollbar: {
    verticalScrollbarSize: 8,
    horizontal: "hidden",
    alwaysConsumeMouseWheel: !1
  }
  // readOnly: true,
  // language: 'json',
  // lineNumbers: (lineNumber: number) => lineNumber.toString(),
  // lineNumbersMinChars: 5,
  // selectOnLineNumbers: false,
  // matchBrackets: 'never',
};
function Wr({
  size: e,
  value: t,
  label: n,
  language: r,
  onChange: o,
  clean: s,
  padding: i,
  isDarkTheme: a,
  className: c,
  containerClassName: u,
  noMinHeight: d,
  onMount: p,
  readOnly: f,
  description: h
}) {
  const v = typeof t == "string" ? t : JSON.stringify(t, null, 2);
  return (
    // This 3 div container fixes problems with autolayout, like not shrinking width on resize.
    /* @__PURE__ */ l.jsxs("div", { className: B(e5, "flex flex-col w-full h-full", u), children: [
      !!n && /* @__PURE__ */ l.jsx(kt, { children: n }),
      !!h && /* @__PURE__ */ l.jsx(kt, { as: "span", size: e, className: B(H.txtLowEmphasis), capitalize: !1, children: h }),
      /* @__PURE__ */ l.jsx(
        "div",
        {
          className: B("flex-grow", "w-full", "h-full", !d && "gs-utl-min-h-48"),
          style: {
            position: "relative",
            width: "100%",
            height: "100%"
          },
          children: /* @__PURE__ */ l.jsx(
            "div",
            {
              style: {
                position: "absolute",
                top: 0,
                left: 0,
                right: 0,
                bottom: 0
              },
              children: /* @__PURE__ */ l.jsx(
                QT,
                {
                  defaultLanguage: r,
                  defaultValue: v,
                  theme: a ? "vs-dark" : "light",
                  className: B(re.b, re.rnd, H.br, c),
                  options: {
                    ...t5,
                    readOnly: f,
                    ...s && {
                      domReadOnly: !0,
                      // disables "Cannot edit in read-only editor" tooltip when typing
                      overviewRulerLanes: 0,
                      // disable the right side ruler
                      selectOnLineNumbers: !1,
                      folding: !1,
                      matchBrackets: "never",
                      guides: {
                        indentation: !1
                      }
                    },
                    ...wr(i) && {
                      lineDecorationsWidth: i * 2,
                      padding: {
                        top: i,
                        bottom: i
                      }
                    }
                  },
                  onChange: o,
                  onMount: (g, b) => {
                    let m = !1;
                    const y = () => Rv(g);
                    g.onDidChangeModelLanguageConfiguration(y), g.onDidScrollChange(() => {
                      m || (m = !0, y());
                    }), setTimeout(y, 10), p == null || p(g, b);
                  }
                }
              )
            }
          )
        }
      )
    ] })
  );
}
const n5 = (e) => e.Assets.getAll().reduce((r, o) => {
  const s = o.getSrc(), i = s.match(/^data:([^;]+);/);
  if (i) {
    const a = s.split(",")[1], c = Z_(o.get("name"));
    r[s] = {
      mime: i[1],
      name: c,
      base64: a
    };
  }
  return r;
}, {}), r5 = (e) => e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&"), Ch = (e, t, n = {}) => {
  let r = e;
  const o = n.pathPfx || "";
  for (const s in t)
    if (r.includes(s)) {
      const i = t[s];
      r = r.replace(new RegExp(r5(s), "g"), `${o}${i.name}`), i.found = !0;
    }
  return r;
}, o5 = (e, t) => `${t || ""}${e || ""}`, s5 = (e, t) => {
  const n = e ? `<div ${nl}>${e}</div>` : "", r = t ? `<div ${nl} data-gjs-global>${t}</div>` : "";
  return `${n}${r}`;
}, ol = async (e, t = {}) => {
  const { page: n, skipProject: r, assetsFolder: o = "assets", filenameCss: s = "style.css", styles: i, isMJML: a } = t, c = [], u = n ? [n] : e.Pages.getAll(), d = n5(e), p = `${o}/`, f = e.getCss({ keepUnusedStyles: !0, component: n == null ? void 0 : n.getMainComponent() }) || "", h = Ch(f, d, { pathPfx: p }), v = i === "inline", g = i === "skip", b = Op(e).globalPageSettings || {}, m = u.map((y) => {
    var ut, Ze, ln;
    const x = y.getName(), w = ro(y, "title") || x, S = ro(y, "favicon"), j = ro(y, "description"), E = ro(y, "keywords"), C = ro(y, "socialTitle"), P = ro(y, "socialDescription"), _ = ro(y, "socialImage"), O = Ft({ page: y, key: "customCodeHead" }), k = o5(O, b.customCodeHead), z = Ft({ page: y, key: "customCodeBody" }), F = s5(z, b.customCodeBody), A = y.getMainComponent(), T = e.getJs({ component: A }), D = T ? `<script>${T}<\/script>` : "", M = [], N = [], V = A.toHTML({ asDocument: !1 }).replace("</body>", `${F}${D}</body>`), K = A.head;
    let J = w && `<title>${w}</title>`, ie = S && `<link rel="icon" href="${S}"/>`, X = j && `<meta name="description" content="${j}"/>`, ne = E && `<meta name="keywords" content="${E}"/>`, fe = C && `<meta property="og:title" content="${C}"/>`, se = P && `<meta property="og:description" content="${P}"/>`, q = _ && `<meta property="og:image" content="${_}"/>`, ee = '<meta charset="utf-8">', pe = '<meta name="viewport" content="width=device-width,initial-scale=1">', ae = '<meta name="robots" content="index,follow">', we = '<meta name="generator" content="GrapesJS Studio">';
    K.components().forEach((ze) => {
      const st = ze.toHTML();
      Je.title({ cmp: ze }) ? J = st : Je.favicon({ cmp: ze }) ? ie = st : Je.description({ cmp: ze }) ? X = st : Je.keywords({ cmp: ze }) ? ne = st : Je.socialTitle({ cmp: ze }) ? fe = st : Je.socialDescription({ cmp: ze }) ? se = st : Je.socialImage({ cmp: ze }) ? q = st : Je.charset({ cmp: ze }) ? ee = st : Je.viewport({ cmp: ze }) ? pe = st : Je.robots({ cmp: ze }) ? ae = st : Je.generator({ cmp: ze }) && (we = st);
    }), J && M.push(J), ee && M.push(ee), pe && M.push(pe), ae && M.push(ae), we && M.push(we), X && M.push(X), ne && M.push(ne), fe && M.push(fe), se && M.push(se), q && M.push(q), ie && M.push(ie), N.length && M.push(...N), k && M.push(k), h && !g && M.push(v ? `<style>${h}</style>` : `<link rel="stylesheet" href="./${s}">`);
    const Ce = A.doctype || "<!DOCTYPE html>", ot = (Ze = (ut = A.docEl).__attrToString) == null ? void 0 : Ze.call(ut), lt = (ln = K.__attrToString) == null ? void 0 : ln.call(K), Et = a ? e.runCommand("mjml-code-to-html").html : `${Ce}
<html${ot ? ` ${ot}` : ""}>
  <head${lt ? ` ${lt}` : ""}>
    ${M.join(`
  `)}
  </head>
  ${V}
</html>
`;
    return {
      filename: Qu(e, y),
      content: Ch(Et, d, { pathPfx: p }),
      mimeType: "text/html"
    };
  });
  c.push(...m), a && u.forEach((y) => {
    c.push({
      filename: Qu(e, y, "mjml"),
      content: y.getMainComponent().toHTML(),
      mimeType: "text/mjml"
    });
  });
  for (const y in d) {
    const x = d[y];
    x.found && c.push({
      path: o,
      filename: x.name,
      content: atob(x.base64),
      mimeType: x.mime
    });
  }
  return h && !v && !g && c.push({
    filename: s,
    content: h,
    mimeType: "text/css"
  }), r || c.push({
    filename: "gjs-project.grapesjs",
    content: JSON.stringify(e.getProjectData()),
    mimeType: "application/json"
  }), c;
}, Dv = ce(function({ buttonProps: t, content: n, code: r, onAction: o }) {
  const s = Dn(), i = Me(), a = ve(), { isProjectTypeEmail: c } = a, u = a.editor, { isDarkTheme: d } = an(), [p, f] = U(), h = () => {
    const g = (p || "").trim();
    o ? o(g) : u.setComponents(g), s.close();
  };
  W(() => {
    r ? f(r) : (async () => {
      if (c)
        f(u.getHtml());
      else {
        const m = (await ol(u, {
          page: u.Pages.getSelected(),
          skipProject: !0,
          styles: "inline"
        })).find((y) => y.mimeType === "text/html");
        m && f(m.content);
      }
    })();
  }, []);
  const v = (t == null ? void 0 : t.children) || i.t("actions.importCode.button");
  return /* @__PURE__ */ l.jsxs(R, { col: !0, space: "m", children: [
    /* @__PURE__ */ l.jsx($, { children: n ?? i.t("actions.importCode.content") }),
    /* @__PURE__ */ l.jsx($, { className: L("h-96"), children: p !== void 0 && /* @__PURE__ */ l.jsx(Wr, { value: p, onChange: (g) => f(g || ""), isDarkTheme: d, language: "html" }) }),
    /* @__PURE__ */ l.jsx(R, { justify: "end", children: /* @__PURE__ */ l.jsx(Xe, { size: "m2", variant: "pr", onClick: h, ...t, children: v }) })
  ] });
}), rd = "data-type-empty", Ph = (e, t) => {
  e.Canvas.getFrames().forEach((n) => {
    const { view: r } = n, o = Array.from(r.getDoc().querySelectorAll(`style[${rd}]`));
    for (const s of o)
      s.disabled = !t;
  });
}, i5 = (e, t, n = "Empty", r = {}) => {
  const o = `[${rd}="${t}"]`, s = e.frameView.getHead(), { midSelector: i = "", styleOut: a = "", styleIn: c = "" } = r;
  if (!s.querySelector(`style${o}`)) {
    const u = document.createElement("style");
    u.setAttribute(rd, t), u.innerHTML = `
    [data-gjs-type="${t}"]${i}:empty {
      text-decoration: none;
      padding: 5px;
      ${r.limitW ? "min-width: 50px;" : ""}
      ${a}
    }
    [data-gjs-type="${t}"]${i}:empty:before {
      background-color: #ddd;
      color: #000;
      font-size: 16px;
      font-weight: bold;
      font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Open Sans", Roboto, "Helvetica Neue", Helvetica, Arial, sans-serif;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 30px;
      padding: 0 10px;
      opacity: 0.3;
      border-radius: 3px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      content: "${n}";
      ${r.limitH ? "height: auto;" : ""}
      ${r.smallH ? "min-height: 30px;" : ""}
      ${c}
    }`, s.appendChild(u);
  }
}, Iv = (e, t) => {
  const { model: n } = t, r = n.constructor.getDefaults(), o = r.emptyState, s = n.get("type");
  if (!o || r.void === !0 || s !== e)
    return;
  const i = o === !0 ? {} : o;
  i5(t, s, n.getName({ noCustom: !0 }), i);
}, a5 = function(t) {
  const { Components: n } = t, r = (o) => {
    const { id: s } = o;
    n.addType(s, {
      extendFnView: ["onRender"],
      view: {
        onRender() {
          Iv(s, this);
        }
      }
    });
  };
  n.getTypes().forEach(r), t.on("component:type:add", r);
};
function l5(e) {
  const { Components: t } = e, n = t.events, { modalStore: r, i18nStore: o } = Cs(), s = {
    id: "link",
    name: "href",
    label: "Link",
    placeholder: "Link to redirect on click"
  }, i = {
    name: "src",
    changeProp: !0,
    type: "image",
    label: "Image"
  }, a = {
    label: "Content",
    getValue: ({ component: g }) => g.getInnerHTML(),
    setValue: ({ component: g, value: b }) => g.components(b)
  }, c = (g) => {
    var m;
    const b = g.getChildrenContainer();
    ((m = b == null ? void 0 : b.innerHTML) == null ? void 0 : m.trim()) === "" && (b.innerHTML = "");
  }, u = (g) => g.set({ void: !1 }, { silent: !0 });
  t.addType("wrapper", {
    extendFn: ["init"],
    model: {
      defaults: {
        stylable: !1,
        delegate: {
          layer: (g) => g.findType("mjml")[0]
        }
      },
      init() {
        this.on(`${n.update}:components`, this.__updateLayersRoot);
      },
      __updateLayersRoot() {
        this.findFirstType("mjml") && e.Layers.setRoot(this);
      }
    }
  }), t.addType("mjml", {
    model: {
      defaults: {
        name: "Root",
        toolbar: []
      }
    }
  }), t.addType("mj-head", {
    model: {
      defaults: {
        name: "Head",
        copyable: !1,
        stylable: !1,
        traits: [],
        icon: `<svg viewBox="0 0 24 24">
          <path d="M14.6,16.6L19.2,12L14.6,7.4L16,6L22,12L16,18L14.6,16.6M9.4,16.6L4.8,12L9.4,7.4L8,6L2,12L8,18L9.4,16.6Z" />
        </svg>`
      }
    },
    view: {
      init() {
        const { em: g, el: b } = this, m = "core:preview", y = g.Commands.events;
        this.listenTo(g, `${y.runCommand}${m}`, () => {
          b.style.display = "none";
        }), this.listenTo(g, `${y.stopCommand}${m}`, () => {
          b.style.display = "";
        });
      }
    }
  }), t.addType("mj-attributes", {
    isComponent: Is("mj-attributes"),
    model: {
      defaults: {
        name: "Attributes",
        copyable: !1,
        layerable: !1,
        stylable: !1,
        draggable: gr("mj-head"),
        traits: []
      }
    },
    view: {
      onRender() {
        this.el.style.display = "none";
      }
    }
  }), t.addType("mj-class", {
    isComponent: Is("mj-class"),
    model: {
      defaults: {
        name: "Class",
        stylable: !1,
        draggable: gr("mj-attributes"),
        traits: []
      }
    }
  }), t.addType("mj-font", {
    model: {
      defaults: {
        name: "Font",
        stylable: !1,
        draggable: gr("mj-head"),
        icon: '<svg viewBox="0 0 24 24"><path d="M17 8h3v12h1v1h-4v-1h1v-3h-4l-1.5 3H14v1h-4v-1h1l6-12m1 1-3.5 7H18V9M5 3h5a2 2 0 0 1 2 2v11H9v-5H6v5H3V5a2 2 0 0 1 2-2m1 2v4h3V5H6Z"/></svg>',
        traits: [
          {
            name: "name",
            placeholder: "Name of the font"
          },
          {
            name: "href",
            placeholder: "URL of a hosted CSS file"
          }
        ]
      }
    }
  }), t.addType("mj-all", {
    isComponent: Is("mj-all"),
    model: {
      defaults: {
        name: "All",
        stylable: !1,
        draggable: gr("mj-attributes"),
        traits: []
      }
    }
  }), t.addType("mj-preview", {
    isComponent: Is("mj-preview"),
    model: {
      defaults: {
        name: "Preview",
        copyable: !1,
        droppable: !1,
        stylable: !1,
        draggable: gr("mj-head"),
        traits: [a],
        icon: `<svg viewBox="0 0 24 24">
          <path d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" />
        </svg>`
      }
    },
    view: {
      tagName: () => "div",
      init() {
        const g = this.model.components();
        this.onRender = Wi(this.onRender, 1), this.listenTo(g, "add remove reset change", this.onRender);
      },
      onRender() {
        const { model: g, el: b } = this, m = g.getName({ noCustom: !0 }), y = g.getInnerHTML();
        b.innerHTML = `<b>${m}</B>: ${y}`, b.style.padding = "5px 10px", b.style.fontFamily = "system-ui";
      }
    }
  }), t.addType("mj-title", {
    isComponent: Is("mj-title"),
    extend: "mj-preview",
    model: {
      defaults: {
        name: "Title",
        icon: '<svg viewBox="0 0 24 24"><path d="M5,4V7H10.5V19H13.5V7H19V4H5Z" /></svg>'
      }
    }
  }), t.addType("mj-style", {
    model: {
      defaults: {
        name: "Style",
        droppable: !1,
        stylable: !1,
        traits: []
      }
    }
  }), t.addType("mj-body", {
    model: {
      defaults: {
        icon: `<svg viewBox="0 0 24 24">
          <path d="M6,2H18A2,2 0 0,1 20,4V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V4A2,2 0 0,1 6,2M6,8V16H18V8H6Z" />
        </svg>`,
        traits: [],
        emptyState: {
          midSelector: ">div",
          styleOut: "height: 100vh;"
        }
      }
    }
  }), t.addType("mj-section", {
    extendFn: ["init"],
    model: {
      defaults: {
        icon: `<svg viewBox="0 0 24 24">
          <path d="M2,3V6H21V3M20,8H3A1,1 0 0,0 2,9V15A1,1 0 0,0 3,16H20A1,1 0 0,0 21,15V9A1,1 0 0,0 20,8M2,21H21V18H2V21Z" />
        </svg>`,
        "style-default": {
          padding: "20px 0px",
          "text-align": "center"
        },
        traits: [
          {
            type: "checkbox",
            label: "Full width",
            name: "full-width",
            valueTrue: "full-width",
            valueFalse: ""
          }
        ],
        emptyState: {
          midSelector: ">div>div>table>tbody>tr>td"
        }
      },
      init() {
        u(this);
      }
    },
    extendFnView: ["render"],
    view: {
      render() {
        return c(this), this;
      }
    }
  }), t.addType("mj-column", {
    extendFn: ["init"],
    model: {
      defaults: {
        icon: `<svg viewBox="0 0 24 24" style="rotate: 90deg;">
          <path d="M2,3V6H21V3M20,8H3A1,1 0 0,0 2,9V15A1,1 0 0,0 3,16H20A1,1 0 0,0 21,15V9A1,1 0 0,0 20,8M2,21H21V18H2V21Z" />
        </svg>`,
        traits: [],
        emptyState: {
          midSelector: ">table",
          styleIn: "margin: 0 10px;"
        }
      },
      init() {
        u(this);
      }
    }
  }), t.addType("mj-text", {
    model: {
      defaults: {
        emptyState: {
          midSelector: ' [contenteditable="false"]',
          styleIn: "min-height: 20px;",
          styleOut: "padding: 0 5px;"
        },
        traits: [],
        "style-default": {
          padding: "10px 25px",
          "font-size": "13px",
          align: "left"
        }
      }
    }
  }), t.addType("mj-button", {
    model: {
      defaults: {
        traits: [s]
      }
    }
  }), t.addType("mj-image", {
    model: {
      defaults: {
        "style-default": {
          padding: "10px 25px",
          align: "center"
        },
        traits: [
          {
            name: "src",
            changeProp: !0,
            type: "image",
            label: "Image"
          },
          {
            id: "altText",
            name: "alt",
            placeholder: "Image description"
          },
          "title",
          s
        ]
      }
    },
    view: {
      getMjmlTemplate() {
        return {
          start: "<mjml><mj-body><mj-section><mj-column>",
          end: "</mj-column></mj-section></mj-body></mjml>"
        };
      },
      getTemplateFromEl(g) {
        var b, m, y;
        return (y = (m = (b = g.querySelector("img")) == null ? void 0 : b.closest("table")) == null ? void 0 : m.closest("tr")) == null ? void 0 : y.innerHTML;
      }
    }
  }), t.addType("mj-divider", {
    model: {
      defaults: {
        attributes: { align: "center" },
        traits: [
          {
            name: "align",
            type: "radio",
            options: [
              {
                id: "left",
                title: "Left",
                labelReact: /* @__PURE__ */ l.jsx(te, { icon: Q.alignHorizontalLeft, size: le.sx })
              },
              {
                id: "center",
                title: "Center",
                labelReact: /* @__PURE__ */ l.jsx(te, { icon: Q.alignHorizontalCenter, size: le.sx })
              },
              {
                id: "right",
                title: "Right",
                labelReact: /* @__PURE__ */ l.jsx(te, { icon: Q.alignHorizontalRight, size: le.sx })
              }
            ]
          }
        ]
      }
    }
  }), t.addType("mj-social", {
    model: {
      defaults: {
        name: "Social",
        traits: [],
        emptyState: {
          midSelector: ">td"
        }
      }
    }
  });
  const { view: d, model: p } = t.getType("mj-social-element");
  t.addType("mj-social-element", {
    extendFn: ["init"],
    model: {
      defaults: {
        traits: [
          {
            type: "select",
            label: "Icon",
            name: "name",
            options: [
              { id: "custom", name: "Custom" },
              { id: "facebook", name: "Facebook" },
              { id: "twitter", name: "Twitter/X" },
              { id: "google", name: "Google" },
              { id: "instagram", name: "Instagram" },
              { id: "web", name: "Web" },
              { id: "youtube", name: "Youtube" },
              { id: "pinterest", name: "Pinterest" },
              { id: "linkedin", name: "Linkedin" },
              { id: "snapchat", name: "Snapchat" },
              { id: "vimeo", name: "Vimeo" },
              { id: "tumblr", name: "Tumblr" },
              { id: "github", name: "Github" },
              { id: "soundcloud", name: "SoundCloud" },
              { id: "medium", name: "Medium" },
              { id: "dribbble", name: "Dribbble" },
              { id: "xing", name: "Xing" }
            ]
          },
          i,
          s,
          a
        ]
      },
      init() {
        u(this);
      },
      getMjmlAttributes() {
        const g = p.prototype.getMjmlAttributes.call(this);
        return { ...this.getDefaultIconProps()[g.name], ...g };
      },
      getAttrToHTML() {
        const g = p.prototype.getAttrToHTML.call(this);
        return { ...this.getDefaultIconProps()[g.name], ...g };
      },
      getDefaultIconProps() {
        return {
          twitter: {
            src: "https://upload.wikimedia.org/wikipedia/commons/5/57/X_logo_2023_%28white%29.png",
            "background-color": "black"
          }
        };
      }
    },
    extendFnView: ["init"],
    view: {
      init() {
        this.listenTo(this.model, "component:update:components", this.rerender);
      },
      getInnerMjmlTemplate() {
        var y;
        const { start: g, end: b } = d.prototype.getInnerMjmlTemplate.call(this), m = ((y = this.model.getInnerHTML()) == null ? void 0 : y.trim()) || "";
        return {
          start: `${g}${m}`,
          end: b
        };
      },
      getChildrenContainer() {
        var y;
        const { el: g } = this, b = (y = g.querySelector("tbody > tr > td")) == null ? void 0 : y.nextElementSibling;
        return (b == null ? void 0 : b.firstElementChild) || g.querySelector("img") || g;
      }
    }
  }), t.addType("mj-spacer", {
    model: {
      defaults: {
        traits: []
      }
    }
  }), t.addType("mj-navbar", {
    model: {
      defaults: {
        emptyState: {
          midSelector: ">td>div"
        }
      }
    }
  }), t.addType("mj-navbar-link", {
    model: {
      defaults: {
        icon: `<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M21,15.61L19.59,17L14.58,12L19.59,7L21,8.39L17.44,12L21,15.61M3,6H16V8H3V6M3,13V11H13V13H3M3,18V16H16V18H3Z" />
        </svg>`,
        emptyState: {
          midSelector: ">td>div"
        }
      }
    }
  });
  const f = (g) => {
    r.open({
      title: g.getName({ noCustom: !0 }),
      content: () => /* @__PURE__ */ l.jsx(
        Dv,
        {
          content: "",
          code: g.getInnerHTML(),
          onAction: (b) => g.components(b),
          buttonProps: { children: o.t("save") }
        }
      )
    });
  };
  t.addType("mj-raw", {
    extendFn: ["initToolbar"],
    model: {
      defaults: {
        name: "HTML block",
        emptyState: {
          midSelector: ">div"
        }
      },
      initToolbar() {
        J_(this, {
          id: "edit",
          command: () => f(this),
          label: `<svg viewBox="0 0 24 24">
            <path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path>
          </svg>`
        });
      }
    },
    view: {
      events: {
        dblclick: "onActive"
      },
      onActive() {
        f(this.model);
      }
    }
  });
  const h = (g) => {
    const { id: b, view: m } = g, y = m.prototype;
    t.addType(b, {
      view: {
        // TODO FIX: mjml preset plugin removes onRender method
        render() {
          return y.render.apply(this, arguments), Iv(b, this), this;
        }
      }
    });
  };
  ["mj-body", "mj-section", "mj-column", "mj-text", "mj-navbar", "mj-social", "mj-raw"].forEach((g) => h(t.getType(g))), t.getTypes().forEach(({ id: g, view: b }) => {
    b.prototype.disableEditing && t.addType(g, {
      view: {
        onDisable(m = {}) {
          this.disableEditing({
            ...m,
            parserOptions: {
              htmlType: "text/html"
            }
          });
        }
      }
    });
  });
}
function c5(e) {
  const { Blocks: t } = e, n = "Content", r = "Layout", o = { className: "h-7", full: !0, space: "s", nowrap: !0 }, s = {
    category: r,
    full: !0
  }, i = "gjs-border-2 gjs-border-current gjs-rounded-sm", a = (c, u) => {
    t.add(c, {
      select: !0,
      category: n,
      ...u
    });
  };
  a("mj-text", {
    label: "Text",
    media: `<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
    </svg>`,
    content: "<mj-text>Insert text here</mj-text>",
    activate: !0
  }), a("mj-button", {
    label: "Button",
    media: `<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20 20.5C20 21.3 19.3 22 18.5 22H13C12.6 22 12.3 21.9 12 21.6L8 17.4L8.7 16.6C8.9 16.4 9.2 16.3 9.5 16.3H9.7L12 18V9C12 8.4 12.4 8 13 8S14 8.4 14 9V13.5L15.2 13.6L19.1 15.8C19.6 16 20 16.6 20 17.1V20.5M20 2H4C2.9 2 2 2.9 2 4V12C2 13.1 2.9 14 4 14H8V12H4V4H20V12H18V14H20C21.1 14 22 13.1 22 12V4C22 2.9 21.1 2 20 2Z" />
    </svg>`,
    content: "<mj-button>Button</mj-button>"
  }), a("mj-image", {
    label: "Image",
    media: `<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
    </svg>`,
    content: `<mj-image src="${Wx}"/>`,
    activate: !0
  }), a("mj-divider", {
    label: "Divider",
    media: `<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />
    </svg>`,
    content: "<mj-divider/>"
  }), a("mj-social", {
    label: "Social",
    media: `<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M18,16.08C17.24,16.08 16.56,16.38 16.04,16.85L8.91,12.7C8.96,12.47 9,12.24 9,12C9,11.76 8.96,11.53 8.91,11.3L15.96,7.19C16.5,7.69 17.21,8 18,8A3,3 0 0,0 21,5A3,3 0 0,0 18,2A3,3 0 0,0 15,5C15,5.24 15.04,5.47 15.09,5.7L8.04,9.81C7.5,9.31 6.79,9 6,9A3,3 0 0,0 3,12A3,3 0 0,0 6,15C6.79,15 7.5,14.69 8.04,14.19L15.16,18.34C15.11,18.55 15.08,18.77 15.08,19C15.08,20.61 16.39,21.91 18,21.91C19.61,21.91 20.92,20.61 20.92,19A2.92,2.92 0 0,0 18,16.08Z" />
    </svg>`,
    content: `<mj-social font-size="12px" icon-size="24px" border-radius="12px" mode="horizontal">
        <mj-social-element name="facebook"></mj-social-element>
        <mj-social-element name="linkedin"></mj-social-element>
        <mj-social-element name="twitter"></mj-social-element>
      </mj-social>`
  }), a("mj-social-element", {
    label: "Social Element",
    media: `<svg viewBox="0 0 24 24">
      <path d="M18 16.08C17.24 16.08 16.56 16.38 16.04 16.85L8.91 12.7C8.96 12.47 9 12.24 9 12S8.96 11.53 8.91 11.3L15.96 7.19C16.5 7.69 17.21 8 18 8C19.66 8 21 6.66 21 5S19.66 2 18 2 15 3.34 15 5C15 5.24 15.04 5.47 15.09 5.7L8.04 9.81C7.5 9.31 6.79 9 6 9C4.34 9 3 10.34 3 12S4.34 15 6 15C6.79 15 7.5 14.69 8.04 14.19L15.16 18.34C15.11 18.55 15.08 18.77 15.08 19C15.08 20.61 16.39 21.91 18 21.91S20.92 20.61 20.92 19C20.92 17.39 19.61 16.08 18 16.08M18 4C18.55 4 19 4.45 19 5S18.55 6 18 6 17 5.55 17 5 17.45 4 18 4M6 13C5.45 13 5 12.55 5 12S5.45 11 6 11 7 11.45 7 12 6.55 13 6 13M18 20C17.45 20 17 19.55 17 19S17.45 18 18 18 19 18.45 19 19 18.55 20 18 20Z" />
    </svg>`,
    content: '<mj-social-element name="facebook">Facebook</mj-social-element>'
  }), a("mj-spacer", {
    label: "Spacer",
    media: `<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M8,18H11V15H2V13H22V15H13V18H16L12,22L8,18M12,2L8,6H11V9H2V11H22V9H13V6H16L12,2Z" />
    </svg>`,
    content: "<mj-spacer/>"
  }), a("mj-navbar", {
    label: "Navbar",
    media: `<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
    </svg>`,
    content: `<mj-navbar>
      <mj-navbar-link>HOME</mj-navbar-link>
      <mj-navbar-link>ABOUT</mj-navbar-link>
      <mj-navbar-link>CONTACT</mj-navbar-link>
      <mj-navbar-link>BLOG</mj-navbar-link>
    </mj-navbar>`
  }), a("mj-hero", {
    label: "Hero",
    media: `<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20M4,6V18H20V6H4M6,9H18V11H6V9M6,13H16V15H6V13Z" />
    </svg>`,
    content: `<mj-hero mode="fixed-height" height="469px" background-width="600px" background-height="469px" background-url="${Jm({ width: 600, height: 300, text: "Hero Image", fg: "555" })}" background-color="#2a3448" padding="100px 0px">
      <mj-text padding="20px" color="#ffffff" font-family="Helvetica" align="center" font-size="45px" line-height="45px" font-weight="900">
        Heading title
      </mj-text>
      <mj-text padding="20px" color="#ffffff" font-family="Helvetica" align="center">
        Place here your hero content text
      </mj-text>
      <mj-button href="https://mjml.io/" align="center">
        Call to action!
      </mj-button>
    </mj-hero>`
  }), a("mj-raw", {
    label: "HTML block",
    activate: !0,
    media: `<svg viewBox="0 0 24 24">
      <path d="M5.59 3.41L7 4.82L3.82 8L7 11.18L5.59 12.6L1 8L5.59 3.41M11.41 3.41L16 8L11.41 12.6L10 11.18L13.18 8L10 4.82L11.41 3.41M22 6V18C22 19.11 21.11 20 20 20H4C2.9 20 2 19.11 2 18V14H4V18H20V6H17.03V4H20C21.11 4 22 4.89 22 6Z" />
    </svg>`,
    content: `<mj-raw>
      <span>Insert here you custom HTML</span>
    </mj-raw>`
  }), a("mj-1-column", {
    ...s,
    label: "1 Column",
    mediaReact: /* @__PURE__ */ l.jsx(R, { ...o, children: /* @__PURE__ */ l.jsx($, { className: i, grow: !0 }) }),
    content: `<mj-section>
        <mj-column></mj-column>
      </mj-section>`
  }), a("mj-2-columns-50-50", {
    ...s,
    label: "2 Columns 50/50",
    mediaReact: /* @__PURE__ */ l.jsxs(R, { ...o, children: [
      /* @__PURE__ */ l.jsx($, { className: i, grow: !0 }),
      /* @__PURE__ */ l.jsx($, { className: i, grow: !0 })
    ] }),
    content: `<mj-section>
      <mj-column></mj-column>
      <mj-column></mj-column>
    </mj-section>`
  }), a("mj-2-columns-25-75", {
    ...s,
    label: "2 Columns 25/75",
    mediaReact: /* @__PURE__ */ l.jsxs(R, { ...o, children: [
      /* @__PURE__ */ l.jsx($, { className: B(i, "gs-utl-basis-1/4") }),
      /* @__PURE__ */ l.jsx($, { className: B(i, "gs-utl-basis-3/4") })
    ] }),
    content: `<mj-section>
      <mj-column width="25%"></mj-column>
      <mj-column width="75%"></mj-column>
    </mj-section>`
  }), a("mj-2-columns-33-67", {
    ...s,
    label: "2 Columns 33/67",
    mediaReact: /* @__PURE__ */ l.jsxs(R, { ...o, children: [
      /* @__PURE__ */ l.jsx($, { className: B(i, "gs-utl-basis-1/3") }),
      /* @__PURE__ */ l.jsx($, { className: B(i, "gs-utl-basis-2/3") })
    ] }),
    content: `<mj-section>
      <mj-column width="33%"></mj-column>
      <mj-column width="67%"></mj-column>
    </mj-section>`
  }), a("mj-2-columns-67-33", {
    ...s,
    label: "2 Columns 67/33",
    mediaReact: /* @__PURE__ */ l.jsxs(R, { ...o, children: [
      /* @__PURE__ */ l.jsx($, { className: B(i, "gs-utl-basis-2/3") }),
      /* @__PURE__ */ l.jsx($, { className: B(i, "gs-utl-basis-1/3") })
    ] }),
    content: `<mj-section>
      <mj-column width="67%"></mj-column>
      <mj-column width="33%"></mj-column>
    </mj-section>`
  }), a("mj-2-columns-75-25", {
    ...s,
    label: "2 Columns 75/25",
    mediaReact: /* @__PURE__ */ l.jsxs(R, { ...o, children: [
      /* @__PURE__ */ l.jsx($, { className: B(i, "gs-utl-basis-3/4") }),
      /* @__PURE__ */ l.jsx($, { className: B(i, "gs-utl-basis-1/4") })
    ] }),
    content: `<mj-section>
      <mj-column width="75%"></mj-column>
      <mj-column width="25%"></mj-column>
    </mj-section>`
  }), a("mj-3-columns", {
    ...s,
    label: "3 Columns",
    mediaReact: /* @__PURE__ */ l.jsxs(R, { ...o, children: [
      /* @__PURE__ */ l.jsx($, { className: i, grow: !0 }),
      /* @__PURE__ */ l.jsx($, { className: i, grow: !0 }),
      /* @__PURE__ */ l.jsx($, { className: i, grow: !0 })
    ] }),
    content: `<mj-section>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
      </mj-section>`
  }), a("mj-3-columns-25-25-50", {
    ...s,
    label: "3 Columns 25/25/50",
    mediaReact: /* @__PURE__ */ l.jsxs(R, { ...o, children: [
      /* @__PURE__ */ l.jsx($, { className: B(i, "gs-utl-basis-1/4") }),
      /* @__PURE__ */ l.jsx($, { className: B(i, "gs-utl-basis-1/4") }),
      /* @__PURE__ */ l.jsx($, { className: B(i, "gs-utl-basis-2/4") })
    ] }),
    content: `<mj-section>
        <mj-column width="25%"></mj-column>
        <mj-column width="25%"></mj-column>
        <mj-column width="50%"></mj-column>
      </mj-section>`
  }), a("mj-3-columns-25-50-25", {
    ...s,
    label: "3 Columns 25/50/25",
    mediaReact: /* @__PURE__ */ l.jsxs(R, { ...o, children: [
      /* @__PURE__ */ l.jsx($, { className: B(i, "gs-utl-basis-1/4") }),
      /* @__PURE__ */ l.jsx($, { className: B(i, "gs-utl-basis-2/4") }),
      /* @__PURE__ */ l.jsx($, { className: B(i, "gs-utl-basis-1/4") })
    ] }),
    content: `<mj-section>
        <mj-column width="25%"></mj-column>
        <mj-column width="50%"></mj-column>
        <mj-column width="25%"></mj-column>
      </mj-section>`
  }), a("mj-3-columns-50-25-25", {
    ...s,
    label: "3 Columns 50/25/25",
    mediaReact: /* @__PURE__ */ l.jsxs(R, { ...o, children: [
      /* @__PURE__ */ l.jsx($, { className: B(i, "gs-utl-basis-2/4") }),
      /* @__PURE__ */ l.jsx($, { className: B(i, "gs-utl-basis-1/4") }),
      /* @__PURE__ */ l.jsx($, { className: B(i, "gs-utl-basis-1/4") })
    ] }),
    content: `<mj-section>
        <mj-column width="50%"></mj-column>
        <mj-column width="25%"></mj-column>
        <mj-column width="25%"></mj-column>
      </mj-section>`
  }), a("mj-4-columns", {
    ...s,
    label: "4 Columns",
    mediaReact: /* @__PURE__ */ l.jsxs(R, { ...o, children: [
      /* @__PURE__ */ l.jsx($, { className: i, grow: !0 }),
      /* @__PURE__ */ l.jsx($, { className: i, grow: !0 }),
      /* @__PURE__ */ l.jsx($, { className: i, grow: !0 }),
      /* @__PURE__ */ l.jsx($, { className: i, grow: !0 })
    ] }),
    content: `<mj-section>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
      </mj-section>`
  });
}
const u5 = (e, t) => ({
  [Fe.web]: (r) => KO(r, t),
  [Fe.email]: l5
})[e], Eh = {
  global: [
    {
      id: "grapesjs-indexeddb",
      src: "https://unpkg.com/grapesjs-indexeddb@1.0.4/dist/index.js",
      options: { type: "local" }
    }
  ],
  [Fe.email]: [
    // Adding blocks before so the icon will be transferred from Blocks to Components (via blockIconsToComponent plugin)
    c5,
    {
      id: "grapesjs-mjml",
      src: "https://unpkg.com/grapesjs-mjml@1.0.6/dist/index.js",
      options: {
        columnsPadding: "",
        // avoid injecting custom styles
        useCustomTheme: !1,
        // avoid loading the default panel for devices
        resetDevices: !1,
        // no need to reset blocks
        resetBlocks: !1,
        blocks: [],
        // allow to import mjml void strings like '<mj-image ... />'
        useXmlParser: !0,
        // no need to reset style manager
        resetStyleManager: !1
      }
    }
  ],
  [Fe.web]: [
    { id: "gjs-blocks-basic", src: "https://unpkg.com/grapesjs-blocks-basic@1.0.1/dist/index.js" },
    { id: "grapesjs-plugin-forms", src: "https://unpkg.com/grapesjs-plugin-forms@2.0.5/dist/index.js" },
    {
      id: "grapesjs-plugin-export",
      src: "https://unpkg.com/grapesjs-plugin-export@1.0.11/dist/index.js",
      options: {
        isBinary: (e, t) => {
          const n = t.split(".")[1];
          return /[\x00-\x08\x0E-\x1F]/.test(e) && !(n && ["html", "css"].indexOf(n) >= 0);
        }
      }
    },
    { id: "grapesjs-parser-postcss", src: "https://unpkg.com/grapesjs-parser-postcss@1.0.1/dist/index.js" },
    { id: "grapesjs-tui-image-editor", src: "https://unpkg.com/grapesjs-tui-image-editor@1.0.1/dist/index.js" },
    // { id: 'grapesjs-component-countdown', src: 'https://unpkg.com/grapesjs-component-countdown@1.0.1/dist/index.js' },
    // { id: 'grapesjs-tabs', src: 'https://unpkg.com/grapesjs-tabs@1.0.6/dist/grapesjs-tabs.min.js', options: { tabsBlock: { category: 'Extra' } } },
    // { id: 'grapesjs-custom-code', src: 'https://unpkg.com/grapesjs-custom-code@1.0.1/dist/index.js' },
    // { id: 'grapesjs-tooltip', src: 'https://unpkg.com/grapesjs-tooltip@0.1.7/dist/index.js' },
    // { id: 'grapesjs-typed', src: 'https://unpkg.com/grapesjs-typed@1.0.5/dist/grapesjs-typed.min.js', options: { block: { category: 'Extra' } } },
    // TODO remove empty state
    {
      id: "grapesjs-navbar",
      src: "https://unpkg.com/grapesjs-navbar@1.0.1/dist/index.js",
      options: { block: { category: "Extra" } }
    }
    // { id: 'grapesjs-touch', src: 'https://unpkg.com/grapesjs-touch@0.1.1' },
    // { id: 'grapesjs-style-bg', src: 'https://unpkg.com/grapesjs-style-bg@1.0.5' },
  ]
};
function d5(e) {
  const { Components: t, Blocks: n } = e, r = (o) => {
    const { model: s, id: i } = o, a = s.getDefaults(), c = n.get(i), u = a.icon, d = c == null ? void 0 : c.get("media"), p = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>', f = u && u !== p && !d ? u : d || p;
    t.addType(i, {
      model: {
        defaults: { icon: f }
      }
    });
  };
  t.getTypes().forEach(r), e.on("component:type:add", r);
}
function p5(e) {
  const { Components: t } = e, n = (r) => {
    const { id: o, model: s } = r;
    if (o === "custom-code") {
      const i = "<span>Insert here your custom code</span>";
      t.addType(o, {
        model: {
          defaults: {
            emptyState: !0,
            icon: '<svg viewBox="0 0 24 24"><path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path></svg>',
            classes: "gjs-custom-code",
            components: i,
            "custom-code-plugin__code": i,
            styles: ".gjs-custom-code { padding: 5px; }"
          }
        }
      });
    }
    if (o === "typed") {
      const i = s.getDefaults().traits.map(
        (a) => a.name === "strings" ? {
          ...a,
          type: "stack",
          addItem(c) {
            return {
              id: c,
              label: `New string ${c}`
            };
          },
          getValue({ component: c }) {
            return c.get("strings").map((u, d) => ({
              id: `${d}`,
              label: u
            }));
          },
          setValue: ({ component: c, value: u }) => {
            const d = u.map((p) => p.label);
            c.set({ strings: d }), c.trigger("rerender");
          },
          properties: [{ name: "label" }]
        } : a
      );
      t.addType(o, {
        model: {
          defaults: {
            traits: i,
            strings: [
              "These are the default values...!!!",
              "Use your own strings from Properties!",
              "Have a great day!"
            ],
            icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300"><path d="M212.3 44l2.3 49.6h-6A60 60 0 00204 75c-3.2-6-7.5-10.5-12.9-13.3a44.9 44.9 0 00-21.1-4.3h-29.8V219c0 13 1.4 21 4.2 24.3 4 4.4 10 6.6 18.2 6.6h7.4v5.7H80.2V250h7.5c9 0 15.3-2.7 19-8.2 2.4-3.3 3.5-10.9 3.5-22.7V57.3H84.8a71 71 0 00-21.1 2.2 29 29 0 00-13.9 11.3 46.1 46.1 0 00-6.9 22.8H37L39.5 44h172.8zM245 22h18v256h-18z"/></svg>',
            classes: "gjs-typed",
            styles: `
                  .gjs-typed {
                    padding: 5px;
                  }
                `
          }
        }
      });
    }
    if (["tabs", "tab-content", "tab-contents", "tab", "tab-container"].indexOf(o) >= 0) {
      const a = {
        emptyState: !0,
        icon: o === "tabs" ? `
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M22 9.3c0-.8-.5-1.3-1.3-1.3H3.4C2.5 8 2 8.5 2 9.3v7.4c0 .8.5 1.3 1.3 1.3h17.4c.8 0 1.3-.5 1.3-1.3V9.3zM21 17H3V9h18v8z" fill-rule="nonzero"/><rect x="3" y="5" width="4" height="2" rx=".5"/><rect x="8" y="5" width="4" height="2" rx=".5"/><rect x="13" y="5" width="4" height="2" rx=".5"/>
            </svg>
          ` : void 0
      };
      o === "tab" && (a.traits = [
        {
          type: "button",
          label: !1,
          text: "Style Active",
          command: (c) => {
            c.select(), c.runCommand(Hv), setTimeout(() => c.Selectors.select(".tab.tab-active"));
          }
        }
      ]), t.addType(o, {
        model: {
          defaults: a
        }
      });
    }
  };
  e.on("component:type:add", n);
}
const f5 = (e) => {
  const { assetsStore: t } = Cs();
  if (t.onCloudOrCustomUpload) {
    const { Assets: n } = e;
    n.getConfig().uploadFile = (r) => t.handleUpload(r);
  }
}, h5 = () => {
  const { baseApiUrl: e } = Xo();
  return `${e}/sdk/projects`;
}, Vv = (e) => `${h5()}/${e}`, g5 = async ({ licenseKey: e, projectId: t, ...n }) => {
  const r = await sr.put(Vv(t), {
    body: JSON.stringify(n),
    params: { d: window.location.hostname, licenseKey: e }
  });
  return r == null ? void 0 : r.result;
}, m5 = async (e, t) => await sr.put(t, {
  body: e,
  headers: {
    "Content-Type": "application/json"
  }
}), v5 = async (e, t, n, r) => {
  const o = JSON.stringify(e), s = await g5({
    licenseKey: t,
    projectId: n,
    fileMetadata: { size: new Blob([o]).size },
    identityId: r,
    name: e.name,
    description: e.description
  });
  if (!s)
    throw new Error("Project not found");
  const { uploadUrl: i } = s;
  await m5(o, i);
}, b5 = (e, t, n) => sr.get(Vv(t), {
  params: { d: window.location.hostname, licenseKey: e, identityId: n }
}), y5 = async (e) => await sr.get(e), x5 = async (e, t, n, r) => {
  const o = await b5(t, n, r), s = o == null ? void 0 : o.result, i = o == null ? void 0 : o.errorData;
  if (!s && (i != null && i.notFoundInDb))
    return { id: n, project: {} };
  if (!s)
    throw new Error("Project not found");
  const { downloadUrl: a } = s, c = await y5(a);
  if (!c || c instanceof Error)
    throw new Error("Project download failed");
  return { id: n, project: c };
}, w5 = (e, t) => {
  const { appEditorStore: n, toastStore: r, i18nStore: o } = t.appStore.store, { isUsingProjectSelfHosted: s, isUsingProjectCloud: i, sdkOptions: a } = n, c = a.storage || {}, {
    project: u,
    onLoad: d,
    onSave: p,
    autosaveChanges: f,
    autosaveIntervalMs: h
  } = c;
  let v, g, b, m;
  if (s)
    b = d, m = p, v = f, g = h;
  else if (i) {
    const j = a.licenseKey, E = n.sdkProjectId, C = n.sdkIdentityId, P = 10, _ = 1e4;
    m = ({ project: O }) => v5(O, j, E, C), b = ({ editor: O }) => x5(O, j, E, C), v = Math.max(P, f ?? P), h && (g = Math.max(_, h));
  }
  const { Storage: y } = e, { events: x } = y;
  let w = !1;
  const S = e.em.constructor.prototype;
  if (e.em.loadData = function(...j) {
    const E = S.loadData.apply(e.em, j);
    return w = E && !!Object.keys(E).length, E;
  }, e.once("change:readyLoad", () => {
    var E;
    const j = (E = a.project) == null ? void 0 : E.default;
    !w && j && e.loadProjectData(j);
  }), e.on(x.startStore, () => n.setIsSaving(!0)), e.on(x.endStore, () => n.setIsSaving(!1)), (b || u) && m) {
    const j = "remote";
    y.setCurrent(j), y.add(j, {
      async load() {
        return u || (await b({ editor: e })).project;
      },
      async store(E) {
        await m({ project: E, editor: e });
      }
    }), e.on(x.errorLoad, (E) => {
      r.addError("storage-error-load", {
        header: o.t("storageManager.errorLoad"),
        content: E.message
      });
    }), e.on(x.errorStore, (E) => {
      r.addError("storage-error-store", {
        header: o.t("storageManager.errorStore"),
        content: E.message
      });
    }), v && y.setStepsBeforeSave(v), g && e.onReady(() => {
      const E = setInterval(async () => {
        e.getDirtyCount() > 0 && !n.isSaving && await e.store();
      }, g);
      e.on("destroy", () => clearInterval(E));
    });
  }
}, S5 = (e, t) => {
  const { contextMenu: n } = t.appStore.store, { Canvas: r } = e;
  e.on(r.events.frameLoad, ({ window: o, el: s }) => {
    o.document.addEventListener("contextmenu", async (a) => {
      if (!n.isEnabled)
        return;
      a.preventDefault();
      const c = a.target, u = e.getModel().get("componentHovered") || e.Utils.helpers.getModel(c);
      if (u) {
        const d = s.getBoundingClientRect();
        e.runCommand(ye.contextMenuComponent, {
          component: u,
          event: a,
          x: a.clientX + d.left,
          y: a.clientY + d.top
        });
      }
    });
  });
}, j5 = (e, t) => {
  var r;
  const { globalStylesStore: n } = t.appStore.store;
  (r = e.DataSources) == null || r.all.on("reset", () => n.onLoad());
}, sl = "select-target", Hv = "enable-sm";
function C5(e, t) {
  var _, O, k, z, F, A;
  const { appEditorStore: n, blockManagerStore: r, toastStore: o, modalStore: s, layoutStore: i, contextMenu: a } = t.appStore.store, { projectIdToLoad: c, nextProjectData: u, sdkOptions: d } = n, p = () => r.toggleOpen(), f = () => n.toggleLeftSidebar(), h = () => n.toggleRightSidebar(), v = e.getConfig(), { Assets: g, Storage: b, Commands: m } = e, y = m.events, x = (O = (_ = d.gjsOptions) == null ? void 0 : _.assetManager) == null ? void 0 : O.custom;
  if (g.all.model.prototype.idAttribute = "src", wr(x) && (g.getConfig().custom = x), u && (v.projectData = u, n.setNextProjectData()), c) {
    const T = b.getConfig().options;
    T && (T.local.key = c);
  }
  (k = e.events) != null && k.projectLoad && e.on((z = e.events) == null ? void 0 : z.projectLoad, ({ project: T }) => {
    t.appStore.setProjectDataCustom(T.custom);
  }), e.RichTextEditor.getConfig().custom = !0;
  const { Canvas: w } = e, S = Wi(() => n.setCanvasPanning(!1), 200);
  e.on(w.events.coords, () => {
    n.setCanvasPanning(!0), S();
  }), e.on(w.events.frameLoad, ({ el: T }) => {
    T.tabIndex = -1;
  });
  const { Parser: j } = e, E = ((F = n.sdkOptions.parser) == null ? void 0 : F.showErrors) !== !1;
  (A = j.events) != null && A.css && E && e.on(j.events.css, (T) => {
    const { error: D } = T;
    if (D) {
      const M = Lt(D) ? D : D.name && D.reason ? `${D.name}: ${D.reason}` : D.message;
      o.addError("css-error", { header: "CSS Parser Error", content: M });
    }
  }), [
    // { id: `save`, keys: 'ctrl+s, +s', cmd: 'save-page' },
    // { id: `duplicate`, keys: 'ctrl+d, +d', cmd: 'tlb-clone' },
    // { id: `custom-component`, keys: 'ctrl+k, +k', cmd: 'open-custom-block' },
    { id: "toggle-lsidebar", keys: "alt+ctrl+,", cmd: f },
    { id: "toggle-lsidebar2", keys: "alt++,", cmd: f },
    { id: "toggle-rsidebar", keys: "alt+ctrl+., alt++.", cmd: h },
    { id: "show-blocks", keys: "ctrl+b, +b", cmd: p },
    { id: "add-symbol", keys: "alt+ctrl+k, alt++k", cmd: ye.symbolAdd },
    { id: "detach-symbol", keys: "shift+alt+ctrl+k, shift+alt++k", cmd: ye.symbolDetach }
  ].forEach(({ id: T, keys: D, cmd: M }) => {
    e.Keymaps.add(`preset:${T}`, D, M, { prevent: !0 });
  }), e.on(`${y.runCommand}core:preview`, () => {
    n.setPreview(!0), r.setOpen(!1), Ph(e, !1);
  }), e.on(`${y.stopCommand}core:preview`, () => {
    n.setPreview(!1), Ph(e, !0), setTimeout(() => {
      e.refresh();
    }, n.transitionTime);
  });
  const C = "target-selection", { Components: P } = e;
  m.add(sl, {
    opts: {},
    init() {
      this.beforeSelect = this.beforeSelect.bind(this);
    },
    onComponentHover(T, D) {
      const M = { id: C, type: "target", component: D };
      D ? w.addSpot(M) : w.removeSpots(M);
    },
    beforeSelect(T, D = {}) {
      D.abort = !0, D.useValid = !1, this.opts.onSelect(T), e.stopCommand(sl);
    },
    run(T, D, M) {
      this.opts = M, e.on("component:select:before", this.beforeSelect), e.on("change:componentHovered", this.onComponentHover);
    },
    stop() {
      e.off("component:select:before", this.beforeSelect), e.off("change:componentHovered", this.onComponentHover), w.removeSpots({ id: C }), n.setSelectingTarget(!1);
    }
  }), m.add(Hv, () => {
    n.setSelectedDesignerTab("style");
  }), m.add(ye.toastAdd, (T, D, M) => {
    o.add(M.id, M);
  }), m.add(ye.dialogOpen, (T, D, M) => {
    s.open(M);
  }), m.add(ye.dialogClose, () => {
    s.close();
  }), m.add(ye.sidebarLeftGet, () => ({
    visible: n.isLeftSidebarOpen
  })), m.add(ye.sidebarLeftSet, (T, D, M) => {
    n.setLeftSidebarOpen(!!M.visible);
  }), m.add(ye.sidebarLeftToggle, () => {
    n.setLeftSidebarOpen(!n.isLeftSidebarOpen);
  }), m.add(ye.sidebarRightGet, () => ({
    visible: n.isRightSidebarOpen
  })), m.add(ye.sidebarRightSet, (T, D, M) => {
    n.setRightSidebarOpen(!!M.visible);
  }), m.add(ye.sidebarRightToggle, () => {
    n.setRightSidebarOpen(!n.isRightSidebarOpen);
  }), m.add(ye.sidebarTopGet, () => ({
    visible: n.isTopSidebarOpen
  })), m.add(ye.sidebarTopSet, (T, D, M) => {
    n.setTopSidebarOpen(!!M.visible);
  }), m.add(ye.sidebarTopToggle, () => {
    n.setTopSidebarOpen(!n.isTopSidebarOpen);
  }), m.add(ye.sidebarBottomGet, () => ({
    visible: n.isBottomSidebarOpen
  })), m.add(ye.sidebarBottomSet, (T, D, M) => {
    n.setBottomSidebarOpen(!!M.visible);
  }), m.add(ye.sidebarBottomToggle, () => {
    n.setBottomSidebarOpen(!n.isBottomSidebarOpen);
  }), m.add(ye.layoutAdd, (T, D, M) => {
    M.id && i.add(M.id, M);
  }), m.add(ye.layoutRemove, (T, D, M) => {
    const { id: N, ...V } = M;
    i.remove(N, V);
  }), m.add(ye.layoutToggle, (T, D, M) => {
    const { id: N, ...V } = M;
    N && (i.get(N) ? i.remove(N, V) : i.add(N, V));
  }), m.add(ye.getStateTheme, () => n.publicStateTheme), m.add(ye.setStateTheme, (T, D, M) => n.setPublicStateTheme(M)), m.add(ye.getPagesConfig, () => n.sdkPagesConfig), m.add(ye.setPagesConfig, (T, D, M) => {
    const { config: N } = M || {};
    wr(N) && n.setSdkPagesConfig(N);
  }), m.add(ye.getPageSettings, () => JSON.parse(JSON.stringify(n.panelPageSettings))), m.add(ye.setPageSettings, (T, D, M) => {
    n.setPanelPageSettings(M);
  }), m.add(ye.projectFiles, (T, D, M) => ol(T, { isMJML: n.isProjectTypeEmail, ...M })), m.add(ye.getBlocksPanel, () => ({
    isOpen: r.isOpen
  })), m.add(ye.setBlocksPanel, (T, D, M) => {
    const N = M || {};
    wr(N.isOpen) && r.setOpen(N.isOpen);
  }), m.add(ye.canvasReload, () => {
    const T = e.getSelected(), D = w.getCanvasView(), { frames: M } = w.canvas;
    M.once("loaded:all", () => {
      const N = T == null ? void 0 : T.getView();
      N && !N.isInViewport() && N.el.scrollIntoView({ block: "center" });
    }), D.renderFrames();
  }), m.add(ye.contextMenuComponent, (T, D, M) => {
    const { component: N, ...V } = M;
    a.showForComponent(N, V);
  }), m.add(ye.getStateContextMenu, () => a.publicState), m.add(ye.setStateContextMenu, (T, D, M) => {
    a.setPublicState(M);
  }), m.add(ye.symbolAdd, (T, D, M) => {
    const N = M.component || e.getSelected();
    if (N)
      return P.getSymbolInfo(N).isSymbol ? o.add("skip-symbol", {
        header: "The selected element is already a symbol",
        variant: Wo.Warning
      }) : P.addSymbol(N);
  }), m.add(ye.symbolDetach, (T, D, M) => {
    const N = M.component || e.getSelected();
    N && P.getSymbolInfo(N).isRoot && P.detachSymbol(N);
  }), m.add(ye.symbolOverride, (T, D, M) => {
    const N = M.component || e.getSelected();
    N && (N.setSymbolOverride(M.override), e.Layers.updateLayer(N));
  }), m.add(
    ye.symbolPropagateStyles,
    (T, D, M) => {
      const N = M.component || e.getSelected();
      if (!N)
        return;
      const { Css: V } = e, K = V.getComponentRules(N, { current: !0 })[0];
      if (K) {
        const { state: J, mediaText: ie } = K.attributes, X = K.getStyle();
        P.getSymbolInfo(N).relatives.forEach((ne) => {
          V.setIdRule(ne.getId(), X, { state: J, mediaText: ie });
        });
      }
      M.deep && N.components().forEach((J) => e.runCommand(ye.symbolPropagateStyles, { ...M, component: J }));
    }
  ), f5(e), w5(e, t), j5(e, t), p5(e), d5(e), a5(e), S5(e, t);
}
const P5 = /\s(?![^(]*\))/, _h = /^-?[0-9]+[a-zA-Z%]{0,}$/;
function Oh(e) {
  const t = e.split(P5), n = t.indexOf("inset") >= 0, r = t.filter((d) => d !== "inset"), o = r.filter((d) => !_h.test(d))[0] || "currentColor", s = r.filter((d) => _h.test(d)), [i = "0", a = "0", c = "0", u = "0"] = s;
  return {
    x: i,
    y: a,
    blur: c,
    spread: u,
    inset: n,
    color: o
  };
}
function ql(e) {
  const t = e.indexOf("(") + 1, n = e.lastIndexOf(")");
  return {
    name: e.substring(0, t - 1).trim(),
    value: String.prototype.substring.apply(e, [t, n >= 0 ? n : void 0]).trim()
  };
}
var Bv = { exports: {} }, Vs = {};
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Th;
function E5() {
  if (Th)
    return Vs;
  Th = 1;
  var e = I, t = Symbol.for("react.element"), n = Symbol.for("react.fragment"), r = Object.prototype.hasOwnProperty, o = e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, s = { key: !0, ref: !0, __self: !0, __source: !0 };
  function i(a, c, u) {
    var d, p = {}, f = null, h = null;
    u !== void 0 && (f = "" + u), c.key !== void 0 && (f = "" + c.key), c.ref !== void 0 && (h = c.ref);
    for (d in c)
      r.call(c, d) && !s.hasOwnProperty(d) && (p[d] = c[d]);
    if (a && a.defaultProps)
      for (d in c = a.defaultProps, c)
        p[d] === void 0 && (p[d] = c[d]);
    return { $$typeof: t, type: a, key: f, ref: h, props: p, _owner: o.current };
  }
  return Vs.Fragment = n, Vs.jsx = i, Vs.jsxs = i, Vs;
}
Bv.exports = E5();
var vt = Bv.exports;
const zv = De(null), _5 = ({ children: e }) => {
  const [t, n] = U({
    setEditor: (r) => {
      n((o) => ({ ...o, editor: r }));
    }
  });
  return /* @__PURE__ */ vt.jsx(zv.Provider, { value: t, children: e });
}, Cn = () => {
  const e = Oe(zv);
  if (!e)
    throw new Error("useEditorInstance must be used within EditorInstanceProvider");
  return e;
}, Pt = () => {
  const { editor: e } = Cn();
  if (!e)
    throw new Error("useEditor used before the load of the editor instance. You can wrap your component in `<WithEditor>` or make use of `useEditorMaybe` hook and ensure the `editor` exists.");
  return e;
}, Ap = () => Cn().editor, Fv = De(null), O5 = ({ children: e }) => {
  const [t, n] = U(() => ({
    setRefCanvas(r) {
      n((o) => ({ ...o, refCanvas: r }));
    },
    setCustomModal(r) {
      n((o) => ({ ...o, customModal: r }));
    },
    setCustomAssets(r) {
      n((o) => ({ ...o, customAssets: r }));
    },
    setCustomBlocks(r) {
      n((o) => ({ ...o, customBlocks: r }));
    },
    setCustomRte(r) {
      n((o) => ({ ...o, customRte: r }));
    },
    setCustomStyles(r) {
      n((o) => ({ ...o, customStyles: r }));
    },
    setCustomLayers(r) {
      n((o) => ({ ...o, customLayers: r }));
    },
    setCustomSelectors(r) {
      n((o) => ({ ...o, customSelectors: r }));
    },
    setCustomTraits(r) {
      n((o) => ({ ...o, customTraits: r }));
    },
    setReady(r) {
      n((o) => ({ ...o, ready: r }));
    }
  }));
  return /* @__PURE__ */ vt.jsx(Fv.Provider, { value: t, children: e });
}, ar = () => {
  const e = Oe(Fv);
  if (!e)
    throw new Error("useEditorOptions must be used within EditorOptionsProvider");
  return e;
};
function T5(...e) {
  return (Array.isArray(e[0]) ? e[0] : [...e]).filter(Boolean).join(" ");
}
function Jr(e) {
  return typeof e == "function";
}
function Mn() {
}
const Uv = (e) => typeof e == "string", A5 = async (e) => {
  const t = document.createElement("link");
  t.href = e, t.rel = "stylesheet", document.head.appendChild(t);
}, Wv = (e) => {
  const t = Uv(e) ? { id: e, src: e } : e;
  return new Promise((n, r) => {
    const o = document.createElement("script");
    if (document.querySelector(`script[src="${t.src}"]`))
      return n(t.id);
    o.src = t.src, o.onload = () => n(t.id), o.onerror = () => r(t.id), document.head.appendChild(o);
  });
}, L5 = (e) => {
  const t = e.map((n) => Wv(n));
  return Promise.allSettled(t);
}, Ah = (e) => function() {
  const t = G(null);
  return W(() => {
    const { current: n } = t;
    n && (Uv(e) ? n.innerHTML = e : n.appendChild(e));
  }, [t.current]), /* @__PURE__ */ vt.jsx("div", { ref: t });
}, Lh = /* @__PURE__ */ new WeakMap();
function xs(e) {
  if (!e)
    return () => null;
  const t = Lh.get(e);
  if (t)
    return t;
  const n = function({ children: r }) {
    return Ed(r, e);
  };
  return Lh.set(e, n), n;
}
const k5 = me(function({ children: e }) {
  const { editor: t } = Cn(), n = ar(), [r, o] = U(!1), [s, i] = U({
    assets: [],
    types: [],
    close: () => {
    },
    select: () => {
    },
    Container: () => null
  });
  return W(() => {
    if (!t)
      return;
    const a = t.Assets.events.custom, c = ({ open: u, assets: d, types: p, select: f, close: h, container: v }) => {
      u && i({
        assets: d,
        types: p,
        select: f,
        close: h,
        Container: xs(v)
      }), o(u);
    };
    return t.on(a, c), () => {
      t.off(a, c);
    };
  }, [t]), W(() => n.setCustomAssets(!0), []), t && Jr(e) ? e({ open: r, ...s }) : null;
});
me(function({ children: e }) {
  const { editor: t } = Cn(), n = ar(), [r, o] = U(() => ({
    blocks: [],
    dragStart: Mn,
    dragStop: Mn,
    mapCategoryBlocks: /* @__PURE__ */ new Map(),
    Container: () => null
  }));
  return W(() => {
    if (!t)
      return;
    const s = t.Blocks.events.custom, i = ({ blocks: a, container: c, dragStart: u, dragStop: d }) => {
      const p = a.reduce((f, h) => {
        const v = h.getCategoryLabel(), g = f.get(v);
        return g ? g.push(h) : f.set(v, [h]), f;
      }, /* @__PURE__ */ new Map());
      o({
        blocks: a,
        dragStart: u,
        dragStop: d,
        mapCategoryBlocks: p,
        Container: xs(c)
      });
    };
    return t.on(s, i), t.Blocks.__trgCustom(), () => {
      t.off(s, i);
    };
  }, [t]), W(() => n.setCustomBlocks(!0), []), t && Jr(e) ? e(r) : null;
});
function M5({ children: e, ...t }) {
  const n = ar(), r = G(null);
  return W(() => {
    r.current && n.setRefCanvas(r.current);
  }, [r.current]), /* @__PURE__ */ vt.jsx("div", { ...t, ref: r, children: e });
}
const $5 = me(function({ children: e }) {
  const { editor: t } = Cn(), [n, r] = U(() => ({
    devices: [],
    selected: "",
    select: Mn
  }));
  return W(() => {
    if (!t)
      return;
    const { Devices: o } = t, s = o.events.all, i = () => {
      var a;
      r({
        devices: o.getDevices(),
        selected: (a = o.getSelected()) == null ? void 0 : a.id,
        select: (c) => o.select(c)
      });
    };
    return t.on(s, i), i(), () => {
      t.off(s, i);
    };
  }, [t]), t && Jr(e) ? e(n) : null;
}), N5 = (e) => !!(e && !Array.isArray(e) && typeof e == "object");
async function R5(e) {
  const t = e.map(({ id: s, src: i }) => ({ id: s, src: i })), n = e.reduce((s, i) => (s[i.id] = i, s), {}), r = [], o = [];
  return (await L5(t)).forEach((s) => {
    s.status === "fulfilled" ? r.push(n[s.value]) : o.push(n[s.reason]);
  }), { loaded: r, failed: o };
}
const D5 = async (e) => {
  const t = [...e], n = {};
  if (t.length) {
    const r = {}, o = [];
    if (t.forEach((s, i) => {
      N5(s) && (r[s.id] = { index: i }, o.push(s));
    }), o.length) {
      const { loaded: s } = await R5(o);
      s.forEach(({ id: i, options: a }) => {
        r[i].loaded = !0, n[i] = a || {};
      });
    }
    Object.keys(r).forEach((s) => {
      const i = r[s];
      i.loaded ? t[i.index] = s : t[i.index] = !1;
    });
  }
  return {
    plugins: t.filter(Boolean),
    pluginOptions: n
  };
}, I5 = me(function({
  children: e,
  className: t,
  style: n,
  options: r = {},
  plugins: o = [],
  grapesjs: s,
  grapesjsCss: i,
  onEditor: a = Mn,
  onReady: c,
  onUpdate: u,
  waitReady: d,
  ...p
}) {
  const { setEditor: f } = Cn(), h = ar(), [v, g] = U(!1), b = G(null);
  W(() => {
    if (!h.ready || !b.current)
      return;
    const E = b.current, C = h.refCanvas;
    let P, _ = {}, O = [];
    const k = (z) => {
      const F = {
        height: "100%",
        ...r,
        plugins: [
          ...O,
          ...r.plugins || []
        ],
        pluginsOpts: {
          ...r.pluginsOpts,
          ..._
        },
        modal: {
          ...r.modal,
          custom: !!h.customModal
        },
        assetManager: {
          ...r.assetManager,
          custom: !!h.customAssets
        },
        styleManager: {
          ...r.styleManager,
          custom: !!h.customStyles
        },
        blockManager: {
          ...r.blockManager,
          custom: !!h.customBlocks
        },
        richTextEditor: {
          ...r.richTextEditor,
          custom: !!h.customRte
        },
        layerManager: {
          ...r.layerManager,
          custom: !!h.customLayers
        },
        traitManager: {
          ...r.traitManager,
          custom: !!h.customTraits
        },
        selectorManager: {
          ...r.selectorManager,
          custom: !!h.customSelectors
        },
        container: C || E,
        customUI: !!C,
        // Disables all default panels if Canvas is used
        ...C ? {
          panels: { defaults: [] }
        } : {}
      };
      P = z.init(F), f(P), a(P), u && P.on("update", () => {
        u(P.getProjectData(), P);
      }), P.onReady(() => {
        g(!0), c == null || c(P);
      });
    };
    return (async () => {
      i && await A5(i);
      const z = await D5(o);
      O = z.plugins, _ = z.pluginOptions, typeof s == "string" ? (await Wv(s), k(window.grapesjs)) : k(s);
    })(), () => P == null ? void 0 : P.destroy();
  }, [h.ready]);
  const m = r.height ?? "100%", y = r.width ?? "100%", x = T5("gjs-editor-wrapper", t), w = d && !v, S = oe(() => ({
    ...n,
    height: m,
    width: y
  }), [m, y, n]), j = oe(() => ({
    ...S,
    ...w ? {
      opacity: 0,
      width: 0,
      height: 0
    } : {}
  }), [S, w]);
  return /* @__PURE__ */ vt.jsxs(vt.Fragment, { children: [
    d && !v ? /* @__PURE__ */ vt.jsx("div", { className: x, style: S, children: d }) : null,
    /* @__PURE__ */ vt.jsx("div", { ...p, ref: b, className: x, style: j, children: e })
  ] });
}), V5 = me(function() {
  const e = ar();
  return W(() => e.setReady(!0), []), /* @__PURE__ */ vt.jsx(vt.Fragment, {});
}), H5 = me(function({ children: e, ...t }) {
  return /* @__PURE__ */ vt.jsx(_5, { children: /* @__PURE__ */ vt.jsx(O5, { children: /* @__PURE__ */ vt.jsxs(I5, { ...t, children: [
    e,
    /* @__PURE__ */ vt.jsx(V5, {})
  ] }) }) });
}), Gv = me(function({ children: e }) {
  const { editor: t } = Cn(), n = ar(), [r, o] = U(() => ({
    root: void 0,
    Container: () => null
  }));
  return W(() => {
    if (!t)
      return;
    const { Layers: s } = t, i = s.events.custom, a = ({ container: c }) => {
      o({
        root: s.getRoot(),
        Container: xs(c)
      });
    };
    return t.on(i, a), s.__trgCustom({}), () => {
      t.off(i, a);
    };
  }, [t]), W(() => n.setCustomLayers(!0), []), t && Jr(e) ? e(r) : null;
}), B5 = me(function({ children: e }) {
  const { editor: t } = Cn(), n = ar(), [r, o] = U(!1), [s, i] = U({
    title: /* @__PURE__ */ vt.jsx(vt.Fragment, {}),
    content: /* @__PURE__ */ vt.jsx(vt.Fragment, {}),
    attributes: {},
    close: Mn
  });
  return W(() => {
    if (!t)
      return;
    const a = "modal", c = ({ open: u, title: d, content: p, close: f, attributes: h }) => {
      u && i({
        title: ci(Ah(d)),
        content: ci(Ah(p)),
        attributes: h,
        close: f
      }), o(u);
    };
    return t.on(a, c), () => {
      t.off(a, c);
    };
  }, [t]), W(() => n.setCustomModal(!0), []), t && typeof e == "function" ? e({ open: r, ...s }) : null;
}), Kv = me(function({ children: e }) {
  const { editor: t } = Cn(), [n, r] = U(() => ({
    pages: [],
    selected: void 0,
    select: Mn,
    add: Mn,
    remove: Mn
  }));
  return W(() => {
    if (!t)
      return;
    const { Pages: o } = t, s = o.events.all, i = () => {
      r({
        pages: o.getAll(),
        selected: o.getSelected(),
        select: (...a) => o.select(...a),
        add: (...a) => o.add(...a),
        remove: (...a) => o.remove(...a)
      });
    };
    return t.on(s, i), i(), () => {
      t.off(s, i);
    };
  }, [t]), t && Jr(e) ? e(n) : null;
}), qv = me(function({ children: e }) {
  const { editor: t } = Cn(), n = ar(), [r, o] = U(() => ({
    selectors: [],
    states: [],
    selectedState: "",
    targets: [],
    addSelector: Mn,
    removeSelector: Mn,
    setState: Mn,
    Container: () => null
  }));
  return W(() => {
    if (!t)
      return;
    const { Selectors: s } = t, i = s.events.custom, a = ({ container: c }) => {
      o({
        selectors: s.getSelected(),
        states: s.getStates(),
        selectedState: s.getState(),
        targets: s.getSelectedTargets().map((u) => u.getSelectorsString()),
        addSelector: (...u) => s.addSelected(...u),
        removeSelector: (...u) => s.removeSelected(...u),
        setState: (...u) => s.setState(...u),
        Container: xs(c)
      });
    };
    return t.on(i, a), () => {
      t.off(i, a);
    };
  }, [t]), W(() => n.setCustomSelectors(!0), []), t && Jr(e) ? e(r) : null;
}), Yv = me(function({ children: e }) {
  const { editor: t } = Cn(), n = ar(), [r, o] = U(() => ({
    sectors: [],
    Container: () => null
  }));
  return W(() => {
    if (!t)
      return;
    const { Styles: s } = t, i = s.events.custom, a = ({ container: c }) => {
      o({
        sectors: s.getSectors({ visible: !0 }),
        Container: xs(c)
      });
    };
    return t.on(i, a), () => {
      t.off(i, a);
    };
  }, [t]), W(() => n.setCustomStyles(!0), []), t && Jr(e) ? e(r) : null;
}), od = me(function({ children: e }) {
  const { editor: t } = Cn(), n = ar(), [r, o] = U(() => ({
    traits: [],
    Container: () => null
  }));
  return W(() => {
    if (!t)
      return;
    const { Traits: s } = t, i = s.events.custom, a = ({ container: c }) => {
      o({
        traits: s.getCurrent(),
        Container: xs(c)
      });
    };
    return t.on(i, a), s.__trgCustom(), () => {
      t.off(i, a);
    };
  }, [t]), W(() => n.setCustomTraits(!0), []), t && Jr(e) ? e(r) : null;
}), Qr = ({ children: e }) => Ap() ? /* @__PURE__ */ vt.jsx(vt.Fragment, { children: e }) : null, Lp = "gs-cmp-accordion", sd = `${Lp}-handler`, da = `${sd}__content`, z5 = `${Lp}-content`;
function Oo({
  className: e,
  classNameWrap: t,
  classNameContent: n,
  style: r,
  handler: o,
  handlerIcon: s,
  children: i,
  inverted: a,
  disabled: c,
  sticky: u,
  onChange: d,
  open: p
}) {
  return /* @__PURE__ */ l.jsx(Dc, { as: "div", defaultOpen: p, className: L(Lp, t, "relative"), children: ({ open: f }) => /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
    /* @__PURE__ */ l.jsx(
      Dc.Button,
      {
        as: c ? "div" : "button",
        disabled: c,
        style: r,
        onClick: (h) => d == null ? void 0 : d({ event: h, open: !f }),
        className: ({ open: h }) => Y(
          sd,
          pt(e) ? e(h) : e,
          u && "gs-utl-sticky gs-utl-top-0 gs-utl-z-10",
          "gs-utl-w-full"
        ),
        children: ({ open: h }) => /* @__PURE__ */ l.jsxs(R, { items: "center", className: L("gap-2"), full: !0, children: [
          /* @__PURE__ */ l.jsx($, { className: L(da, "text-left"), grow: !0, children: pt(o) ? o(h) : /* @__PURE__ */ l.jsxs(R, { items: "center", className: L(`${da}-wrp`, "gap-3"), nowrap: !0, children: [
            !!s && /* @__PURE__ */ l.jsx(te, { className: L(`${da}-icon`), icon: s, size: le.s2x }),
            /* @__PURE__ */ l.jsx($, { className: L(`${da}-label gs-utl-w-full`), children: o })
          ] }) }),
          /* @__PURE__ */ l.jsx($, { className: L(`${sd}-toggle`, a && "-order-1", c && "gs-utl-hidden"), children: /* @__PURE__ */ l.jsx(
            te,
            {
              icon: Q.chevronDown,
              className: L("w-5 h-5 transition-transform", h && "rotate-180")
            }
          ) })
        ] })
      }
    ),
    /* @__PURE__ */ l.jsx(Dc.Panel, { className: L(z5, n), children: i })
  ] }) });
}
function de({
  label: e,
  property: t,
  hasValue: n,
  empty: r,
  onClear: o,
  children: s,
  shallow: i,
  row: a,
  tooltip: c,
  className: u,
  ...d
}) {
  const p = e || (t == null ? void 0 : t.getLabel()), f = t == null ? void 0 : t.getParentTarget(), h = n || !r && (t == null ? void 0 : t.hasValue({ noParent: !0 })), v = !h && (t == null ? void 0 : t.hasValue()) && f, g = f == null ? void 0 : f.getDevice(), b = f == null ? void 0 : f.getState(), m = f == null ? void 0 : f.getComponent(), y = () => o ? o() : t == null ? void 0 : t.clear(), x = {
    className: L(u, "text-sm w-full"),
    col: !a,
    items: a ? "center" : void 0,
    ...d
  };
  return t && !t.isVisible() ? null : /* @__PURE__ */ l.jsx(l.Fragment, { children: /* @__PURE__ */ l.jsxs(R, { ...x, children: [
    /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsxs(
      R,
      {
        as: "label",
        items: "center",
        space: "xs",
        className: L("block", !a && "gjs-mb-1", h && !i && H.tAo),
        children: [
          c && /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(mt, { title: c, children: /* @__PURE__ */ l.jsx(te, { icon: Q.information, size: le.sx }) }) }),
          /* @__PURE__ */ l.jsx($, { children: r ? /* @__PURE__ */ l.jsx("span", { children: "" }) : p }),
          !!v && !i && /* @__PURE__ */ l.jsx(
            mt,
            {
              title: /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
                /* @__PURE__ */ l.jsx("div", { className: L("gjs-mb-1"), children: "Value inherited from" }),
                !!g && /* @__PURE__ */ l.jsxs(R, { space: "s", children: [
                  /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(te, { icon: Q.cellphoneLink, size: le.sx }) }),
                  /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx("b", { children: g.getName() }) })
                ] }),
                /* @__PURE__ */ l.jsxs(R, { space: "s", children: [
                  /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(te, { icon: m ? Q.targetVariant : Q.tag, size: le.sx }) }),
                  /* @__PURE__ */ l.jsxs($, { children: [
                    /* @__PURE__ */ l.jsx("b", { children: m ? "Components" : "Selectors" }),
                    /* @__PURE__ */ l.jsxs("span", { className: L("text-xs opacity-75"), children: [
                      " ",
                      f == null ? void 0 : f.selectorsToString({ skipState: 1 })
                    ] })
                  ] })
                ] }),
                !!b && /* @__PURE__ */ l.jsxs(R, { space: "s", children: [
                  /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(te, { icon: Q.flare, size: le.sx }) }),
                  /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx("b", { children: b.getLabel() }) })
                ] })
              ] }),
              children: /* @__PURE__ */ l.jsx("div", { className: L("gs-utl-w-[6px] gs-utl-h-[6px] gjs-rounded-full", H.bgW) })
            }
          ),
          h && !i && /* @__PURE__ */ l.jsx(mt, { title: "Clear value", onClick: y, children: /* @__PURE__ */ l.jsx(te, { className: L(tt.click), icon: Q.close, size: le.s2x }) })
        ]
      }
    ) }),
    /* @__PURE__ */ l.jsx($, { grow: !0, className: L("max-w-full"), children: s })
  ] }) });
}
function Vt({
  className: e,
  options: t,
  label: n,
  name: r,
  value: o,
  size: s = "m",
  required: i,
  disabled: a,
  style: c,
  onChange: u
}) {
  const d = (f) => {
    const h = t.filter((v) => v.id === f)[0];
    return t.indexOf(h) === t.length - 1;
  }, p = (f, h) => L(
    "cursor-pointer",
    s === "m" && ke.xy,
    s === "s" && "gs-utl-px-2 gs-utl-py-1 text-sm",
    s === "xs" && "gs-utl-p-1 text-sm",
    H.br,
    f && H.bgO,
    !d(h) && re.br
  );
  return /* @__PURE__ */ l.jsxs(
    zf,
    {
      value: o,
      onChange: u,
      className: L("gs-field-buttons w-full"),
      disabled: a,
      style: c,
      children: [
        !!n && /* @__PURE__ */ l.jsx(kt, { size: s, children: n }),
        r && /* @__PURE__ */ l.jsx("input", { type: "hidden", name: r, value: o, required: i }),
        /* @__PURE__ */ l.jsx(R, { className: L(e, re.b, re.rnd, H.br, "cursor-pointer"), items: "center", full: !0, nowrap: !0, children: t.map(({ id: f, label: h, title: v, icon: g }) => /* @__PURE__ */ l.jsx(mt, { title: v, className: L("w-full"), classNameWrp: L("flex-1"), children: /* @__PURE__ */ l.jsx(zf.Option, { value: f, className: ({ checked: b }) => p(b, f), children: /* @__PURE__ */ l.jsxs(R, { justify: "center", space: "s", full: !0, children: [
          !!g && /* @__PURE__ */ l.jsx(te, { icon: g, size: le.s }),
          h && /* @__PURE__ */ l.jsx($, { children: h })
        ] }) }) }, f)) })
      ]
    }
  );
}
var F5 = { grad: 0.9, turn: 360, rad: 360 / (2 * Math.PI) }, cr = function(e) {
  return typeof e == "string" ? e.length > 0 : typeof e == "number";
}, Ct = function(e, t, n) {
  return t === void 0 && (t = 0), n === void 0 && (n = Math.pow(10, t)), Math.round(n * e) / n + 0;
}, vn = function(e, t, n) {
  return t === void 0 && (t = 0), n === void 0 && (n = 1), e > n ? n : e > t ? e : t;
}, Xv = function(e) {
  return (e = isFinite(e) ? e % 360 : 0) > 0 ? e : e + 360;
}, kh = function(e) {
  return { r: vn(e.r, 0, 255), g: vn(e.g, 0, 255), b: vn(e.b, 0, 255), a: vn(e.a) };
}, Zc = function(e) {
  return { r: Ct(e.r), g: Ct(e.g), b: Ct(e.b), a: Ct(e.a, 3) };
}, U5 = /^#([0-9a-f]{3,8})$/i, pa = function(e) {
  var t = e.toString(16);
  return t.length < 2 ? "0" + t : t;
}, Zv = function(e) {
  var t = e.r, n = e.g, r = e.b, o = e.a, s = Math.max(t, n, r), i = s - Math.min(t, n, r), a = i ? s === t ? (n - r) / i : s === n ? 2 + (r - t) / i : 4 + (t - n) / i : 0;
  return { h: 60 * (a < 0 ? a + 6 : a), s: s ? i / s * 100 : 0, v: s / 255 * 100, a: o };
}, Jv = function(e) {
  var t = e.h, n = e.s, r = e.v, o = e.a;
  t = t / 360 * 6, n /= 100, r /= 100;
  var s = Math.floor(t), i = r * (1 - n), a = r * (1 - (t - s) * n), c = r * (1 - (1 - t + s) * n), u = s % 6;
  return { r: 255 * [r, a, i, i, c, r][u], g: 255 * [c, r, r, a, i, i][u], b: 255 * [i, i, c, r, r, a][u], a: o };
}, Mh = function(e) {
  return { h: Xv(e.h), s: vn(e.s, 0, 100), l: vn(e.l, 0, 100), a: vn(e.a) };
}, $h = function(e) {
  return { h: Ct(e.h), s: Ct(e.s), l: Ct(e.l), a: Ct(e.a, 3) };
}, Nh = function(e) {
  return Jv((n = (t = e).s, { h: t.h, s: (n *= ((r = t.l) < 50 ? r : 100 - r) / 100) > 0 ? 2 * n / (r + n) * 100 : 0, v: r + n, a: t.a }));
  var t, n, r;
}, Qs = function(e) {
  return { h: (t = Zv(e)).h, s: (o = (200 - (n = t.s)) * (r = t.v) / 100) > 0 && o < 200 ? n * r / 100 / (o <= 100 ? o : 200 - o) * 100 : 0, l: o / 2, a: t.a };
  var t, n, r, o;
}, W5 = /^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i, G5 = /^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i, K5 = /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i, q5 = /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i, id = { string: [[function(e) {
  var t = U5.exec(e);
  return t ? (e = t[1]).length <= 4 ? { r: parseInt(e[0] + e[0], 16), g: parseInt(e[1] + e[1], 16), b: parseInt(e[2] + e[2], 16), a: e.length === 4 ? Ct(parseInt(e[3] + e[3], 16) / 255, 2) : 1 } : e.length === 6 || e.length === 8 ? { r: parseInt(e.substr(0, 2), 16), g: parseInt(e.substr(2, 2), 16), b: parseInt(e.substr(4, 2), 16), a: e.length === 8 ? Ct(parseInt(e.substr(6, 2), 16) / 255, 2) : 1 } : null : null;
}, "hex"], [function(e) {
  var t = K5.exec(e) || q5.exec(e);
  return t ? t[2] !== t[4] || t[4] !== t[6] ? null : kh({ r: Number(t[1]) / (t[2] ? 100 / 255 : 1), g: Number(t[3]) / (t[4] ? 100 / 255 : 1), b: Number(t[5]) / (t[6] ? 100 / 255 : 1), a: t[7] === void 0 ? 1 : Number(t[7]) / (t[8] ? 100 : 1) }) : null;
}, "rgb"], [function(e) {
  var t = W5.exec(e) || G5.exec(e);
  if (!t)
    return null;
  var n, r, o = Mh({ h: (n = t[1], r = t[2], r === void 0 && (r = "deg"), Number(n) * (F5[r] || 1)), s: Number(t[3]), l: Number(t[4]), a: t[5] === void 0 ? 1 : Number(t[5]) / (t[6] ? 100 : 1) });
  return Nh(o);
}, "hsl"]], object: [[function(e) {
  var t = e.r, n = e.g, r = e.b, o = e.a, s = o === void 0 ? 1 : o;
  return cr(t) && cr(n) && cr(r) ? kh({ r: Number(t), g: Number(n), b: Number(r), a: Number(s) }) : null;
}, "rgb"], [function(e) {
  var t = e.h, n = e.s, r = e.l, o = e.a, s = o === void 0 ? 1 : o;
  if (!cr(t) || !cr(n) || !cr(r))
    return null;
  var i = Mh({ h: Number(t), s: Number(n), l: Number(r), a: Number(s) });
  return Nh(i);
}, "hsl"], [function(e) {
  var t = e.h, n = e.s, r = e.v, o = e.a, s = o === void 0 ? 1 : o;
  if (!cr(t) || !cr(n) || !cr(r))
    return null;
  var i = function(a) {
    return { h: Xv(a.h), s: vn(a.s, 0, 100), v: vn(a.v, 0, 100), a: vn(a.a) };
  }({ h: Number(t), s: Number(n), v: Number(r), a: Number(s) });
  return Jv(i);
}, "hsv"]] }, Rh = function(e, t) {
  for (var n = 0; n < t.length; n++) {
    var r = t[n][0](e);
    if (r)
      return [r, t[n][1]];
  }
  return [null, void 0];
}, Y5 = function(e) {
  return typeof e == "string" ? Rh(e.trim(), id.string) : typeof e == "object" && e !== null ? Rh(e, id.object) : [null, void 0];
}, Jc = function(e, t) {
  var n = Qs(e);
  return { h: n.h, s: vn(n.s + 100 * t, 0, 100), l: n.l, a: n.a };
}, Qc = function(e) {
  return (299 * e.r + 587 * e.g + 114 * e.b) / 1e3 / 255;
}, Dh = function(e, t) {
  var n = Qs(e);
  return { h: n.h, s: n.s, l: vn(n.l + 100 * t, 0, 100), a: n.a };
}, ad = function() {
  function e(t) {
    this.parsed = Y5(t)[0], this.rgba = this.parsed || { r: 0, g: 0, b: 0, a: 1 };
  }
  return e.prototype.isValid = function() {
    return this.parsed !== null;
  }, e.prototype.brightness = function() {
    return Ct(Qc(this.rgba), 2);
  }, e.prototype.isDark = function() {
    return Qc(this.rgba) < 0.5;
  }, e.prototype.isLight = function() {
    return Qc(this.rgba) >= 0.5;
  }, e.prototype.toHex = function() {
    return t = Zc(this.rgba), n = t.r, r = t.g, o = t.b, i = (s = t.a) < 1 ? pa(Ct(255 * s)) : "", "#" + pa(n) + pa(r) + pa(o) + i;
    var t, n, r, o, s, i;
  }, e.prototype.toRgb = function() {
    return Zc(this.rgba);
  }, e.prototype.toRgbString = function() {
    return t = Zc(this.rgba), n = t.r, r = t.g, o = t.b, (s = t.a) < 1 ? "rgba(" + n + ", " + r + ", " + o + ", " + s + ")" : "rgb(" + n + ", " + r + ", " + o + ")";
    var t, n, r, o, s;
  }, e.prototype.toHsl = function() {
    return $h(Qs(this.rgba));
  }, e.prototype.toHslString = function() {
    return t = $h(Qs(this.rgba)), n = t.h, r = t.s, o = t.l, (s = t.a) < 1 ? "hsla(" + n + ", " + r + "%, " + o + "%, " + s + ")" : "hsl(" + n + ", " + r + "%, " + o + "%)";
    var t, n, r, o, s;
  }, e.prototype.toHsv = function() {
    return t = Zv(this.rgba), { h: Ct(t.h), s: Ct(t.s), v: Ct(t.v), a: Ct(t.a, 3) };
    var t;
  }, e.prototype.invert = function() {
    return zn({ r: 255 - (t = this.rgba).r, g: 255 - t.g, b: 255 - t.b, a: t.a });
    var t;
  }, e.prototype.saturate = function(t) {
    return t === void 0 && (t = 0.1), zn(Jc(this.rgba, t));
  }, e.prototype.desaturate = function(t) {
    return t === void 0 && (t = 0.1), zn(Jc(this.rgba, -t));
  }, e.prototype.grayscale = function() {
    return zn(Jc(this.rgba, -1));
  }, e.prototype.lighten = function(t) {
    return t === void 0 && (t = 0.1), zn(Dh(this.rgba, t));
  }, e.prototype.darken = function(t) {
    return t === void 0 && (t = 0.1), zn(Dh(this.rgba, -t));
  }, e.prototype.rotate = function(t) {
    return t === void 0 && (t = 15), this.hue(this.hue() + t);
  }, e.prototype.alpha = function(t) {
    return typeof t == "number" ? zn({ r: (n = this.rgba).r, g: n.g, b: n.b, a: t }) : Ct(this.rgba.a, 3);
    var n;
  }, e.prototype.hue = function(t) {
    var n = Qs(this.rgba);
    return typeof t == "number" ? zn({ h: t, s: n.s, l: n.l, a: n.a }) : Ct(n.h);
  }, e.prototype.isEqual = function(t) {
    return this.toHex() === zn(t).toHex();
  }, e;
}(), zn = function(e) {
  return e instanceof ad ? e : new ad(e);
}, Ih = [], X5 = function(e) {
  e.forEach(function(t) {
    Ih.indexOf(t) < 0 && (t(ad, id), Ih.push(t));
  });
};
function Z5(e, t) {
  var n = { white: "#ffffff", bisque: "#ffe4c4", blue: "#0000ff", cadetblue: "#5f9ea0", chartreuse: "#7fff00", chocolate: "#d2691e", coral: "#ff7f50", antiquewhite: "#faebd7", aqua: "#00ffff", azure: "#f0ffff", whitesmoke: "#f5f5f5", papayawhip: "#ffefd5", plum: "#dda0dd", blanchedalmond: "#ffebcd", black: "#000000", gold: "#ffd700", goldenrod: "#daa520", gainsboro: "#dcdcdc", cornsilk: "#fff8dc", cornflowerblue: "#6495ed", burlywood: "#deb887", aquamarine: "#7fffd4", beige: "#f5f5dc", crimson: "#dc143c", cyan: "#00ffff", darkblue: "#00008b", darkcyan: "#008b8b", darkgoldenrod: "#b8860b", darkkhaki: "#bdb76b", darkgray: "#a9a9a9", darkgreen: "#006400", darkgrey: "#a9a9a9", peachpuff: "#ffdab9", darkmagenta: "#8b008b", darkred: "#8b0000", darkorchid: "#9932cc", darkorange: "#ff8c00", darkslateblue: "#483d8b", gray: "#808080", darkslategray: "#2f4f4f", darkslategrey: "#2f4f4f", deeppink: "#ff1493", deepskyblue: "#00bfff", wheat: "#f5deb3", firebrick: "#b22222", floralwhite: "#fffaf0", ghostwhite: "#f8f8ff", darkviolet: "#9400d3", magenta: "#ff00ff", green: "#008000", dodgerblue: "#1e90ff", grey: "#808080", honeydew: "#f0fff0", hotpink: "#ff69b4", blueviolet: "#8a2be2", forestgreen: "#228b22", lawngreen: "#7cfc00", indianred: "#cd5c5c", indigo: "#4b0082", fuchsia: "#ff00ff", brown: "#a52a2a", maroon: "#800000", mediumblue: "#0000cd", lightcoral: "#f08080", darkturquoise: "#00ced1", lightcyan: "#e0ffff", ivory: "#fffff0", lightyellow: "#ffffe0", lightsalmon: "#ffa07a", lightseagreen: "#20b2aa", linen: "#faf0e6", mediumaquamarine: "#66cdaa", lemonchiffon: "#fffacd", lime: "#00ff00", khaki: "#f0e68c", mediumseagreen: "#3cb371", limegreen: "#32cd32", mediumspringgreen: "#00fa9a", lightskyblue: "#87cefa", lightblue: "#add8e6", midnightblue: "#191970", lightpink: "#ffb6c1", mistyrose: "#ffe4e1", moccasin: "#ffe4b5", mintcream: "#f5fffa", lightslategray: "#778899", lightslategrey: "#778899", navajowhite: "#ffdead", navy: "#000080", mediumvioletred: "#c71585", powderblue: "#b0e0e6", palegoldenrod: "#eee8aa", oldlace: "#fdf5e6", paleturquoise: "#afeeee", mediumturquoise: "#48d1cc", mediumorchid: "#ba55d3", rebeccapurple: "#663399", lightsteelblue: "#b0c4de", mediumslateblue: "#7b68ee", thistle: "#d8bfd8", tan: "#d2b48c", orchid: "#da70d6", mediumpurple: "#9370db", purple: "#800080", pink: "#ffc0cb", skyblue: "#87ceeb", springgreen: "#00ff7f", palegreen: "#98fb98", red: "#ff0000", yellow: "#ffff00", slateblue: "#6a5acd", lavenderblush: "#fff0f5", peru: "#cd853f", palevioletred: "#db7093", violet: "#ee82ee", teal: "#008080", slategray: "#708090", slategrey: "#708090", aliceblue: "#f0f8ff", darkseagreen: "#8fbc8f", darkolivegreen: "#556b2f", greenyellow: "#adff2f", seagreen: "#2e8b57", seashell: "#fff5ee", tomato: "#ff6347", silver: "#c0c0c0", sienna: "#a0522d", lavender: "#e6e6fa", lightgreen: "#90ee90", orange: "#ffa500", orangered: "#ff4500", steelblue: "#4682b4", royalblue: "#4169e1", turquoise: "#40e0d0", yellowgreen: "#9acd32", salmon: "#fa8072", saddlebrown: "#8b4513", sandybrown: "#f4a460", rosybrown: "#bc8f8f", darksalmon: "#e9967a", lightgoldenrodyellow: "#fafad2", snow: "#fffafa", lightgrey: "#d3d3d3", lightgray: "#d3d3d3", dimgray: "#696969", dimgrey: "#696969", olivedrab: "#6b8e23", olive: "#808000" }, r = {};
  for (var o in n)
    r[n[o]] = o;
  var s = {};
  e.prototype.toName = function(i) {
    if (!(this.rgba.a || this.rgba.r || this.rgba.g || this.rgba.b))
      return "transparent";
    var a, c, u = r[this.toHex()];
    if (u)
      return u;
    if (i != null && i.closest) {
      var d = this.toRgb(), p = 1 / 0, f = "black";
      if (!s.length)
        for (var h in n)
          s[h] = new e(n[h]).toRgb();
      for (var v in n) {
        var g = (a = d, c = s[v], Math.pow(a.r - c.r, 2) + Math.pow(a.g - c.g, 2) + Math.pow(a.b - c.b, 2));
        g < p && (p = g, f = v);
      }
      return f;
    }
  }, t.string.push([function(i) {
    var a = i.toLowerCase(), c = a === "transparent" ? "#0000" : n[a];
    return c ? new e(c).toRgb() : null;
  }, "name"]);
}
function Yl() {
  return (Yl = Object.assign || function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n)
        Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }).apply(this, arguments);
}
function Qv(e, t) {
  if (e == null)
    return {};
  var n, r, o = {}, s = Object.keys(e);
  for (r = 0; r < s.length; r++)
    t.indexOf(n = s[r]) >= 0 || (o[n] = e[n]);
  return o;
}
function ld(e) {
  var t = G(e), n = G(function(r) {
    t.current && t.current(r);
  });
  return t.current = e, n.current;
}
var ps = function(e, t, n) {
  return t === void 0 && (t = 0), n === void 0 && (n = 1), e > n ? n : e < t ? t : e;
}, ei = function(e) {
  return "touches" in e;
}, cd = function(e) {
  return e && e.ownerDocument.defaultView || self;
}, Vh = function(e, t, n) {
  var r = e.getBoundingClientRect(), o = ei(t) ? function(s, i) {
    for (var a = 0; a < s.length; a++)
      if (s[a].identifier === i)
        return s[a];
    return s[0];
  }(t.touches, n) : t;
  return { left: ps((o.pageX - (r.left + cd(e).pageXOffset)) / r.width), top: ps((o.pageY - (r.top + cd(e).pageYOffset)) / r.height) };
}, Hh = function(e) {
  !ei(e) && e.preventDefault();
}, kp = I.memo(function(e) {
  var t = e.onMove, n = e.onKey, r = Qv(e, ["onMove", "onKey"]), o = G(null), s = ld(t), i = ld(n), a = G(null), c = G(!1), u = oe(function() {
    var h = function(b) {
      Hh(b), (ei(b) ? b.touches.length > 0 : b.buttons > 0) && o.current ? s(Vh(o.current, b, a.current)) : g(!1);
    }, v = function() {
      return g(!1);
    };
    function g(b) {
      var m = c.current, y = cd(o.current), x = b ? y.addEventListener : y.removeEventListener;
      x(m ? "touchmove" : "mousemove", h), x(m ? "touchend" : "mouseup", v);
    }
    return [function(b) {
      var m = b.nativeEvent, y = o.current;
      if (y && (Hh(m), !function(w, S) {
        return S && !ei(w);
      }(m, c.current) && y)) {
        if (ei(m)) {
          c.current = !0;
          var x = m.changedTouches || [];
          x.length && (a.current = x[0].identifier);
        }
        y.focus(), s(Vh(y, m, a.current)), g(!0);
      }
    }, function(b) {
      var m = b.which || b.keyCode;
      m < 37 || m > 40 || (b.preventDefault(), i({ left: m === 39 ? 0.05 : m === 37 ? -0.05 : 0, top: m === 40 ? 0.05 : m === 38 ? -0.05 : 0 }));
    }, g];
  }, [i, s]), d = u[0], p = u[1], f = u[2];
  return W(function() {
    return f;
  }, [f]), I.createElement("div", Yl({}, r, { onTouchStart: d, onMouseDown: d, className: "react-colorful__interactive", ref: o, onKeyDown: p, tabIndex: 0, role: "slider" }));
}), Xl = function(e) {
  return e.filter(Boolean).join(" ");
}, Mp = function(e) {
  var t = e.color, n = e.left, r = e.top, o = r === void 0 ? 0.5 : r, s = Xl(["react-colorful__pointer", e.className]);
  return I.createElement("div", { className: s, style: { top: 100 * o + "%", left: 100 * n + "%" } }, I.createElement("div", { className: "react-colorful__pointer-fill", style: { backgroundColor: t } }));
}, Ht = function(e, t, n) {
  return t === void 0 && (t = 0), n === void 0 && (n = Math.pow(10, t)), Math.round(n * e) / n;
}, eb = function(e) {
  var t = e.s, n = e.v, r = e.a, o = (200 - t) * n / 100;
  return { h: Ht(e.h), s: Ht(o > 0 && o < 200 ? t * n / 100 / (o <= 100 ? o : 200 - o) * 100 : 0), l: Ht(o / 2), a: Ht(r, 2) };
}, ud = function(e) {
  var t = eb(e);
  return "hsl(" + t.h + ", " + t.s + "%, " + t.l + "%)";
}, eu = function(e) {
  var t = eb(e);
  return "hsla(" + t.h + ", " + t.s + "%, " + t.l + "%, " + t.a + ")";
}, J5 = function(e) {
  var t = e.h, n = e.s, r = e.v, o = e.a;
  t = t / 360 * 6, n /= 100, r /= 100;
  var s = Math.floor(t), i = r * (1 - n), a = r * (1 - (t - s) * n), c = r * (1 - (1 - t + s) * n), u = s % 6;
  return { r: Ht(255 * [r, a, i, i, c, r][u]), g: Ht(255 * [c, r, r, a, i, i][u]), b: Ht(255 * [i, i, c, r, r, a][u]), a: Ht(o, 2) };
}, Q5 = function(e) {
  var t = /rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);
  return t ? eA({ r: Number(t[1]) / (t[2] ? 100 / 255 : 1), g: Number(t[3]) / (t[4] ? 100 / 255 : 1), b: Number(t[5]) / (t[6] ? 100 / 255 : 1), a: t[7] === void 0 ? 1 : Number(t[7]) / (t[8] ? 100 : 1) }) : { h: 0, s: 0, v: 0, a: 1 };
}, eA = function(e) {
  var t = e.r, n = e.g, r = e.b, o = e.a, s = Math.max(t, n, r), i = s - Math.min(t, n, r), a = i ? s === t ? (n - r) / i : s === n ? 2 + (r - t) / i : 4 + (t - n) / i : 0;
  return { h: Ht(60 * (a < 0 ? a + 6 : a)), s: Ht(s ? i / s * 100 : 0), v: Ht(s / 255 * 100), a: o };
}, tA = I.memo(function(e) {
  var t = e.hue, n = e.onChange, r = Xl(["react-colorful__hue", e.className]);
  return I.createElement("div", { className: r }, I.createElement(kp, { onMove: function(o) {
    n({ h: 360 * o.left });
  }, onKey: function(o) {
    n({ h: ps(t + 360 * o.left, 0, 360) });
  }, "aria-label": "Hue", "aria-valuenow": Ht(t), "aria-valuemax": "360", "aria-valuemin": "0" }, I.createElement(Mp, { className: "react-colorful__hue-pointer", left: t / 360, color: ud({ h: t, s: 100, v: 100, a: 1 }) })));
}), nA = I.memo(function(e) {
  var t = e.hsva, n = e.onChange, r = { backgroundColor: ud({ h: t.h, s: 100, v: 100, a: 1 }) };
  return I.createElement("div", { className: "react-colorful__saturation", style: r }, I.createElement(kp, { onMove: function(o) {
    n({ s: 100 * o.left, v: 100 - 100 * o.top });
  }, onKey: function(o) {
    n({ s: ps(t.s + 100 * o.left, 0, 100), v: ps(t.v - 100 * o.top, 0, 100) });
  }, "aria-label": "Color", "aria-valuetext": "Saturation " + Ht(t.s) + "%, Brightness " + Ht(t.v) + "%" }, I.createElement(Mp, { className: "react-colorful__saturation-pointer", top: 1 - t.v / 100, left: t.s / 100, color: ud(t) })));
}), rA = function(e, t) {
  if (e === t)
    return !0;
  for (var n in e)
    if (e[n] !== t[n])
      return !1;
  return !0;
}, oA = function(e, t) {
  return e.replace(/\s/g, "") === t.replace(/\s/g, "");
};
function sA(e, t, n) {
  var r = ld(n), o = U(function() {
    return e.toHsva(t);
  }), s = o[0], i = o[1], a = G({ color: t, hsva: s });
  W(function() {
    if (!e.equal(t, a.current.color)) {
      var u = e.toHsva(t);
      a.current = { hsva: u, color: t }, i(u);
    }
  }, [t, e]), W(function() {
    var u;
    rA(s, a.current.hsva) || e.equal(u = e.fromHsva(s), a.current.color) || (a.current = { hsva: s, color: u }, r(u));
  }, [s, e, r]);
  var c = it(function(u) {
    i(function(d) {
      return Object.assign({}, d, u);
    });
  }, []);
  return [s, c];
}
var iA = typeof window < "u" ? yl : W, aA = function() {
  return typeof __webpack_nonce__ < "u" ? __webpack_nonce__ : void 0;
}, Bh = /* @__PURE__ */ new Map(), lA = function(e) {
  iA(function() {
    var t = e.current ? e.current.ownerDocument : document;
    if (t !== void 0 && !Bh.has(t)) {
      var n = t.createElement("style");
      n.innerHTML = `.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`, Bh.set(t, n);
      var r = aA();
      r && n.setAttribute("nonce", r), t.head.appendChild(n);
    }
  }, []);
}, cA = function(e) {
  var t = e.className, n = e.hsva, r = e.onChange, o = { backgroundImage: "linear-gradient(90deg, " + eu(Object.assign({}, n, { a: 0 })) + ", " + eu(Object.assign({}, n, { a: 1 })) + ")" }, s = Xl(["react-colorful__alpha", t]), i = Ht(100 * n.a);
  return I.createElement("div", { className: s }, I.createElement("div", { className: "react-colorful__alpha-gradient", style: o }), I.createElement(kp, { onMove: function(a) {
    r({ a: a.left });
  }, onKey: function(a) {
    r({ a: ps(n.a + a.left) });
  }, "aria-label": "Alpha", "aria-valuetext": i + "%", "aria-valuenow": i, "aria-valuemin": "0", "aria-valuemax": "100" }, I.createElement(Mp, { className: "react-colorful__alpha-pointer", left: n.a, color: eu(n) })));
}, uA = function(e) {
  var t = e.className, n = e.colorModel, r = e.color, o = r === void 0 ? n.defaultColor : r, s = e.onChange, i = Qv(e, ["className", "colorModel", "color", "onChange"]), a = G(null);
  lA(a);
  var c = sA(n, o, s), u = c[0], d = c[1], p = Xl(["react-colorful", t]);
  return I.createElement("div", Yl({}, i, { ref: a, className: p }), I.createElement(nA, { hsva: u, onChange: d }), I.createElement(tA, { hue: u.h, onChange: d }), I.createElement(cA, { hsva: u, onChange: d, className: "react-colorful__last-control" }));
}, dA = { defaultColor: "rgba(0, 0, 0, 1)", toHsva: Q5, fromHsva: function(e) {
  var t = J5(e);
  return "rgba(" + t.r + ", " + t.g + ", " + t.b + ", " + t.a + ")";
}, equal: oA }, pA = function(e) {
  return I.createElement(uA, Yl({}, e, { colorModel: dA }));
}, Zl = /* @__PURE__ */ ((e) => (e.m = "m", e.s = "s", e))(Zl || {});
const zh = (e) => Ui(e) ? e : "", $p = (e = {}) => L("w-full placeholder:italic", H.bgTr, yo.inputText, e.disabled && H.txtLowEmphasis), fA = "gs-input-field", dt = Mt(function(t, n) {
  const {
    className: r,
    value: o,
    label: s,
    size: i = "m",
    type: a,
    placeholder: c,
    required: u,
    disabled: d,
    readOnly: p,
    description: f,
    name: h,
    style: v,
    tip: g,
    onInput: b,
    onChange: m,
    onBlur: y
  } = t, [x, w] = U(zh(o)), S = $p(t), j = G(null);
  xl(n, () => j.current, []), W(() => {
    w(zh(o));
  }, [o]);
  const E = (O, k) => {
    m == null || m(O, k);
  }, C = (O) => {
    const { key: k } = O;
    switch (k) {
      case "Escape":
        return w(o);
      case "Enter":
        return E(x);
    }
  }, P = () => {
    E(x), y == null || y();
  }, _ = (O) => {
    const k = O.target.value;
    w(k), b == null || b(k);
  };
  return /* @__PURE__ */ l.jsxs("div", { className: L(fA, r), style: v, ref: j, children: [
    !!s && /* @__PURE__ */ l.jsx(kt, { size: i, children: s }),
    !!f && /* @__PURE__ */ l.jsx(kt, { size: i, tip: g, as: "span", className: L(H.txtLowEmphasis), capitalize: !1, children: f }),
    /* @__PURE__ */ l.jsx(
      R,
      {
        className: L(H.bg, re.b, re.rnd, H.br, i === "m" && ke.xy, i === "s" && "gjs-px-3 gjs-py-1"),
        items: "center",
        space: "x2s",
        children: /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(
          "input",
          {
            className: S,
            name: h,
            value: x,
            onChange: _,
            placeholder: c,
            required: u,
            onBlur: P,
            onKeyDown: C,
            readOnly: p,
            disabled: d,
            type: a
          }
        ) })
      }
    )
  ] });
});
X5([Z5]);
const hA = "gs-cmp-color-picker", gA = { backgroundSize: "10px" }, mA = [0, 15], vA = (e) => e.startsWith("rgba") ? e : zn(e).toRgbString();
function tb({ className: e, value: t, onChange: n }) {
  const r = vA(t || ""), [o, s] = U(!1), i = ir() && !!window.EyeDropper, a = Y(
    `${hA}-handler gs-utl-bg-checker gs-utl-overflow-hidden gs-utl-cursor-pointer`,
    e,
    re.b,
    re.rnd,
    H.br
  ), c = (h) => {
    n == null || n(h, !0);
  }, u = () => {
    i && new window.EyeDropper().open().then((v) => c(v.sRGBHex));
  }, d = () => {
    s(!0);
  }, p = () => {
    n == null || n(r, !1), s(!1);
  }, f = /* @__PURE__ */ l.jsxs("div", { style: gA, className: a, children: [
    o && /* @__PURE__ */ l.jsx(
      "div",
      {
        onPointerUp: p,
        className: Y("gs-utl-fixed gs-utl-inset-0 gs-utl-z-50 gs-utl-cursor-grabbing")
      }
    ),
    /* @__PURE__ */ l.jsx("div", { className: Y("gs-utl-w-4 gs-utl-h-4"), style: { backgroundColor: t } })
  ] });
  return /* @__PURE__ */ l.jsxs(Ar, { handler: f, title: "Color", size: "s", placement: "left-end", offset: mA, clickAway: !0, children: [
    /* @__PURE__ */ l.jsx(
      pA,
      {
        className: "color-picker",
        color: r,
        onChange: c,
        onPointerDown: d,
        onPointerUp: p
      }
    ),
    /* @__PURE__ */ l.jsxs(R, { className: Y("gs-utl-mt-3"), space: "s", children: [
      /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(dt, { size: "s", value: r, onChange: c }) }),
      i && /* @__PURE__ */ l.jsx(Xe, { type: "button", onClick: u, children: /* @__PURE__ */ l.jsx(te, { icon: Q.eyedropperVariant, size: le.s }) })
    ] })
  ] });
}
const Fh = (e) => Ui(e) ? e : "", bA = "gs-cmp-color-field";
function Er({
  className: e,
  value: t,
  label: n,
  size: r = "m",
  placeholder: o,
  preventSubmitOnEnter: s = !1,
  onChange: i
}) {
  const [a, c] = U(Fh(t));
  W(() => {
    c(Fh(t));
  }, [t]);
  const u = (f, h) => {
    i == null || i(f, h);
  }, d = (f) => {
    switch (f.key) {
      case "Escape":
        return c(t);
      case "Enter":
        u(a), s && (f.preventDefault(), f.stopPropagation());
    }
  }, p = () => {
    u(a);
  };
  return /* @__PURE__ */ l.jsxs("div", { className: L(bA, e), children: [
    !!n && /* @__PURE__ */ l.jsx(kt, { size: r, children: n }),
    /* @__PURE__ */ l.jsxs(
      R,
      {
        className: L(H.bg, H.br, re.b, re.rnd, r === "m" && ke.xy, r === "s" && "gjs-px-3 gjs-py-1"),
        items: "center",
        space: "s",
        children: [
          /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(tb, { value: t, onChange: i }) }),
          /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(
            "input",
            {
              className: L("w-full focus:gs-utl-outline-none", H.bgTr),
              value: a,
              onChange: (f) => c(f.target.value),
              placeholder: o,
              onBlur: p,
              onKeyDown: d
            }
          ) })
        ]
      }
    )
  ] });
}
const yA = (e) => {
  const t = parseFloat(e), n = e.replace(`${t}`, "").trim();
  return { number: t || t === 0 ? `${t}` : "", unit: n };
}, nb = ({ value: e, step: t }) => {
  const n = parseFloat(`${e}`);
  let r = 0;
  if (Math.floor(n) !== n && t) {
    const o = `${t}`.split(".")[1];
    r = (o == null ? void 0 : o.length) || 0;
  }
  return r ? parseFloat(n.toFixed(r)) : n;
}, xA = ({
  value: e,
  key: t,
  shiftKey: n,
  min: r,
  max: o,
  step: s = 1
}) => {
  const i = t === "ArrowUp", a = t === "ArrowDown";
  let c = null;
  if (i || a) {
    c = Number(e);
    const u = parseFloat(`${s}`);
    i && (c += (n ? 10 : 1) * u), a && (c -= (n ? 10 : 1) * u), c = `${Jl({ min: r, max: o, value: c })}`, c = nb({ value: c, step: s });
  }
  return c;
}, Jl = ({ min: e, max: t, value: n }) => {
  const r = parseFloat(`${n}`);
  let o = r || 0;
  return wr(e) && (o = Math.max(o, parseFloat(`${e}`) || 0)), wr(t) && (o = Math.min(o, parseFloat(`${t}`) || 0)), `${`${r}` != `${n}` ? n : o}`;
}, wA = (e, t, n, r = {}) => {
  const o = parseInt(`${e}`, 10) || 0, { min: s, max: i, step: a = 1 } = r;
  let c = o;
  const u = (p) => {
    const f = p.clientY - t, h = o - f * parseFloat(`${a}`);
    c = nb({
      value: Jl({ min: s, max: i, value: h }),
      step: a
    }), n(c, !0);
  }, d = () => {
    window.removeEventListener("mousemove", u), window.removeEventListener("mouseup", d), n(c);
  };
  window.addEventListener("mousemove", u), window.addEventListener("mouseup", d);
}, SA = (e, t, n = {}) => {
  const { partial: r } = n, o = (s, i) => s === i || r && s.startsWith(i);
  return t.some((s) => o(typeof s == "string" ? s : s.id, e));
}, Uh = (e) => Ui(e) ? e : "", jA = "gs-cmp-number-field";
function Ae({
  className: e,
  value: t,
  units: n,
  valueUnit: r,
  label: o,
  size: s = "m",
  pan: i = !0,
  min: a,
  max: c,
  step: u,
  tip: d,
  placeholder: p,
  onChange: f,
  onChangeUnit: h
}) {
  const [v, g] = U(Uh(t)), [b, m] = U(!1), y = (n == null ? void 0 : n.map((C) => ({ id: C, label: C }))) || [], x = { min: a, max: c, step: u };
  W(() => {
    g(Uh(t));
  }, [t, r]);
  const w = (C, P) => {
    f == null || f(Jl({ min: a, max: c, value: C }), P);
  }, S = (C) => {
    m(!0);
    const P = (_, O) => {
      w(_, !!O), !O && m(!1);
    };
    wA(v, C.clientY, P, x);
  }, j = (C) => {
    const { key: P, shiftKey: _ } = C;
    switch (P) {
      case "Escape":
        return g(t);
      case "Enter":
        return w(v);
    }
    const O = xA({ step: u, value: t, key: P, shiftKey: _ });
    O !== null && (C.preventDefault(), w(O));
  }, E = () => {
    w(v);
  };
  return /* @__PURE__ */ l.jsxs("div", { className: L(jA, e), children: [
    b && /* @__PURE__ */ l.jsx("div", { className: L("fixed inset-0 z-50 cursor-ns") }),
    !!o && /* @__PURE__ */ l.jsx(kt, { size: s, tip: d, children: o }),
    /* @__PURE__ */ l.jsxs(
      R,
      {
        className: L(H.bg, H.br, re.b, re.rnd, s === "m" && ke.xy, s === "s" && "gjs-px-3 gjs-py-1"),
        items: "center",
        space: "x2s",
        children: [
          !!i && /* @__PURE__ */ l.jsx(
            $,
            {
              onMouseDown: S,
              className: L(
                "opacity-50 cursor-ns",
                s === "m" && "-gjs-ml-3",
                s === "s" && "-gjs-ml-2",
                i !== !0 && "gjs-mr-0.5 -gjs-ml-1"
              ),
              children: i === !0 ? /* @__PURE__ */ l.jsx(te, { icon: Q.panVertical, size: le.s2x }) : i
            }
          ),
          /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(
            "input",
            {
              className: L("w-full", H.bgTr, yo.inputText),
              value: v,
              onChange: (C) => g(C.target.value),
              placeholder: p,
              onBlur: E,
              onKeyDown: j
            }
          ) }),
          !!y.length && /* @__PURE__ */ l.jsx($, { className: L(y.length === 1 && "opacity-50 pointer-events-none"), children: /* @__PURE__ */ l.jsx(
            _e,
            {
              caret: "",
              size: "x2s",
              pos: "right",
              width: "75px",
              emptyState: "-",
              border: !1,
              value: r,
              onChange: (C) => h == null ? void 0 : h(C),
              options: y
            }
          ) })
        ]
      }
    )
  ] });
}
function CA() {
  for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
    t[n] = arguments[n];
  return oe(
    () => (r) => {
      t.forEach((o) => o(r));
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    t
  );
}
const Ql = typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u";
function ws(e) {
  const t = Object.prototype.toString.call(e);
  return t === "[object Window]" || // In Electron context the Window object serializes to [object global]
  t === "[object global]";
}
function Np(e) {
  return "nodeType" in e;
}
function eo(e) {
  var t, n;
  return e ? ws(e) ? e : Np(e) && (t = (n = e.ownerDocument) == null ? void 0 : n.defaultView) != null ? t : window : window;
}
function Rp(e) {
  const {
    Document: t
  } = eo(e);
  return e instanceof t;
}
function Ss(e) {
  return ws(e) ? !1 : e instanceof eo(e).HTMLElement;
}
function rb(e) {
  return e instanceof eo(e).SVGElement;
}
function js(e) {
  return e ? ws(e) ? e.document : Np(e) ? Rp(e) ? e : Ss(e) || rb(e) ? e.ownerDocument : document : document : document;
}
const wo = Ql ? yl : W;
function PA(e) {
  const t = G(e);
  return wo(() => {
    t.current = e;
  }), it(function() {
    for (var n = arguments.length, r = new Array(n), o = 0; o < n; o++)
      r[o] = arguments[o];
    return t.current == null ? void 0 : t.current(...r);
  }, []);
}
function EA() {
  const e = G(null), t = it((r, o) => {
    e.current = setInterval(r, o);
  }, []), n = it(() => {
    e.current !== null && (clearInterval(e.current), e.current = null);
  }, []);
  return [t, n];
}
function Yi(e, t) {
  const n = G();
  return oe(
    () => {
      const r = e(n.current);
      return n.current = r, r;
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [...t]
  );
}
function Dp(e) {
  const t = PA(e), n = G(null), r = it(
    (o) => {
      o !== n.current && (t == null || t(o, n.current)), n.current = o;
    },
    //eslint-disable-next-line
    []
  );
  return [n, r];
}
let tu = {};
function Xi(e, t) {
  return oe(() => {
    if (t)
      return t;
    const n = tu[e] == null ? 0 : tu[e] + 1;
    return tu[e] = n, e + "-" + n;
  }, [e, t]);
}
function ob(e) {
  return function(t) {
    for (var n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++)
      r[o - 1] = arguments[o];
    return r.reduce((s, i) => {
      const a = Object.entries(i);
      for (const [c, u] of a) {
        const d = s[c];
        d != null && (s[c] = d + e * u);
      }
      return s;
    }, {
      ...t
    });
  };
}
const Si = /* @__PURE__ */ ob(1), sb = /* @__PURE__ */ ob(-1);
function _A(e) {
  return "clientX" in e && "clientY" in e;
}
function OA(e) {
  if (!e)
    return !1;
  const {
    KeyboardEvent: t
  } = eo(e.target);
  return t && e instanceof t;
}
function TA(e) {
  if (!e)
    return !1;
  const {
    TouchEvent: t
  } = eo(e.target);
  return t && e instanceof t;
}
function dd(e) {
  if (TA(e)) {
    if (e.touches && e.touches.length) {
      const {
        clientX: t,
        clientY: n
      } = e.touches[0];
      return {
        x: t,
        y: n
      };
    } else if (e.changedTouches && e.changedTouches.length) {
      const {
        clientX: t,
        clientY: n
      } = e.changedTouches[0];
      return {
        x: t,
        y: n
      };
    }
  }
  return _A(e) ? {
    x: e.clientX,
    y: e.clientY
  } : null;
}
const ji = /* @__PURE__ */ Object.freeze({
  Translate: {
    toString(e) {
      if (!e)
        return;
      const {
        x: t,
        y: n
      } = e;
      return "translate3d(" + (t ? Math.round(t) : 0) + "px, " + (n ? Math.round(n) : 0) + "px, 0)";
    }
  },
  Scale: {
    toString(e) {
      if (!e)
        return;
      const {
        scaleX: t,
        scaleY: n
      } = e;
      return "scaleX(" + t + ") scaleY(" + n + ")";
    }
  },
  Transform: {
    toString(e) {
      if (e)
        return [ji.Translate.toString(e), ji.Scale.toString(e)].join(" ");
    }
  },
  Transition: {
    toString(e) {
      let {
        property: t,
        duration: n,
        easing: r
      } = e;
      return t + " " + n + "ms " + r;
    }
  }
}), AA = {
  display: "none"
};
function LA(e) {
  let {
    id: t,
    value: n
  } = e;
  return I.createElement("div", {
    id: t,
    style: AA
  }, n);
}
function kA(e) {
  let {
    id: t,
    announcement: n,
    ariaLiveType: r = "assertive"
  } = e;
  const o = {
    position: "fixed",
    width: 1,
    height: 1,
    margin: -1,
    border: 0,
    padding: 0,
    overflow: "hidden",
    clip: "rect(0 0 0 0)",
    clipPath: "inset(100%)",
    whiteSpace: "nowrap"
  };
  return I.createElement("div", {
    id: t,
    style: o,
    role: "status",
    "aria-live": r,
    "aria-atomic": !0
  }, n);
}
function MA() {
  const [e, t] = U("");
  return {
    announce: it((r) => {
      r != null && t(r);
    }, []),
    announcement: e
  };
}
const $A = {
  draggable: `
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `
}, NA = {
  onDragStart(e) {
    return `Picked up draggable item ${e}.`;
  },
  onDragOver(e, t) {
    return t ? `Draggable item ${e} was moved over droppable area ${t}.` : `Draggable item ${e} is no longer over a droppable area.`;
  },
  onDragEnd(e, t) {
    return t ? `Draggable item ${e} was dropped over droppable area ${t}` : `Draggable item ${e} was dropped.`;
  },
  onDragCancel(e) {
    return `Dragging was cancelled. Draggable item ${e} was dropped.`;
  }
};
var Qe;
(function(e) {
  e.DragStart = "dragStart", e.DragMove = "dragMove", e.DragEnd = "dragEnd", e.DragCancel = "dragCancel", e.DragOver = "dragOver", e.RegisterDroppable = "registerDroppable", e.SetDroppableDisabled = "setDroppableDisabled", e.UnregisterDroppable = "unregisterDroppable";
})(Qe || (Qe = {}));
function nu(...e) {
}
class ti extends Map {
  get(t) {
    var n;
    return t != null && (n = super.get(t)) != null ? n : void 0;
  }
  toArray() {
    return Array.from(this.values());
  }
  getEnabled() {
    return this.toArray().filter(({
      disabled: t
    }) => !t);
  }
  getNodeFor(t) {
    var n, r;
    return (n = (r = this.get(t)) == null ? void 0 : r.node.current) != null ? n : void 0;
  }
}
const ec = /* @__PURE__ */ De({
  activatorEvent: null,
  active: null,
  activeNode: null,
  activeNodeRect: null,
  activeNodeClientRect: null,
  activators: [],
  ariaDescribedById: {
    draggable: ""
  },
  containerNodeRect: null,
  dispatch: nu,
  draggableNodes: {},
  droppableRects: /* @__PURE__ */ new Map(),
  droppableContainers: /* @__PURE__ */ new ti(),
  over: null,
  dragOverlay: {
    nodeRef: {
      current: null
    },
    rect: null,
    setRef: nu
  },
  scrollableAncestors: [],
  scrollableAncestorRects: [],
  recomputeLayouts: nu,
  windowRect: null,
  willRecomputeLayouts: !1
});
function RA() {
  return {
    draggable: {
      active: null,
      initialCoordinates: {
        x: 0,
        y: 0
      },
      nodes: {},
      translate: {
        x: 0,
        y: 0
      }
    },
    droppable: {
      containers: new ti()
    }
  };
}
function DA(e, t) {
  switch (t.type) {
    case Qe.DragStart:
      return {
        ...e,
        draggable: {
          ...e.draggable,
          initialCoordinates: t.initialCoordinates,
          active: t.active
        }
      };
    case Qe.DragMove:
      return e.draggable.active ? {
        ...e,
        draggable: {
          ...e.draggable,
          translate: {
            x: t.coordinates.x - e.draggable.initialCoordinates.x,
            y: t.coordinates.y - e.draggable.initialCoordinates.y
          }
        }
      } : e;
    case Qe.DragEnd:
    case Qe.DragCancel:
      return {
        ...e,
        draggable: {
          ...e.draggable,
          active: null,
          initialCoordinates: {
            x: 0,
            y: 0
          },
          translate: {
            x: 0,
            y: 0
          }
        }
      };
    case Qe.RegisterDroppable: {
      const {
        element: n
      } = t, {
        id: r
      } = n, o = new ti(e.droppable.containers);
      return o.set(r, n), {
        ...e,
        droppable: {
          ...e.droppable,
          containers: o
        }
      };
    }
    case Qe.SetDroppableDisabled: {
      const {
        id: n,
        key: r,
        disabled: o
      } = t, s = e.droppable.containers.get(n);
      if (!s || r !== s.key)
        return e;
      const i = new ti(e.droppable.containers);
      return i.set(n, {
        ...s,
        disabled: o
      }), {
        ...e,
        droppable: {
          ...e.droppable,
          containers: i
        }
      };
    }
    case Qe.UnregisterDroppable: {
      const {
        id: n,
        key: r
      } = t, o = e.droppable.containers.get(n);
      if (!o || r !== o.key)
        return e;
      const s = new ti(e.droppable.containers);
      return s.delete(n), {
        ...e,
        droppable: {
          ...e.droppable,
          containers: s
        }
      };
    }
    default:
      return e;
  }
}
const ib = /* @__PURE__ */ De({
  type: null,
  event: null
});
function IA({
  onDragStart: e,
  onDragMove: t,
  onDragOver: n,
  onDragEnd: r,
  onDragCancel: o
}) {
  const s = Oe(ib), i = G(s);
  W(() => {
    if (s !== i.current) {
      const {
        type: a,
        event: c
      } = s;
      switch (a) {
        case Qe.DragStart:
          e == null || e(c);
          break;
        case Qe.DragMove:
          t == null || t(c);
          break;
        case Qe.DragOver:
          n == null || n(c);
          break;
        case Qe.DragCancel:
          o == null || o(c);
          break;
        case Qe.DragEnd:
          r == null || r(c);
          break;
      }
      i.current = s;
    }
  }, [s, e, t, n, r, o]);
}
function VA({
  announcements: e = NA,
  hiddenTextDescribedById: t,
  screenReaderInstructions: n
}) {
  const {
    announce: r,
    announcement: o
  } = MA(), s = Xi("DndLiveRegion"), [i, a] = U(!1);
  return W(() => {
    a(!0);
  }, []), IA(oe(() => ({
    onDragStart({
      active: c
    }) {
      r(e.onDragStart(c.id));
    },
    onDragMove({
      active: c,
      over: u
    }) {
      e.onDragMove && r(e.onDragMove(c.id, u == null ? void 0 : u.id));
    },
    onDragOver({
      active: c,
      over: u
    }) {
      r(e.onDragOver(c.id, u == null ? void 0 : u.id));
    },
    onDragEnd({
      active: c,
      over: u
    }) {
      r(e.onDragEnd(c.id, u == null ? void 0 : u.id));
    },
    onDragCancel({
      active: c
    }) {
      r(e.onDragCancel(c.id));
    }
  }), [r, e])), i ? Ed(I.createElement(I.Fragment, null, I.createElement(LA, {
    id: t,
    value: n.draggable
  }), I.createElement(kA, {
    id: s,
    announcement: o
  })), document.body) : null;
}
const _r = /* @__PURE__ */ Object.freeze({
  x: 0,
  y: 0
});
function ab(e, t) {
  return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2));
}
function Wh(e, t = e.offsetLeft, n = e.offsetTop) {
  return {
    x: t + e.width * 0.5,
    y: n + e.height * 0.5
  };
}
const HA = ({
  collisionRect: e,
  droppableContainers: t
}) => {
  const n = Wh(e, e.left, e.top);
  let r = 1 / 0, o = null;
  for (const s of t) {
    const {
      rect: {
        current: i
      }
    } = s;
    if (i) {
      const a = ab(Wh(i), n);
      a < r && (r = a, o = s.id);
    }
  }
  return o;
};
function BA(e, t, n) {
  return {
    ...e,
    scaleX: t && n ? t.width / n.width : 1,
    scaleY: t && n ? t.height / n.height : 1
  };
}
function zA(e, t) {
  return e && t ? {
    x: e.left - t.left,
    y: e.top - t.top
  } : _r;
}
function FA(e) {
  return function(n, ...r) {
    return r.reduce((o, s) => ({
      ...o,
      top: o.top + e * s.y,
      bottom: o.bottom + e * s.y,
      left: o.left + e * s.x,
      right: o.right + e * s.x,
      offsetLeft: o.offsetLeft + e * s.x,
      offsetTop: o.offsetTop + e * s.y
    }), {
      ...n
    });
  };
}
const Gh = /* @__PURE__ */ FA(1);
function UA(e, t = window.getComputedStyle(e)) {
  return t.position === "fixed";
}
function WA(e, t = window.getComputedStyle(e)) {
  const n = /(auto|scroll|overlay)/;
  return ["overflow", "overflowX", "overflowY"].find((o) => {
    const s = t[o];
    return typeof s == "string" ? n.test(s) : !1;
  }) != null;
}
function Ip(e) {
  const t = [];
  function n(r) {
    if (!r)
      return t;
    if (Rp(r) && r.scrollingElement != null && !t.includes(r.scrollingElement))
      return t.push(r.scrollingElement), t;
    if (!Ss(r) || rb(r) || t.includes(r))
      return t;
    const o = window.getComputedStyle(r);
    return WA(r, o) && t.push(r), UA(r, o) ? t : n(r.parentNode);
  }
  return e ? n(e.parentNode) : t;
}
function ru(e) {
  return !Ql || !e ? null : ws(e) ? e : Np(e) ? Rp(e) || e === js(e).scrollingElement ? window : Ss(e) ? e : null : null;
}
function pd(e) {
  return ws(e) ? {
    x: e.scrollX,
    y: e.scrollY
  } : {
    x: e.scrollLeft,
    y: e.scrollTop
  };
}
var Ko;
(function(e) {
  e[e.Forward = 1] = "Forward", e[e.Backward = -1] = "Backward";
})(Ko || (Ko = {}));
function lb(e) {
  const t = {
    x: 0,
    y: 0
  }, n = {
    x: e.scrollWidth - e.clientWidth,
    y: e.scrollHeight - e.clientHeight
  }, r = e.scrollTop <= t.y, o = e.scrollLeft <= t.x, s = e.scrollTop >= n.y, i = e.scrollLeft >= n.x;
  return {
    isTop: r,
    isLeft: o,
    isBottom: s,
    isRight: i,
    maxScroll: n,
    minScroll: t
  };
}
function GA(e) {
  return !Ql || !e ? !1 : e === document.scrollingElement;
}
const KA = {
  x: 0.2,
  y: 0.2
};
function qA(e, t, {
  top: n,
  left: r,
  right: o,
  bottom: s
}, i = 10, a = KA) {
  const {
    clientHeight: c,
    clientWidth: u
  } = e, d = GA(e) ? {
    top: 0,
    left: 0,
    right: u,
    bottom: c,
    width: u,
    height: c
  } : t, {
    isTop: p,
    isBottom: f,
    isLeft: h,
    isRight: v
  } = lb(e), g = {
    x: 0,
    y: 0
  }, b = {
    x: 0,
    y: 0
  }, m = {
    height: d.height * a.y,
    width: d.width * a.x
  };
  return !p && n <= d.top + m.height ? (g.y = Ko.Backward, b.y = i * Math.abs((d.top + m.height - n) / m.height)) : !f && s >= d.bottom - m.height && (g.y = Ko.Forward, b.y = i * Math.abs((d.bottom - m.height - s) / m.height)), !v && o >= d.right - m.width ? (g.x = Ko.Forward, b.x = i * Math.abs((d.right - m.width - o) / m.width)) : !h && r <= d.left + m.width && (g.x = Ko.Backward, b.x = i * Math.abs((d.left + m.width - r) / m.width)), {
    direction: g,
    speed: b
  };
}
function YA(e) {
  if (e === document.scrollingElement) {
    const {
      innerWidth: s,
      innerHeight: i
    } = window;
    return {
      top: 0,
      left: 0,
      right: s,
      bottom: i,
      width: s,
      height: i
    };
  }
  const {
    top: t,
    left: n,
    right: r,
    bottom: o
  } = e.getBoundingClientRect();
  return {
    top: t,
    left: n,
    right: r,
    bottom: o,
    width: e.clientWidth,
    height: e.clientHeight
  };
}
function cb(e) {
  return e.reduce((t, n) => Si(t, pd(n)), _r);
}
function ub(e, t, n = _r) {
  if (!e || !Ss(e))
    return n;
  const r = {
    x: n.x + e.offsetLeft,
    y: n.y + e.offsetTop
  };
  return e.offsetParent === t ? r : ub(e.offsetParent, t, r);
}
function tc(e) {
  const {
    offsetWidth: t,
    offsetHeight: n
  } = e, {
    x: r,
    y: o
  } = ub(e, null);
  return {
    width: t,
    height: n,
    offsetTop: o,
    offsetLeft: r
  };
}
function nc(e) {
  if (ws(e)) {
    const u = window.innerWidth, d = window.innerHeight;
    return {
      top: 0,
      left: 0,
      right: u,
      bottom: d,
      width: u,
      height: d,
      offsetTop: 0,
      offsetLeft: 0
    };
  }
  const {
    offsetTop: t,
    offsetLeft: n
  } = tc(e), {
    width: r,
    height: o,
    top: s,
    bottom: i,
    left: a,
    right: c
  } = e.getBoundingClientRect();
  return {
    width: r,
    height: o,
    top: s,
    bottom: i,
    right: c,
    left: a,
    offsetTop: t,
    offsetLeft: n
  };
}
function fd(e) {
  const {
    width: t,
    height: n,
    offsetTop: r,
    offsetLeft: o
  } = tc(e), s = Ip(e), i = cb(s), a = r - i.y, c = o - i.x;
  return {
    width: t,
    height: n,
    top: a,
    bottom: a + n,
    right: c + t,
    left: c,
    offsetTop: r,
    offsetLeft: o
  };
}
function Kh(e) {
  return "top" in e;
}
function qh(e, t = e.offsetLeft, n = e.offsetTop) {
  return [{
    x: t,
    y: n
  }, {
    x: t + e.width,
    y: n
  }, {
    x: t,
    y: n + e.height
  }, {
    x: t + e.width,
    y: n + e.height
  }];
}
const XA = ({
  collisionRect: e,
  droppableContainers: t
}) => {
  let n = 1 / 0, r = null;
  const o = qh(e, e.left, e.top);
  for (const s of t) {
    const {
      rect: {
        current: i
      }
    } = s;
    if (i) {
      const a = qh(i, Kh(i) ? i.left : void 0, Kh(i) ? i.top : void 0), c = o.reduce((d, p, f) => d + ab(a[f], p), 0), u = Number((c / 4).toFixed(4));
      u < n && (n = u, r = s.id);
    }
  }
  return r;
};
function ZA(e, t) {
  const n = Math.max(t.top, e.offsetTop), r = Math.max(t.left, e.offsetLeft), o = Math.min(t.left + t.width, e.offsetLeft + e.width), s = Math.min(t.top + t.height, e.offsetTop + e.height), i = o - r, a = s - n;
  if (r < o && n < s) {
    const c = t.width * t.height, u = e.width * e.height, d = i * a, p = d / (c + u - d);
    return Number(p.toFixed(4));
  }
  return 0;
}
const JA = ({
  collisionRect: e,
  droppableContainers: t
}) => {
  let n = 0, r = null;
  for (const o of t) {
    const {
      rect: {
        current: s
      }
    } = o;
    if (s) {
      const i = ZA(s, e);
      i > n && (n = i, r = o.id);
    }
  }
  return r;
};
var ni;
(function(e) {
  e[e.Pointer = 0] = "Pointer", e[e.DraggableRect = 1] = "DraggableRect";
})(ni || (ni = {}));
var il;
(function(e) {
  e[e.TreeOrder = 0] = "TreeOrder", e[e.ReversedTreeOrder = 1] = "ReversedTreeOrder";
})(il || (il = {}));
function QA({
  acceleration: e,
  activator: t = ni.Pointer,
  canScroll: n,
  draggingRect: r,
  enabled: o,
  interval: s = 5,
  order: i = il.TreeOrder,
  pointerCoordinates: a,
  scrollableAncestors: c,
  scrollableAncestorRects: u,
  threshold: d
}) {
  const [p, f] = EA(), h = G({
    x: 1,
    y: 1
  }), v = oe(() => {
    switch (t) {
      case ni.Pointer:
        return a ? {
          top: a.y,
          bottom: a.y,
          left: a.x,
          right: a.x
        } : null;
      case ni.DraggableRect:
        return r;
    }
    return null;
  }, [t, r, a]), g = G(_r), b = G(null), m = it(() => {
    const x = b.current;
    if (!x)
      return;
    const w = h.current.x * g.current.x, S = h.current.y * g.current.y;
    x.scrollBy(w, S);
  }, []), y = oe(() => i === il.TreeOrder ? [...c].reverse() : c, [i, c]);
  W(
    () => {
      if (!o || !c.length || !v) {
        f();
        return;
      }
      for (const x of y) {
        if ((n == null ? void 0 : n(x)) === !1)
          continue;
        const w = c.indexOf(x), S = u[w];
        if (!S)
          continue;
        const {
          direction: j,
          speed: E
        } = qA(x, S, v, e, d);
        if (E.x > 0 || E.y > 0) {
          f(), b.current = x, p(m, s), h.current = E, g.current = j;
          return;
        }
      }
      h.current = {
        x: 0,
        y: 0
      }, g.current = {
        x: 0,
        y: 0
      }, f();
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [
      e,
      m,
      n,
      f,
      o,
      s,
      // eslint-disable-next-line react-hooks/exhaustive-deps
      JSON.stringify(v),
      p,
      c,
      y,
      u,
      // eslint-disable-next-line react-hooks/exhaustive-deps
      JSON.stringify(d)
    ]
  );
}
function e3(e, t) {
  const n = t !== null ? e[t] : void 0, r = n ? n.node.current : null;
  return Yi((o) => {
    var s;
    return t === null ? null : (s = r ?? o) != null ? s : null;
  }, [r, t]);
}
function t3(e, t) {
  return oe(() => e.reduce((n, r) => {
    const {
      sensor: o
    } = r, s = o.activators.map((i) => ({
      eventName: i.eventName,
      handler: t(i.handler, r)
    }));
    return [...n, ...s];
  }, []), [e, t]);
}
function db(e) {
  const t = G(e);
  return wo(() => {
    t.current !== e && (t.current = e);
  }, [e]), t;
}
var Ci;
(function(e) {
  e[e.Always = 0] = "Always", e[e.BeforeDragging = 1] = "BeforeDragging", e[e.WhileDragging = 2] = "WhileDragging";
})(Ci || (Ci = {}));
var hd;
(function(e) {
  e.Optimized = "optimized";
})(hd || (hd = {}));
const Yh = /* @__PURE__ */ new Map(), n3 = {
  measure: tc,
  strategy: Ci.WhileDragging,
  frequency: hd.Optimized
};
function r3(e, {
  dragging: t,
  dependencies: n,
  config: r
}) {
  const [o, s] = U(!1), {
    frequency: i,
    measure: a,
    strategy: c
  } = {
    ...n3,
    ...r
  }, u = G(e), d = it(() => s(!0), []), p = G(null), f = v(), h = Yi((g) => {
    if (f && !t)
      return Yh;
    if (!g || g === Yh || u.current !== e || o) {
      for (let b of e)
        b && (b.rect.current = b.node.current ? a(b.node.current) : null);
      return o3(e);
    }
    return g;
  }, [e, t, f, a, o]);
  return W(() => {
    u.current = e;
  }, [e]), W(() => {
    o && s(!1);
  }, [o]), W(
    function() {
      f || requestAnimationFrame(d);
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [t, f]
  ), W(
    function() {
      f || typeof i != "number" || p.current !== null || (p.current = setTimeout(() => {
        d(), p.current = null;
      }, i));
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [i, f, d, ...n]
  ), {
    layoutRectMap: h,
    recomputeLayouts: d,
    willRecomputeLayouts: o
  };
  function v() {
    switch (c) {
      case Ci.Always:
        return !1;
      case Ci.BeforeDragging:
        return t;
      default:
        return !t;
    }
  }
}
function o3(e) {
  const t = /* @__PURE__ */ new Map();
  if (e)
    for (const n of e) {
      if (!n)
        continue;
      const {
        id: r,
        rect: o
      } = n;
      o.current != null && t.set(r, o.current);
    }
  return t;
}
function s3(e) {
  const [t, n] = U(null), r = G(e), o = it((s) => {
    const i = ru(s.target);
    i && n((a) => a ? (a.set(i, pd(i)), new Map(a)) : null);
  }, []);
  return W(() => {
    const s = r.current;
    if (e !== s) {
      i(s);
      const a = e.map((c) => {
        const u = ru(c);
        return u ? (u.addEventListener("scroll", o, {
          passive: !0
        }), [u, pd(u)]) : null;
      }).filter((c) => c != null);
      n(a.length ? new Map(a) : null), r.current = e;
    }
    return () => {
      i(e), i(s);
    };
    function i(a) {
      a.forEach((c) => {
        const u = ru(c);
        u == null || u.removeEventListener("scroll", o);
      });
    }
  }, [o, e]), oe(() => e.length ? t ? Array.from(t.values()).reduce((s, i) => Si(s, i), _r) : cb(e) : _r, [e, t]);
}
const i3 = [];
function a3(e) {
  const t = G(e), n = Yi((r) => e ? r && e && t.current && e.parentNode === t.current.parentNode ? r : Ip(e) : i3, [e]);
  return W(() => {
    t.current = e;
  }, [e]), n;
}
function l3(e) {
  W(
    () => {
      if (!Ql)
        return;
      const t = e.map(({
        sensor: n
      }) => n.setup == null ? void 0 : n.setup());
      return () => {
        for (const n of t)
          n == null || n();
      };
    },
    // TO-DO: Sensors lenght could theoretically change which would not be a valid dependency
    // eslint-disable-next-line react-hooks/exhaustive-deps
    e.map(({
      sensor: t
    }) => t)
  );
}
function c3(e, t) {
  return oe(() => e.reduce((n, {
    eventName: r,
    handler: o
  }) => (n[r] = (s) => {
    o(s, t);
  }, n), {}), [e, t]);
}
const ou = /* @__PURE__ */ fb(nc), u3 = /* @__PURE__ */ d3(nc);
function pb(e, t, n) {
  const r = G(e);
  return Yi((o) => e ? n || !o && e || e !== r.current ? Ss(e) && e.parentNode == null ? null : t(e) : o ?? null : null, [e, n, t]);
}
function fb(e) {
  return (t, n) => pb(t, e, n);
}
function d3(e) {
  const t = [];
  return function(r, o) {
    const s = G(r);
    return Yi((i) => r.length ? o || !i && r.length || r !== s.current ? r.map((a) => e(a)) : i ?? t : t, [r, o]);
  };
}
function p3(e) {
  if (!e)
    return null;
  if (e.children.length > 1)
    return e;
  const t = e.children[0];
  return Ss(t) ? t : e;
}
function f3(e) {
  const {
    width: t,
    height: n,
    offsetLeft: r,
    offsetTop: o
  } = tc(e);
  return {
    top: o,
    bottom: o + n,
    left: r,
    right: r + t,
    width: t,
    height: n,
    offsetTop: o,
    offsetLeft: r
  };
}
const h3 = /* @__PURE__ */ fb(f3);
function g3({
  disabled: e,
  forceRecompute: t
}) {
  const [n, r] = Dp(), o = h3(e ? null : p3(n.current), t);
  return oe(() => ({
    nodeRef: n,
    rect: o,
    setRef: r
  }), [o, n, r]);
}
function Xh(e, t) {
  return oe(
    () => ({
      sensor: e,
      options: t ?? {}
    }),
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [e, t]
  );
}
function m3(...e) {
  return oe(
    () => [...e].filter((t) => t != null),
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [...e]
  );
}
class ri {
  constructor(t) {
    this.target = t, this.listeners = [], this.removeAll = () => {
      this.listeners.forEach((n) => {
        var r;
        return (r = this.target) == null ? void 0 : r.removeEventListener(...n);
      });
    };
  }
  add(t, n, r) {
    var o;
    (o = this.target) == null || o.addEventListener(t, n, r), this.listeners.push([t, n, r]);
  }
}
function v3(e) {
  const {
    EventTarget: t
  } = eo(e);
  return e instanceof t ? e : js(e);
}
function su(e, t) {
  const n = Math.abs(e.x), r = Math.abs(e.y);
  return typeof t == "number" ? Math.sqrt(n ** 2 + r ** 2) > t : "x" in t && "y" in t ? n > t.x && r > t.y : "x" in t ? n > t.x : "y" in t ? r > t.y : !1;
}
var pn;
(function(e) {
  e.Click = "click", e.DragStart = "dragstart", e.Keydown = "keydown", e.ContextMenu = "contextmenu", e.Resize = "resize", e.SelectionChange = "selectionchange", e.VisibilityChange = "visibilitychange";
})(pn || (pn = {}));
function Zh(e) {
  e.preventDefault();
}
function b3(e) {
  e.stopPropagation();
}
var Re;
(function(e) {
  e.Space = "Space", e.Down = "ArrowDown", e.Right = "ArrowRight", e.Left = "ArrowLeft", e.Up = "ArrowUp", e.Esc = "Escape", e.Enter = "Enter";
})(Re || (Re = {}));
const hb = {
  start: [Re.Space, Re.Enter],
  cancel: [Re.Esc],
  end: [Re.Space, Re.Enter]
}, y3 = (e, {
  currentCoordinates: t
}) => {
  switch (e.code) {
    case Re.Right:
      return {
        ...t,
        x: t.x + 25
      };
    case Re.Left:
      return {
        ...t,
        x: t.x - 25
      };
    case Re.Down:
      return {
        ...t,
        y: t.y + 25
      };
    case Re.Up:
      return {
        ...t,
        y: t.y - 25
      };
  }
};
class Vp {
  constructor(t) {
    this.props = t, this.autoScrollEnabled = !1, this.coordinates = _r;
    const {
      event: {
        target: n
      }
    } = t;
    this.props = t, this.listeners = new ri(js(n)), this.windowListeners = new ri(eo(n)), this.handleKeyDown = this.handleKeyDown.bind(this), this.handleCancel = this.handleCancel.bind(this), this.attach();
  }
  attach() {
    this.handleStart(), this.windowListeners.add(pn.Resize, this.handleCancel), this.windowListeners.add(pn.VisibilityChange, this.handleCancel), setTimeout(() => this.listeners.add(pn.Keydown, this.handleKeyDown));
  }
  handleStart() {
    const {
      activeNode: t,
      onStart: n
    } = this.props;
    if (!t.node.current)
      throw new Error("Active draggable node is undefined");
    const r = nc(t.node.current), o = {
      x: r.left,
      y: r.top
    };
    this.coordinates = o, n(o);
  }
  handleKeyDown(t) {
    if (OA(t)) {
      const {
        coordinates: n
      } = this, {
        active: r,
        context: o,
        options: s
      } = this.props, {
        keyboardCodes: i = hb,
        coordinateGetter: a = y3,
        scrollBehavior: c = "smooth"
      } = s, {
        code: u
      } = t;
      if (i.end.includes(u)) {
        this.handleEnd(t);
        return;
      }
      if (i.cancel.includes(u)) {
        this.handleCancel(t);
        return;
      }
      const d = a(t, {
        active: r,
        context: o.current,
        currentCoordinates: n
      });
      if (d) {
        const p = {
          x: 0,
          y: 0
        }, {
          scrollableAncestors: f
        } = o.current;
        for (const h of f) {
          const v = t.code, g = sb(d, n), {
            isTop: b,
            isRight: m,
            isLeft: y,
            isBottom: x,
            maxScroll: w,
            minScroll: S
          } = lb(h), j = YA(h), E = {
            x: Math.min(v === Re.Right ? j.right - j.width / 2 : j.right, Math.max(v === Re.Right ? j.left : j.left + j.width / 2, d.x)),
            y: Math.min(v === Re.Down ? j.bottom - j.height / 2 : j.bottom, Math.max(v === Re.Down ? j.top : j.top + j.height / 2, d.y))
          }, C = v === Re.Right && !m || v === Re.Left && !y, P = v === Re.Down && !x || v === Re.Up && !b;
          if (C && E.x !== d.x) {
            if (v === Re.Right && h.scrollLeft + g.x <= w.x || v === Re.Left && h.scrollLeft + g.x >= S.x) {
              h.scrollBy({
                left: g.x,
                behavior: c
              });
              return;
            }
            p.x = v === Re.Right ? h.scrollLeft - w.x : h.scrollLeft - S.x, h.scrollBy({
              left: -p.x,
              behavior: c
            });
            break;
          } else if (P && E.y !== d.y) {
            if (v === Re.Down && h.scrollTop + g.y <= w.y || v === Re.Up && h.scrollTop + g.y >= S.y) {
              h.scrollBy({
                top: g.y,
                behavior: c
              });
              return;
            }
            p.y = v === Re.Down ? h.scrollTop - w.y : h.scrollTop - S.y, h.scrollBy({
              top: -p.y,
              behavior: c
            });
            break;
          }
        }
        this.handleMove(t, Si(d, p));
      }
    }
  }
  handleMove(t, n) {
    const {
      onMove: r
    } = this.props;
    t.preventDefault(), r(n), this.coordinates = n;
  }
  handleEnd(t) {
    const {
      onEnd: n
    } = this.props;
    t.preventDefault(), this.detach(), n();
  }
  handleCancel(t) {
    const {
      onCancel: n
    } = this.props;
    t.preventDefault(), this.detach(), n();
  }
  detach() {
    this.listeners.removeAll(), this.windowListeners.removeAll();
  }
}
Vp.activators = [{
  eventName: "onKeyDown",
  handler: (e, {
    keyboardCodes: t = hb,
    onActivation: n
  }) => {
    const {
      code: r
    } = e.nativeEvent;
    return t.start.includes(r) ? (e.preventDefault(), n == null || n({
      event: e.nativeEvent
    }), !0) : !1;
  }
}];
function Jh(e) {
  return !!(e && "distance" in e);
}
function Qh(e) {
  return !!(e && "delay" in e);
}
class Hp {
  constructor(t, n, r = v3(t.event.target)) {
    this.props = t, this.events = n, this.autoScrollEnabled = !0, this.activated = !1, this.timeoutId = null;
    const {
      event: o
    } = t, {
      target: s
    } = o;
    this.props = t, this.events = n, this.document = js(s), this.documentListeners = new ri(this.document), this.listeners = new ri(r), this.windowListeners = new ri(eo(s)), this.initialCoordinates = dd(o), this.handleStart = this.handleStart.bind(this), this.handleMove = this.handleMove.bind(this), this.handleEnd = this.handleEnd.bind(this), this.handleCancel = this.handleCancel.bind(this), this.handleKeydown = this.handleKeydown.bind(this), this.removeTextSelection = this.removeTextSelection.bind(this), this.attach();
  }
  attach() {
    const {
      events: t,
      props: {
        options: {
          activationConstraint: n
        }
      }
    } = this;
    if (this.listeners.add(t.move.name, this.handleMove, {
      passive: !1
    }), this.listeners.add(t.end.name, this.handleEnd), this.windowListeners.add(pn.Resize, this.handleCancel), this.windowListeners.add(pn.DragStart, Zh), this.windowListeners.add(pn.VisibilityChange, this.handleCancel), this.windowListeners.add(pn.ContextMenu, Zh), this.documentListeners.add(pn.Keydown, this.handleKeydown), n) {
      if (Jh(n))
        return;
      if (Qh(n)) {
        this.timeoutId = setTimeout(this.handleStart, n.delay);
        return;
      }
    }
    this.handleStart();
  }
  detach() {
    this.listeners.removeAll(), this.windowListeners.removeAll(), setTimeout(this.documentListeners.removeAll, 50), this.timeoutId !== null && (clearTimeout(this.timeoutId), this.timeoutId = null);
  }
  handleStart() {
    const {
      initialCoordinates: t
    } = this, {
      onStart: n
    } = this.props;
    t && (this.activated = !0, this.documentListeners.add(pn.Click, b3, {
      capture: !0
    }), this.removeTextSelection(), this.documentListeners.add(pn.SelectionChange, this.removeTextSelection), n(t));
  }
  handleMove(t) {
    const {
      activated: n,
      initialCoordinates: r,
      props: o
    } = this, {
      onMove: s,
      options: {
        activationConstraint: i
      }
    } = o;
    if (!r)
      return;
    const a = dd(t), c = sb(r, a);
    if (!n && i) {
      if (Qh(i))
        return su(c, i.tolerance) ? this.handleCancel() : void 0;
      if (Jh(i))
        return i.tolerance != null && su(c, i.tolerance) ? this.handleCancel() : su(c, i.distance) ? this.handleStart() : void 0;
    }
    t.cancelable && t.preventDefault(), s(a);
  }
  handleEnd() {
    const {
      onEnd: t
    } = this.props;
    this.detach(), t();
  }
  handleCancel() {
    const {
      onCancel: t
    } = this.props;
    this.detach(), t();
  }
  handleKeydown(t) {
    t.code === Re.Esc && this.handleCancel();
  }
  removeTextSelection() {
    var t;
    (t = this.document.getSelection()) == null || t.removeAllRanges();
  }
}
const x3 = {
  move: {
    name: "pointermove"
  },
  end: {
    name: "pointerup"
  }
};
class Bp extends Hp {
  constructor(t) {
    const {
      event: n
    } = t, r = js(n.target);
    super(t, x3, r);
  }
}
Bp.activators = [{
  eventName: "onPointerDown",
  handler: ({
    nativeEvent: e
  }, {
    onActivation: t
  }) => !e.isPrimary || e.button !== 0 ? !1 : (t == null || t({
    event: e
  }), !0)
}];
const w3 = {
  move: {
    name: "mousemove"
  },
  end: {
    name: "mouseup"
  }
};
var gd;
(function(e) {
  e[e.RightClick = 2] = "RightClick";
})(gd || (gd = {}));
class S3 extends Hp {
  constructor(t) {
    super(t, w3, js(t.event.target));
  }
}
S3.activators = [{
  eventName: "onMouseDown",
  handler: ({
    nativeEvent: e
  }, {
    onActivation: t
  }) => e.button === gd.RightClick ? !1 : (t == null || t({
    event: e
  }), !0)
}];
const iu = {
  move: {
    name: "touchmove"
  },
  end: {
    name: "touchend"
  }
};
class j3 extends Hp {
  constructor(t) {
    super(t, iu);
  }
  static setup() {
    return window.addEventListener(iu.move.name, t, {
      capture: !1,
      passive: !1
    }), function() {
      window.removeEventListener(iu.move.name, t);
    };
    function t() {
    }
  }
}
j3.activators = [{
  eventName: "onTouchStart",
  handler: ({
    nativeEvent: e
  }, {
    onActivation: t
  }) => {
    const {
      touches: n
    } = e;
    return n.length > 1 ? !1 : (t == null || t({
      event: e
    }), !0);
  }
}];
function C3(e, {
  transform: t,
  ...n
}) {
  return e != null && e.length ? e.reduce((r, o) => o({
    transform: r,
    ...n
  }), t) : t;
}
const P3 = [{
  sensor: Bp,
  options: {}
}, {
  sensor: Vp,
  options: {}
}], E3 = {
  current: {}
}, gb = /* @__PURE__ */ De({
  ..._r,
  scaleX: 1,
  scaleY: 1
}), _3 = /* @__PURE__ */ me(function({
  id: t,
  autoScroll: n = !0,
  announcements: r,
  children: o,
  sensors: s = P3,
  collisionDetection: i = JA,
  measuring: a,
  modifiers: c,
  screenReaderInstructions: u = $A,
  ...d
}) {
  var p, f, h, v, g;
  const b = Gr(DA, void 0, RA), [m, y] = b, [x, w] = U(() => ({
    type: null,
    event: null
  })), [S, j] = U(!1), {
    draggable: {
      active: E,
      nodes: C,
      translate: P
    },
    droppable: {
      containers: _
    }
  } = m, O = E ? C[E] : null, k = G({
    initial: null,
    translated: null
  }), z = oe(() => {
    var $t;
    return E != null ? {
      id: E,
      // It's possible for the active node to unmount while dragging
      data: ($t = O == null ? void 0 : O.data) != null ? $t : E3,
      rect: k
    } : null;
  }, [E, O]), F = G(null), [A, T] = U(null), [D, M] = U(null), N = G(d), V = Xi("DndDescribedBy", t), K = oe(() => _.getEnabled(), [_]), {
    layoutRectMap: J,
    recomputeLayouts: ie,
    willRecomputeLayouts: X
  } = r3(K, {
    dragging: S,
    dependencies: [P.x, P.y],
    config: a == null ? void 0 : a.droppable
  }), ne = e3(C, E), fe = D ? dd(D) : null, se = pb(ne, (p = a == null || (f = a.draggable) == null ? void 0 : f.measure) != null ? p : fd), q = ou(ne), ee = G(null), pe = ee.current, ae = G({
    active: null,
    activeNode: ne,
    collisionRect: null,
    droppableRects: J,
    draggableNodes: C,
    draggingNodeRect: null,
    droppableContainers: _,
    over: null,
    scrollableAncestors: [],
    scrollAdjustedTranslate: null,
    translatedRect: null
  }), we = _.getNodeFor((h = ae.current.over) == null ? void 0 : h.id), Ce = ou(ne ? ne.ownerDocument.defaultView : null), ot = ou(ne ? ne.parentElement : null), lt = a3(E ? we ?? ne : null), Et = u3(lt), ut = g3({
    disabled: E == null,
    forceRecompute: X
  }), Ze = (v = ut.rect) != null ? v : se, ln = Ze === se ? zA(se, pe) : _r, ze = C3(c, {
    transform: {
      x: P.x - ln.x,
      y: P.y - ln.y,
      scaleX: 1,
      scaleY: 1
    },
    activatorEvent: D,
    active: z,
    activeNodeRect: q,
    containerNodeRect: ot,
    draggingNodeRect: Ze,
    over: ae.current.over,
    overlayNodeRect: ut.rect,
    scrollableAncestors: lt,
    scrollableAncestorRects: Et,
    windowRect: Ce
  }), st = fe ? Si(fe, P) : null, Pn = s3(lt), _t = Si(ze, Pn), ht = Ze ? Gh(Ze, ze) : null, St = ht ? Gh(ht, Pn) : null, En = z && St ? i({
    active: z,
    collisionRect: St,
    droppableContainers: K
  }) : null, [It, _n] = U(null), no = BA(ze, (g = It == null ? void 0 : It.rect) != null ? g : null, se), ko = it(($t, {
    sensor: cn,
    options: zt
  }) => {
    if (!F.current)
      return;
    const Hn = C[F.current];
    if (!Hn)
      return;
    const un = new cn({
      active: F.current,
      activeNode: Hn,
      event: $t.nativeEvent,
      options: zt,
      // Sensors need to be instantiated with refs for arguments that change over time
      // otherwise they are frozen in time with the stale arguments
      context: ae,
      onStart(dn) {
        const Os = F.current;
        if (!Os)
          return;
        const Ts = C[Os];
        if (!Ts)
          return;
        const {
          onDragStart: Ji
        } = N.current, As = {
          active: {
            id: Os,
            data: Ts.data,
            rect: k
          }
        };
        Us(() => {
          y({
            type: Qe.DragStart,
            initialCoordinates: dn,
            active: Os
          }), w({
            type: Qe.DragStart,
            event: As
          });
        }), Ji == null || Ji(As);
      },
      onMove(dn) {
        y({
          type: Qe.DragMove,
          coordinates: dn
        });
      },
      onEnd: _s(Qe.DragEnd),
      onCancel: _s(Qe.DragCancel)
    });
    Us(() => {
      T(un), M($t.nativeEvent);
    });
    function _s(dn) {
      return async function() {
        const {
          active: Ts,
          over: Ji,
          scrollAdjustedTranslate: As
        } = ae.current;
        let $o = null;
        if (Ts && As) {
          const {
            cancelDrop: Qi
          } = N.current;
          $o = {
            active: Ts,
            delta: As,
            over: Ji
          }, dn === Qe.DragEnd && typeof Qi == "function" && await Promise.resolve(Qi($o)) && (dn = Qe.DragCancel);
        }
        if (F.current = null, Us(() => {
          y({
            type: dn
          }), _n(null), j(!1), T(null), M(null), $o && w({
            type: dn,
            event: $o
          });
        }), $o) {
          const {
            onDragCancel: Qi,
            onDragEnd: tf
          } = N.current, nf = dn === Qe.DragEnd ? tf : Qi;
          nf == null || nf($o);
        }
      };
    }
  }, [y, C]), Mo = it(($t, cn) => (zt, Hn) => {
    const un = zt.nativeEvent;
    // No active draggable
    F.current !== null || // Event has already been captured
    un.dndKit || un.defaultPrevented || $t(zt, cn.options) === !0 && (un.dndKit = {
      capturedBy: cn.sensor
    }, F.current = Hn, ko(zt, cn));
  }, [ko]), Es = t3(s, Mo);
  l3(s), wo(
    () => {
      N.current = d;
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    Object.values(d)
  ), W(() => {
    E != null && j(!0);
  }, [E]), W(() => {
    z || (ee.current = null), z && se && !ee.current && (ee.current = se);
  }, [se, z]), W(() => {
    const {
      onDragMove: $t
    } = N.current, {
      active: cn,
      over: zt
    } = ae.current;
    if (!cn)
      return;
    const Hn = {
      active: cn,
      delta: {
        x: _t.x,
        y: _t.y
      },
      over: zt
    };
    w({
      type: Qe.DragMove,
      event: Hn
    }), $t == null || $t(Hn);
  }, [_t.x, _t.y]), W(
    () => {
      const {
        active: $t,
        droppableContainers: cn,
        scrollAdjustedTranslate: zt
      } = ae.current;
      if (!$t || !F.current || !zt)
        return;
      const {
        onDragOver: Hn
      } = N.current, un = cn.get(En), _s = un && un.rect.current ? {
        id: un.id,
        rect: un.rect.current,
        data: un.data,
        disabled: un.disabled
      } : null, dn = {
        active: $t,
        delta: {
          x: zt.x,
          y: zt.y
        },
        over: _s
      };
      Us(() => {
        _n(_s), w({
          type: Qe.DragOver,
          event: dn
        }), Hn == null || Hn(dn);
      });
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [En]
  ), wo(() => {
    ae.current = {
      active: z,
      activeNode: ne,
      collisionRect: St,
      droppableRects: J,
      draggableNodes: C,
      draggingNodeRect: Ze,
      droppableContainers: _,
      over: It,
      scrollableAncestors: lt,
      scrollAdjustedTranslate: _t,
      translatedRect: ht
    }, k.current = {
      initial: Ze,
      translated: ht
    };
  }, [z, ne, St, C, Ze, J, _, It, lt, _t, ht]), QA({
    ...k0(),
    draggingRect: ht,
    pointerCoordinates: st,
    scrollableAncestors: lt,
    scrollableAncestorRects: Et
  });
  const vc = oe(() => ({
    active: z,
    activeNode: ne,
    activeNodeRect: se,
    activeNodeClientRect: q,
    activatorEvent: D,
    activators: Es,
    ariaDescribedById: {
      draggable: V
    },
    containerNodeRect: ot,
    dispatch: y,
    dragOverlay: ut,
    draggableNodes: C,
    droppableContainers: _,
    droppableRects: J,
    over: It,
    recomputeLayouts: ie,
    scrollableAncestors: lt,
    scrollableAncestorRects: Et,
    willRecomputeLayouts: X,
    windowRect: Ce
  }), [z, ne, q, se, D, Es, ot, ut, y, C, V, _, J, It, ie, lt, Et, X, Ce]);
  return I.createElement(ib.Provider, {
    value: x
  }, I.createElement(ec.Provider, {
    value: vc
  }, I.createElement(gb.Provider, {
    value: no
  }, o)), I.createElement(VA, {
    announcements: r,
    hiddenTextDescribedById: V,
    screenReaderInstructions: u
  }));
  function k0() {
    const $t = (A == null ? void 0 : A.autoScrollEnabled) === !1, cn = typeof n == "object" ? n.enabled === !1 : n === !1, zt = !$t && !cn;
    return typeof n == "object" ? {
      ...n,
      enabled: zt
    } : {
      enabled: zt
    };
  }
}), O3 = /* @__PURE__ */ De(null), eg = "button", T3 = "Droppable";
function A3({
  id: e,
  data: t,
  disabled: n = !1,
  attributes: r
}) {
  const o = Xi(T3), {
    active: s,
    activeNodeRect: i,
    activatorEvent: a,
    ariaDescribedById: c,
    draggableNodes: u,
    droppableRects: d,
    activators: p,
    over: f
  } = Oe(ec), {
    role: h = eg,
    roleDescription: v = "draggable",
    tabIndex: g = 0
  } = r ?? {}, b = (s == null ? void 0 : s.id) === e, m = Oe(b ? gb : O3), [y, x] = Dp(), w = c3(p, e), S = db(t);
  W(
    () => (u[e] = {
      id: e,
      key: o,
      node: y,
      data: S
    }, () => {
      const E = u[e];
      E && E.key === o && delete u[e];
    }),
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [u, e]
  );
  const j = oe(() => ({
    role: h,
    tabIndex: g,
    "aria-pressed": b && h === eg ? !0 : void 0,
    "aria-roledescription": v,
    "aria-describedby": c.draggable
  }), [h, g, b, v, c.draggable]);
  return {
    active: s,
    activeNodeRect: i,
    activatorEvent: a,
    attributes: j,
    droppableRects: d,
    isDragging: b,
    listeners: n ? void 0 : w,
    node: y,
    over: f,
    setNodeRef: x,
    transform: m
  };
}
function L3() {
  return Oe(ec);
}
const k3 = "Droppable";
function M3({
  data: e,
  disabled: t = !1,
  id: n
}) {
  const r = Xi(k3), {
    active: o,
    dispatch: s,
    over: i
  } = Oe(ec), a = G(null), [c, u] = Dp(), d = db(e);
  return wo(
    () => (s({
      type: Qe.RegisterDroppable,
      element: {
        id: n,
        key: r,
        disabled: t,
        node: c,
        rect: a,
        data: d
      }
    }), () => s({
      type: Qe.UnregisterDroppable,
      key: r,
      id: n
    })),
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [n]
  ), W(
    () => {
      s({
        type: Qe.SetDroppableDisabled,
        id: n,
        key: r,
        disabled: t
      });
    },
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [t]
  ), {
    active: o,
    rect: a,
    isOver: (i == null ? void 0 : i.id) === n,
    node: c,
    over: i,
    setNodeRef: u
  };
}
function $3(e, t, n) {
  const r = {
    ...e
  };
  return t.top + e.y <= n.top ? r.y = n.top - t.top : t.bottom + e.y >= n.top + n.height && (r.y = n.top + n.height - t.bottom), t.left + e.x <= n.left ? r.x = n.left - t.left : t.right + e.x >= n.left + n.width && (r.x = n.left + n.width - t.right), r;
}
const N3 = ({
  draggingNodeRect: e,
  transform: t,
  scrollableAncestorRects: n
}) => {
  const r = n[0];
  return !e || !r ? t : $3(t, e, r);
}, R3 = ({
  transform: e
}) => ({
  ...e,
  x: 0
});
function mb(e, t, n) {
  const r = e.slice();
  return r.splice(n < 0 ? r.length + n : n, 0, r.splice(t, 1)[0]), r;
}
function D3(e, t) {
  return e.reduce((n, r, o) => {
    const s = t.get(r);
    return s && (n[o] = s), n;
  }, Array(e.length));
}
function fa(e) {
  return e !== null && e >= 0;
}
const vb = ({
  layoutRects: e,
  activeIndex: t,
  overIndex: n,
  index: r
}) => {
  const o = mb(e, n, t), s = e[r], i = o[r];
  return !i || !s ? null : {
    x: i.offsetLeft - s.offsetLeft,
    y: i.offsetTop - s.offsetTop,
    scaleX: i.width / s.width,
    scaleY: i.height / s.height
  };
}, ha = {
  scaleX: 1,
  scaleY: 1
}, I3 = ({
  activeIndex: e,
  activeNodeRect: t,
  index: n,
  layoutRects: r,
  overIndex: o
}) => {
  var s;
  const i = (s = r[e]) != null ? s : t;
  if (!i)
    return null;
  if (n === e) {
    const c = r[o];
    return c ? {
      x: 0,
      y: e < o ? c.offsetTop + c.height - (i.offsetTop + i.height) : c.offsetTop - i.offsetTop,
      ...ha
    } : null;
  }
  const a = V3(r, n, e);
  return n > e && n <= o ? {
    x: 0,
    y: -i.height - a,
    ...ha
  } : n < e && n >= o ? {
    x: 0,
    y: i.height + a,
    ...ha
  } : {
    x: 0,
    y: 0,
    ...ha
  };
};
function V3(e, t, n) {
  const r = e[t], o = e[t - 1], s = e[t + 1];
  return r ? n < t ? o ? r.offsetTop - (o.offsetTop + o.height) : s ? s.offsetTop - (r.offsetTop + r.height) : 0 : s ? s.offsetTop - (r.offsetTop + r.height) : o ? r.offsetTop - (o.offsetTop + o.height) : 0 : 0;
}
const bb = "Sortable", yb = /* @__PURE__ */ I.createContext({
  activeIndex: -1,
  containerId: bb,
  disableTransforms: !1,
  items: [],
  overIndex: -1,
  useDragOverlay: !1,
  sortedRects: [],
  strategy: vb,
  wasDragging: {
    current: !1
  }
});
function H3({
  children: e,
  id: t,
  items: n,
  strategy: r = vb
}) {
  const {
    active: o,
    dragOverlay: s,
    droppableRects: i,
    over: a,
    recomputeLayouts: c,
    willRecomputeLayouts: u
  } = L3(), d = Xi(bb, t), p = s.rect !== null, f = oe(() => n.map((E) => typeof E == "string" ? E : E.id), [n]), h = o != null, v = G(!1), g = o ? f.indexOf(o.id) : -1, b = g !== -1, m = a ? f.indexOf(a.id) : -1, y = G(f), x = D3(f, i), w = !B3(f, y.current), S = m !== -1 && g === -1 || w;
  wo(() => {
    w && b && !u && c();
  }, [w, b, c, u]), W(() => {
    y.current = f;
  }, [f]), W(() => {
    const E = setTimeout(() => {
      v.current = h;
    }, 100);
    return () => clearTimeout(E);
  }, [h]);
  const j = oe(() => ({
    activeIndex: g,
    containerId: d,
    disableTransforms: S,
    items: f,
    overIndex: m,
    useDragOverlay: p,
    sortedRects: x,
    strategy: r,
    wasDragging: v
  }), [g, d, S, f, m, x, p, r, v]);
  return I.createElement(yb.Provider, {
    value: j
  }, e);
}
function B3(e, t) {
  return e.join() === t.join();
}
const z3 = ({
  id: e,
  items: t,
  activeIndex: n,
  overIndex: r
}) => mb(t, n, r).indexOf(e), F3 = ({
  containerId: e,
  isSorting: t,
  wasDragging: n,
  index: r,
  items: o,
  newIndex: s,
  previousItems: i,
  previousContainerId: a,
  transition: c
}) => !c || !n || i !== o && r === s ? !1 : t ? !0 : s !== r && e === a, U3 = {
  duration: 200,
  easing: "ease"
}, xb = "transform", W3 = /* @__PURE__ */ ji.Transition.toString({
  property: xb,
  duration: 0,
  easing: "linear"
}), G3 = {
  roleDescription: "sortable"
};
function K3({
  disabled: e,
  index: t,
  node: n,
  rect: r
}) {
  const [o, s] = U(null), i = G(t);
  return wo(() => {
    if (!e && t !== i.current && n.current) {
      const a = r.current;
      if (a) {
        const c = nc(n.current), u = {
          x: a.offsetLeft - c.offsetLeft,
          y: a.offsetTop - c.offsetTop,
          scaleX: a.width / c.width,
          scaleY: a.height / c.height
        };
        (u.x || u.y) && s(u);
      }
    }
    t !== i.current && (i.current = t);
  }, [e, t, n, r]), W(() => {
    o && requestAnimationFrame(() => {
      s(null);
    });
  }, [o]), o;
}
function q3({
  animateLayoutChanges: e = F3,
  attributes: t,
  disabled: n,
  data: r,
  getNewIndex: o = z3,
  id: s,
  strategy: i,
  transition: a = U3
}) {
  const {
    items: c,
    containerId: u,
    activeIndex: d,
    disableTransforms: p,
    sortedRects: f,
    overIndex: h,
    useDragOverlay: v,
    strategy: g,
    wasDragging: b
  } = Oe(yb), m = c.indexOf(s), y = oe(() => ({
    sortable: {
      containerId: u,
      index: m,
      items: c
    },
    ...r
  }), [u, r, m, c]), {
    rect: x,
    node: w,
    setNodeRef: S
  } = M3({
    id: s,
    data: y
  }), {
    active: j,
    activeNodeRect: E,
    activatorEvent: C,
    attributes: P,
    setNodeRef: _,
    listeners: O,
    isDragging: k,
    over: z,
    transform: F
  } = A3({
    id: s,
    data: y,
    attributes: {
      ...G3,
      ...t
    },
    disabled: n
  }), A = CA(S, _), T = !!j, D = T && b.current && !p && fa(d) && fa(h), M = !v && k, N = M && D ? F : null, K = D ? N ?? (i ?? g)({
    layoutRects: f,
    activeNodeRect: E,
    activeIndex: d,
    overIndex: h,
    index: m
  }) : null, J = fa(d) && fa(h) ? o({
    id: s,
    items: c,
    activeIndex: d,
    overIndex: h
  }) : m, ie = G(c), X = c !== ie.current, ne = G(J), fe = G(u), se = e({
    active: j,
    containerId: u,
    isDragging: k,
    isSorting: T,
    id: s,
    index: m,
    items: c,
    newIndex: ne.current,
    previousItems: ie.current,
    previousContainerId: fe.current,
    transition: a,
    wasDragging: b.current
  }), q = K3({
    disabled: !se,
    index: m,
    node: w,
    rect: x
  });
  return W(() => {
    T && ne.current !== J && (ne.current = J), u !== fe.current && (fe.current = u), c !== ie.current && (ie.current = c);
  }, [T, J, u, c]), {
    active: j,
    attributes: P,
    activatorEvent: C,
    rect: x,
    index: m,
    isSorting: T,
    isDragging: k,
    listeners: O,
    node: w,
    overIndex: h,
    over: z,
    setNodeRef: A,
    setDroppableNodeRef: S,
    setDraggableNodeRef: _,
    transform: q ?? K,
    transition: ee()
  };
  function ee() {
    if (
      // Temporarily disable transitions for a single frame to set up derived transforms
      q || // Or to prevent items jumping to back to their "new" position when items change
      X && ne.current === m
    )
      return W3;
    if (!(M || !a) && (T || se))
      return ji.Transition.toString({
        ...a,
        property: xb
      });
  }
}
const Y3 = [Re.Down, Re.Right, Re.Up, Re.Left], X3 = (e, {
  context: {
    active: t,
    droppableContainers: n,
    translatedRect: r,
    scrollableAncestors: o
  }
}) => {
  if (Y3.includes(e.code)) {
    if (e.preventDefault(), !t || !r)
      return;
    const i = [];
    n.getEnabled().forEach((c) => {
      if (!c || c != null && c.disabled)
        return;
      const u = c == null ? void 0 : c.node.current;
      if (!u)
        return;
      const d = fd(u), p = {
        ...c,
        rect: {
          current: d
        }
      };
      switch (e.code) {
        case Re.Down:
          r.top + r.height <= d.top && i.push(p);
          break;
        case Re.Up:
          r.top >= d.top + d.height && i.push(p);
          break;
        case Re.Left:
          r.left >= d.left + d.width && i.push(p);
          break;
        case Re.Right:
          r.left + r.width <= d.left && i.push(p);
          break;
      }
    });
    const a = XA({
      active: t,
      collisionRect: r,
      droppableContainers: i
    });
    if (a) {
      var s;
      const c = (s = n.get(a)) == null ? void 0 : s.node.current;
      if (c) {
        const d = Ip(c).some((v, g) => o[g] !== v), p = fd(c), f = d ? {
          x: 0,
          y: 0
        } : {
          x: r.width - p.width,
          y: r.height - p.height
        };
        return {
          x: p.left - f.x,
          y: p.top - f.y
        };
      }
    }
  }
};
function Z3(e) {
  const { id: t, item: n, className: r, select: o, remove: s, renderItem: i, previewStyle: a } = e, { attributes: c, listeners: u, setNodeRef: d, transform: p, transition: f } = q3({ id: t }), h = {
    transform: ji.Transform.toString(p),
    transition: f
  }, v = () => o == null ? void 0 : o(n);
  return /* @__PURE__ */ l.jsx("div", { ref: d, style: h, ...c, children: /* @__PURE__ */ l.jsxs(
    R,
    {
      space: "s",
      onClick: v,
      className: r,
      items: "center",
      nowrap: !0,
      children: [
        /* @__PURE__ */ l.jsx($, { className: L(tt.hover, "cursor-grab"), ...u, children: /* @__PURE__ */ l.jsx(te, { icon: Q.dotsVertical, size: le.sx }) }),
        /* @__PURE__ */ l.jsx($, { grow: !0, className: L("overflow-hidden"), children: /* @__PURE__ */ l.jsxs(R, { children: [
          /* @__PURE__ */ l.jsx($, { grow: !0, className: L("overflow-ellipsis overflow-hidden"), children: i(n) }),
          !!a && /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx("div", { className: L("w-4 h-4 gjs-bg-white", re.b, re.rnd), style: a(n) }) })
        ] }) }),
        /* @__PURE__ */ l.jsx(
          $,
          {
            className: L(tt.click),
            onClick: (g) => {
              gi(g), s == null || s(n);
            },
            children: /* @__PURE__ */ l.jsx(te, { icon: Q.close, size: le.sx })
          }
        )
      ]
    },
    n.getIndex ? n.getIndex() : n.id || n.cid
  ) });
}
const ga = (e) => e.cid ?? e.id;
function pr({
  className: e,
  items: t,
  selected: n,
  children: r,
  title: o,
  titleAdd: s,
  label: i,
  select: a,
  add: c,
  move: u,
  remove: d,
  renderItem: p,
  previewStyle: f
}) {
  const h = m3(
    Xh(Bp),
    Xh(Vp, { coordinateGetter: X3 })
  );
  function v(b) {
    const { active: m, over: y } = b;
    if (m.id !== (y == null ? void 0 : y.id)) {
      const x = t.find((S) => ga(S) === m.id), w = t.findIndex((S) => ga(S) === (y == null ? void 0 : y.id));
      x && (u == null || u(x, w));
    }
  }
  const g = L(re.rnd, H.br, t.length && re.b, t.length && "gjs-mt-1");
  return /* @__PURE__ */ l.jsxs("div", { className: L(e, "w-full"), children: [
    !!(i || c) && /* @__PURE__ */ l.jsxs(R, { items: "center", children: [
      /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(kt, { size: "s", children: i }) }),
      !!c && /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(mt, { title: s, inline: !0, children: /* @__PURE__ */ l.jsx(Xe, { onClick: c, size: "s", children: /* @__PURE__ */ l.jsx(te, { icon: Q.plus, size: le.s }) }) }) })
    ] }),
    /* @__PURE__ */ l.jsx(
      Ar,
      {
        placement: "left",
        size: "s",
        buttonAs: "div",
        title: o,
        classNameBody: "gs-utl-gap-2 gs-utl-flex gs-utl-flex-col",
        open: !!n,
        onClose: () => a == null ? void 0 : a(null),
        handler: /* @__PURE__ */ l.jsx(
          _3,
          {
            sensors: h,
            collisionDetection: HA,
            onDragEnd: v,
            modifiers: [R3, N3],
            children: /* @__PURE__ */ l.jsx(H3, { items: t.map(ga), strategy: I3, children: /* @__PURE__ */ l.jsx("div", { className: g, children: t.map((b, m) => {
              const y = ga(b), x = b === n, w = L(
                "gjs-px-2 gjs-py-2 text-xs",
                H.br,
                m && re.bt,
                !x && H.hBgH2,
                x && H.bgH
              );
              return /* @__PURE__ */ l.jsx(
                Z3,
                {
                  id: y,
                  item: b,
                  className: w,
                  select: a,
                  remove: d,
                  renderItem: p,
                  previewStyle: f
                },
                y
              );
            }) }) })
          }
        ),
        children: r
      }
    )
  ] });
}
const ur = "gs-cmp-file-field";
function Pi({
  className: e,
  value: t,
  label: n,
  btnLabel: r,
  nameLabel: o,
  size: s,
  isContain: i,
  clear: a,
  inputField: c,
  placeholder: u,
  description: d,
  preview: p = 50,
  onChange: f,
  onOpen: h
}) {
  var x;
  const v = (t || "").replace(/^"|"$/gi, ""), g = ((x = v.split("/").pop()) == null ? void 0 : x.split("?")[0]) || "", b = { minWidth: p, minHeight: p }, m = v ? { ...b, backgroundImage: `url("${v}")` } : b, y = Y(
    " gs-utl-w-full gs-utl-bg-checker gs-utl-bg-no-repeat gs-utl-bg-center",
    i ? "gs-utl-bg-contain" : "gs-utl-bg-cover",
    re.b,
    re.rnd,
    H.br
  );
  return /* @__PURE__ */ l.jsxs(R, { className: Y(ur, e, "gs-utl-gap-1"), col: !0, nowrap: !0, children: [
    !!n && /* @__PURE__ */ l.jsx(kt, { className: Y(`${ur}-label`), size: s, m: "", children: n }),
    !!d && /* @__PURE__ */ l.jsx(kt, { className: Y(`${ur}-desc`, H.txtLowEmphasis), size: s, as: "span", m: "", capitalize: !1, children: d }),
    /* @__PURE__ */ l.jsxs(R, { className: Y(`${ur}-content gs-utl-gap-1`, H.bg), items: "center", nowrap: !0, children: [
      /* @__PURE__ */ l.jsx($, { className: Y(`${ur}-preview`), children: /* @__PURE__ */ l.jsx("div", { className: y, style: m }) }),
      /* @__PURE__ */ l.jsxs($, { className: Y(`${ur}-fields gs-utl-overflow-hidden`), grow: !0, children: [
        g && o !== !1 && /* @__PURE__ */ l.jsx(
          kt,
          {
            className: Y(`${ur}-name`, "gs-utl-mb-2", tt.txtEllips),
            as: "div",
            size: s,
            capitalize: !1,
            children: g
          }
        ),
        /* @__PURE__ */ l.jsxs(R, { className: Y(`${ur}-buttons`), space: "s", nowrap: !0, children: [
          /* @__PURE__ */ l.jsx(Xe, { onClick: () => h == null ? void 0 : h(t), size: s, type: "button", block: !0, full: !0, children: r || "Select image" }),
          !!t && a && /* @__PURE__ */ l.jsx(
            Bt,
            {
              onClick: () => f == null ? void 0 : f(""),
              title: a.tooltip,
              size: s,
              icon: { icon: Q.close, size: le.s },
              type: "button",
              block: !0
            }
          )
        ] })
      ] })
    ] }),
    c && /* @__PURE__ */ l.jsx(
      dt,
      {
        className: Y(`${ur}-input`),
        value: v,
        onChange: f,
        size: s,
        placeholder: u
      }
    )
  ] });
}
function al(e) {
  return e.isFull() || ["slider", "composite", "stack", "file"].includes(e.getType());
}
function J3(e) {
  return ["composite", "stack"].includes(e.getType());
}
function ll({ property: e }) {
  switch (e.getType()) {
    case "number":
    case "slider":
    case "integer":
      return /* @__PURE__ */ l.jsx(Ae, { ...Ke(e) });
    case "color":
      return /* @__PURE__ */ l.jsx(Er, { ...Or(e) });
    case "select":
      return /* @__PURE__ */ l.jsx(_e, { ...Ve(e) });
    case "radio":
      return /* @__PURE__ */ l.jsx(Vt, { ...Ve(e) });
    case "file":
      return /* @__PURE__ */ l.jsx(Pi, { ...mL(e) });
    case "composite":
      return /* @__PURE__ */ l.jsx(
        Gt,
        {
          property: e,
          corners: e.get("corners"),
          generic: e.get("generic")
        }
      );
    case "stack":
      return /* @__PURE__ */ l.jsx(pr, { ...Nr(e), children: e.getProperties().map((t) => /* @__PURE__ */ l.jsx(de, { property: t, className: B(al(t) && "col-span-full"), children: /* @__PURE__ */ l.jsx(ll, { property: t }) }, t.getId())) });
    default:
      return /* @__PURE__ */ l.jsx(dt, { ...Or(e) });
  }
}
function Q3({ sector: e }) {
  const t = e.getProperties().filter((n) => n.isVisible());
  return /* @__PURE__ */ l.jsx("div", { className: B("grid grid-cols-2 gap-2"), children: t.map(
    (n) => J3(n) ? /* @__PURE__ */ l.jsx("div", { className: B(al(n) && "col-span-full"), children: /* @__PURE__ */ l.jsx(ll, { property: n }) }, n.getId()) : /* @__PURE__ */ l.jsx(de, { property: n, className: B(al(n) && "col-span-full"), children: /* @__PURE__ */ l.jsx(ll, { property: n }) }, n.getId())
  ) });
}
const eL = "gs-cmp-sector-row";
function ge({ className: e, children: t, bottom: n, separator: r, separatorTop: o, property: s, ...i }) {
  const a = /* @__PURE__ */ l.jsx("div", { className: L("gjs-mb-2 -gjs-ml-2 -gjs-mr-2", re.bb, H.br) }), c = L(eL, e, "w-full gs-utl-gap-2", n), u = (Array.isArray(s) ? s : [s]).filter(Boolean);
  return (u.length ? u.some((p) => p.isVisible()) : !0) ? /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
    o && a,
    /* @__PURE__ */ l.jsx(R, { className: c, nowrap: !0, ...i, children: t }),
    r && a
  ] }) : null;
}
function Hs(e, t, n = {}) {
  const r = e.getType(), { compact: o = !1 } = n, s = e.getParent(), i = e.getDefaultValue();
  if (r === "select") {
    const c = { property: s.getName() };
    return /* @__PURE__ */ l.jsx(
      _e,
      {
        ...Ve(e, c),
        ...t ? {
          value: t.same ? e.getValue({ noDefault: !0 }) : "",
          emptyState: t.same ? e.getOptionLabel(i, c) || i : "Custom",
          onChange: (u) => t.all.map((d) => d.upValue(u))
        } : {}
      }
    );
  } else
    return r === "color" ? /* @__PURE__ */ l.jsx(
      Er,
      {
        ...Or(e),
        ...t ? {
          value: t.same ? e.getValue({ noDefault: !0 }) : "",
          placeholder: t.same ? i : "Custom",
          onChange: (a, c) => t.all.map((u) => u.upValue(a, { partial: c }))
        } : {}
      }
    ) : /* @__PURE__ */ l.jsx(
      Ae,
      {
        ...Ke(e),
        ...o ? { pan: e.getLabel()[0] } : {},
        ...t ? {
          value: t.same ? e.getValue({ noDefault: !0 }) : "",
          valueUnit: t.same ? e.getUnit() : "",
          placeholder: t.same ? i : "Custom",
          onChange: (a, c) => t.all.map((u) => u.upValue(a, { partial: c })),
          onChangeUnit: (a) => t.all.map((c) => c.upUnit(a))
        } : {}
      }
    );
}
function Gt({ property: e, corners: t, compact: n, generic: r, children: o, options: s }) {
  const i = {
    id: "custom",
    label: /* @__PURE__ */ l.jsx(te, { icon: Q.borderStyle, size: le.s }),
    title: "Custom"
  }, a = [
    { id: "all", label: /* @__PURE__ */ l.jsx(te, { icon: Q.borderAllVariant, size: le.s }), title: "All" },
    i
  ], [c, u] = U(null), d = e.isDetached(), p = e.getProperties(), f = p.length, [h, v, g, b] = p, m = h.getFullValue(), x = p.map((F) => F.getFullValue()).every((F) => F === m), w = c !== null ? c : x || s ? "all" : i.id, S = s ? [...s, i] : [], j = e.getFullValue(), E = S.some((F) => F.id === j), C = w === i.id || (s ? !E : !1) || !!r, P = /* @__PURE__ */ l.jsx(de, { property: n ? null : h, shallow: !d, children: Hs(h, null, { compact: n }) }), _ = /* @__PURE__ */ l.jsx(de, { property: n ? null : v, shallow: !d, children: Hs(v, null, { compact: n }) }), O = !!g && /* @__PURE__ */ l.jsx(de, { property: n ? null : g, shallow: !d, children: Hs(g, null, { compact: n }) }), k = !!b && /* @__PURE__ */ l.jsx(de, { property: n ? null : b, shallow: !d, children: Hs(b, null, { compact: n }) }), z = n ? { label: e.getLabel() } : { property: e };
  return e != null && e.isVisible() ? /* @__PURE__ */ l.jsxs(R, { className: L("w-full gs-utl-gap-2"), col: !0, nowrap: !0, children: [
    /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(de, { ...z, children: !r && /* @__PURE__ */ l.jsx(ge, { bottom: "0", children: o !== void 0 ? o : s ? /* @__PURE__ */ l.jsx(l.Fragment, { children: /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(
      Vt,
      {
        size: "s",
        options: S,
        value: C ? i.id : j,
        onChange: (F) => {
          F === i.id ? u(F) : (e.upValue(F), u(""));
        }
      }
    ) }) }) : /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
      /* @__PURE__ */ l.jsx($, { grow: !0, children: Hs(h, { same: x, all: p }) }),
      /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(Vt, { size: "s", options: a, value: w, onChange: u }) })
    ] }) }) }) }),
    C && /* @__PURE__ */ l.jsx(ge, { col: !0, className: L("gjs-px-2 gjs-py-1", H.bgH2, re.rnd, re.b, H.br), children: r ? /* @__PURE__ */ l.jsx("div", { className: L("grid grid-cols-2 gap-2"), children: p.map((F) => /* @__PURE__ */ l.jsx(
      de,
      {
        property: F,
        shallow: !d,
        className: L(al(F) && "col-span-full"),
        children: /* @__PURE__ */ l.jsx(ll, { property: F })
      },
      F.getId()
    )) }) : f === 2 ? /* @__PURE__ */ l.jsx(l.Fragment, { children: /* @__PURE__ */ l.jsxs(R, { space: "s", children: [
      /* @__PURE__ */ l.jsx($, { grow: !0, children: P }),
      /* @__PURE__ */ l.jsx($, { grow: !0, children: _ })
    ] }) }) : f === 3 ? /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
      /* @__PURE__ */ l.jsxs(R, { space: "s", children: [
        /* @__PURE__ */ l.jsx($, { grow: !0, children: P }),
        /* @__PURE__ */ l.jsx($, { grow: !0, children: _ })
      ] }),
      /* @__PURE__ */ l.jsx(R, { space: "s", children: /* @__PURE__ */ l.jsx($, { grow: !0, children: O }) })
    ] }) : t ? /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
      /* @__PURE__ */ l.jsxs(R, { space: "s", children: [
        /* @__PURE__ */ l.jsx($, { grow: !0, children: P }),
        /* @__PURE__ */ l.jsx($, { grow: !0, children: _ })
      ] }),
      /* @__PURE__ */ l.jsxs(R, { space: "s", children: [
        /* @__PURE__ */ l.jsx($, { grow: !0, children: k }),
        /* @__PURE__ */ l.jsx($, { grow: !0, children: O })
      ] })
    ] }) : /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
      /* @__PURE__ */ l.jsx(R, { className: L("gs-utl-w-1/2 gjs-m-auto"), children: P }),
      /* @__PURE__ */ l.jsxs(R, { space: "s", children: [
        /* @__PURE__ */ l.jsx($, { grow: !0, children: k }),
        /* @__PURE__ */ l.jsx($, { grow: !0, children: _ })
      ] }),
      /* @__PURE__ */ l.jsx(R, { className: L("gs-utl-w-1/2 gjs-m-auto"), children: O })
    ] }) })
  ] }) : null;
}
function tL({ sector: e }) {
  const t = e.getProperty("border-radius");
  return /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
    /* @__PURE__ */ l.jsx(Gt, { property: t, corners: !0 }),
    /* @__PURE__ */ l.jsx(Gt, { property: e.getProperty("border-width") }),
    /* @__PURE__ */ l.jsx(Gt, { property: e.getProperty("border-style") }),
    /* @__PURE__ */ l.jsx(Gt, { property: e.getProperty("border-color") })
  ] });
}
const oo = (e) => Jl({ value: parseFloat(e), min: -3, max: 3 }), au = (e, t = "filter") => {
  const n = e.getProperty(`${t}-value`), r = e.getProperty(`${t}-name`).getOption() || {}, o = r.units || [], s = n.getUnit(), i = SA(s, o) ? s : o[0];
  return {
    ...Ke(n),
    units: o,
    valueUnit: i,
    onChange: (a, c) => {
      n.upValue(a, {
        partial: c,
        units: o,
        min: r.min,
        max: r.max
      });
    }
  };
}, tg = (e, t) => {
  const n = e.getProperty(`${t}-name`), r = e.getProperty(`${t}-value`);
  return {
    ...Ve(n),
    onChange: (o) => {
      n.upValue(o), r.upValue("");
    }
  };
}, nL = {
  "text-shadow-h": "1px",
  "text-shadow-v": "1px",
  "text-shadow-blur": "5px"
};
function rL({ sector: e }) {
  const t = e.getProperty("box-shadow"), n = e.getProperty("text-shadow"), r = e.getProperty("filter"), o = e.getProperty("backdrop-filter"), s = e.getProperty("transition"), i = e.getProperty("transform"), a = e.getProperty("perspective-origin"), c = e.getProperty("backface-visibility"), u = e.getProperty("perspective"), d = e.getProperty("transform-style"), p = e.getProperty("opacity"), f = e.getProperty("mix-blend-mode"), h = e.getProperty("cursor"), v = (b) => {
    const {
      boxShadowH: m,
      boxShadowV: y,
      boxShadowBlur: x,
      boxShadowColor: w,
      boxShadowSpread: S,
      boxShadowType: j
    } = b.getValues({ camelCase: !0 }), E = oo(m), C = oo(y), P = oo(x), _ = oo(S), O = `${E}px ${C}px ${P}px ${_}px ${w} ${j}`.trim();
    return /* @__PURE__ */ l.jsxs(R, { space: "s", items: "center", children: [
      /* @__PURE__ */ l.jsxs($, { grow: !0, children: [
        m,
        " ",
        y,
        " ",
        x,
        " ",
        S
      ] }),
      /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx("div", { className: L("w-4 h-4 gjs-bg-white", re.b, re.rnd), style: { boxShadow: O } }) })
    ] });
  }, g = (b) => {
    const {
      textShadowH: m,
      textShadowV: y,
      textShadowBlur: x,
      textShadowColor: w
    } = b.getValues({ camelCase: !0 }), S = oo(m), j = oo(y), E = oo(x), C = `${S}px ${j}px ${E}px ${w}`.trim();
    return /* @__PURE__ */ l.jsxs(R, { space: "s", items: "center", children: [
      /* @__PURE__ */ l.jsxs($, { grow: !0, children: [
        m,
        " ",
        y,
        " ",
        x
      ] }),
      /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx("div", { className: L("w-4 h-4 gjs-bg-white", re.b, re.rnd), style: { boxShadow: C } }) })
    ] });
  };
  return /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
    /* @__PURE__ */ l.jsxs(ge, { property: [p, f], children: [
      /* @__PURE__ */ l.jsx(de, { property: p, children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(p) }) }),
      /* @__PURE__ */ l.jsx(de, { property: f, children: /* @__PURE__ */ l.jsx(_e, { ...Ve(f) }) })
    ] }),
    /* @__PURE__ */ l.jsx(ge, { property: h, separator: !0, children: /* @__PURE__ */ l.jsx(de, { property: h, children: /* @__PURE__ */ l.jsx(_e, { ...Ve(h) }) }) }),
    /* @__PURE__ */ l.jsx(ge, { property: t, separator: !0, children: /* @__PURE__ */ l.jsxs(pr, { ...Nr(t), renderItem: v, children: [
      /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(Vt, { ...Ve(t.getProperty("box-shadow-type")) }) }),
      /* @__PURE__ */ l.jsxs(ge, { children: [
        /* @__PURE__ */ l.jsx(de, { label: "X offset", children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(t.getProperty("box-shadow-h")) }) }),
        /* @__PURE__ */ l.jsx(de, { label: "Y offset", children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(t.getProperty("box-shadow-v")) }) })
      ] }),
      /* @__PURE__ */ l.jsxs(ge, { children: [
        /* @__PURE__ */ l.jsx(de, { label: "Blur", children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(t.getProperty("box-shadow-blur")) }) }),
        /* @__PURE__ */ l.jsx(de, { label: "Spread", children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(t.getProperty("box-shadow-spread")) }) })
      ] }),
      /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(de, { label: "Color", children: /* @__PURE__ */ l.jsx(Er, { ...Or(t.getProperty("box-shadow-color")) }) }) })
    ] }) }),
    /* @__PURE__ */ l.jsx(ge, { property: n, separator: !0, children: /* @__PURE__ */ l.jsxs(pr, { ...Nr(n, nL), renderItem: g, children: [
      /* @__PURE__ */ l.jsxs(ge, { children: [
        /* @__PURE__ */ l.jsx(de, { label: "X offset", children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(n.getProperty("text-shadow-h")) }) }),
        /* @__PURE__ */ l.jsx(de, { label: "Y offset", children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(n.getProperty("text-shadow-v")) }) })
      ] }),
      /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(de, { label: "Blur", children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(n.getProperty("text-shadow-blur")) }) }) }),
      /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(de, { label: "Color", children: /* @__PURE__ */ l.jsx(Er, { ...Or(n.getProperty("text-shadow-color")) }) }) })
    ] }) }),
    /* @__PURE__ */ l.jsx(ge, { property: r, separator: !0, children: /* @__PURE__ */ l.jsx(pr, { ...Nr(r, { "filter-name": "blur", "filter-value": "3px" }), children: /* @__PURE__ */ l.jsxs(ge, { children: [
      /* @__PURE__ */ l.jsx(de, { label: "Type", children: /* @__PURE__ */ l.jsx(_e, { ...tg(r, "filter") }) }),
      /* @__PURE__ */ l.jsx(de, { label: "Value", children: /* @__PURE__ */ l.jsx(Ae, { ...au(r) }) })
    ] }) }) }),
    /* @__PURE__ */ l.jsx(ge, { property: o, separator: !0, children: /* @__PURE__ */ l.jsx(
      pr,
      {
        ...Nr(o, { "backdrop-filter-name": "blur", "backdrop-filter-value": "3px" }),
        children: /* @__PURE__ */ l.jsxs(ge, { children: [
          /* @__PURE__ */ l.jsx(de, { label: "Type", children: /* @__PURE__ */ l.jsx(_e, { ...Ve(o.getProperty("backdrop-filter-name")) }) }),
          /* @__PURE__ */ l.jsx(de, { label: "Value", children: /* @__PURE__ */ l.jsx(Ae, { ...au(o, "backdrop-filter") }) })
        ] })
      }
    ) }),
    /* @__PURE__ */ l.jsx(ge, { property: s, separator: !0, children: /* @__PURE__ */ l.jsxs(pr, { ...Nr(s), children: [
      /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(de, { label: "Type", children: /* @__PURE__ */ l.jsx(_e, { ...Ve(s.getProperty("transition-property")) }) }) }),
      /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(de, { label: "Easing", children: /* @__PURE__ */ l.jsx(
        _e,
        {
          ...Ve(s.getProperty("transition-timing-function"))
        }
      ) }) }),
      /* @__PURE__ */ l.jsxs(ge, { children: [
        /* @__PURE__ */ l.jsx(de, { label: "Duration", children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(s.getProperty("transition-duration")) }) }),
        /* @__PURE__ */ l.jsx(de, { label: "Delay", children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(s.getProperty("transition-delay")) }) })
      ] })
    ] }) }),
    /* @__PURE__ */ l.jsx(ge, { property: i, separator: !0, children: /* @__PURE__ */ l.jsx(pr, { ...Nr(i), children: /* @__PURE__ */ l.jsxs(ge, { children: [
      /* @__PURE__ */ l.jsx(de, { label: "Type", children: /* @__PURE__ */ l.jsx(_e, { ...tg(i, "transform") }) }),
      /* @__PURE__ */ l.jsx(de, { label: "Value", children: /* @__PURE__ */ l.jsx(Ae, { ...au(i, "transform") }) })
    ] }) }) }),
    /* @__PURE__ */ l.jsx(Gt, { property: e.getProperty("transform-origin") }),
    /* @__PURE__ */ l.jsx(Gt, { property: e.getProperty("overflow") }),
    /* @__PURE__ */ l.jsx(ge, { property: c, children: /* @__PURE__ */ l.jsx(de, { property: c, children: /* @__PURE__ */ l.jsx(Vt, { ...Ve(c) }) }) }),
    /* @__PURE__ */ l.jsx(ge, { property: [u, d, a], separatorTop: !0, children: "Children transform" }),
    /* @__PURE__ */ l.jsxs(ge, { property: [u, d], children: [
      /* @__PURE__ */ l.jsx(de, { property: u, children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(u) }) }),
      /* @__PURE__ */ l.jsx(de, { property: d, children: /* @__PURE__ */ l.jsx(Vt, { ...Ve(d) }) })
    ] }),
    /* @__PURE__ */ l.jsx(Gt, { property: a })
  ] });
}
function oL(e, t) {
  return e.indexOf(t) >= 0;
}
const nt = le.s, ma = "M6 6v12h13V6H6zm0 13v5H5V0h1v5h13c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H6zm6-14h1v14h-1V5z", va = "M6 6v12h13V6H6zm0-1h13c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H6a1 1 0 01-1-1V6c0-.6.4-1 1-1zm6-5h1v24h-1V0z", ba = "M6 6v12h13V6H6zm13-1V0h1v24h-1v-5H6a1 1 0 01-1-1V6c0-.6.4-1 1-1h13zm-7 0h1v14h-1V5z", ng = "M2 6v12h6V6H2zm0 13v5H1V0h1v5h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H2zM16 6v12h6V6h-6zm6-1V0h1v24h-1v-5h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1h6z", rg = "M11 0h1v24h-1V0zM1 6h6v12H1V6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H1a1 1 0 01-1-1V6c0-.6.4-1 1-1zm15 1h6v12h-6V6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1z", sL = "M3 6v12h6V6H3zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H3a1 1 0 01-1-1V6c0-.6.4-1 1-1zM0 0h1v24H0V0zm14 6v12h6V6h-6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1zm8-5h1v24h-1V0zM11 0h1v24h-1V0z", lu = "M15 19H9V6h6v13zM8 6v13H0v1h24v-1h-8V6h8V5H0v1h8z";
function iL({ sector: e }) {
  const { editor: t } = ve(), n = Me(), [r, o] = U({}), [s, i] = U({}), a = e.getProperty("display"), c = e.getProperty("flex-direction"), u = e.getProperty("justify-content"), d = e.getProperty("align-items"), p = e.getProperty("flex-wrap"), f = e.getProperty("align-content"), h = e.getProperty("align-self"), v = e.getProperty("order"), g = (k) => n.t(`styleManager.layout.${k}`), b = a.getValue(), m = b === "flex", y = (s.display || "").indexOf("flex") >= 0, x = c.getValue(), w = x.indexOf("reverse") >= 0, S = !oL(["column", "column-reverse"], x), j = [
    { id: "row", label: /* @__PURE__ */ l.jsx(te, { icon: Q.arrowRight, size: le.sx }), title: g("direction.title.row") },
    {
      id: "row-reverse",
      label: /* @__PURE__ */ l.jsx(te, { icon: Q.arrowRight, size: nt, horizontal: !0 }),
      title: g("direction.title.row-reverse")
    },
    {
      id: "column",
      label: /* @__PURE__ */ l.jsx(te, { icon: Q.arrowDown, size: le.sx }),
      title: g("direction.title.column")
    },
    {
      id: "column-reverse",
      label: /* @__PURE__ */ l.jsx(te, { icon: Q.arrowDown, size: nt, vertical: !0 }),
      title: g("direction.title.column-reverse")
    }
  ], E = [
    {
      id: "flex-start",
      title: "Start",
      label: /* @__PURE__ */ l.jsx(
        te,
        {
          icon: ma,
          size: nt,
          rotate: S ? 0 : 90,
          horizontal: S && w,
          vertical: !S && w
        }
      )
    },
    { id: "center", title: "Center", label: /* @__PURE__ */ l.jsx(te, { icon: va, size: nt, rotate: S ? 0 : 90 }) },
    {
      id: "flex-end",
      title: "End",
      label: /* @__PURE__ */ l.jsx(
        te,
        {
          icon: ba,
          size: nt,
          rotate: S ? 0 : 90,
          horizontal: S && w,
          vertical: !S && w
        }
      )
    },
    {
      id: "space-between",
      title: "Space between",
      label: /* @__PURE__ */ l.jsx(te, { icon: ng, size: nt, rotate: S ? 0 : 90 })
    },
    {
      id: "space-around",
      title: "Space around",
      label: /* @__PURE__ */ l.jsx(te, { icon: rg, size: nt, rotate: S ? 0 : 90 })
    },
    {
      id: "space-evenly",
      title: "Space evenly",
      label: /* @__PURE__ */ l.jsx(te, { icon: sL, size: nt, rotate: S ? 0 : 90 })
    }
  ], C = [
    {
      id: "stretch",
      title: "Stretch",
      label: /* @__PURE__ */ l.jsx(te, { icon: lu, size: nt, rotate: S ? 0 : 90 })
    },
    { id: "flex-start", title: "Start", label: /* @__PURE__ */ l.jsx(te, { icon: ma, size: nt, rotate: S ? 90 : 0 }) },
    { id: "center", title: "Center", label: /* @__PURE__ */ l.jsx(te, { icon: va, size: nt, rotate: S ? 90 : 0 }) },
    { id: "flex-end", title: "End", label: /* @__PURE__ */ l.jsx(te, { icon: ba, size: nt, rotate: S ? 90 : 0 }) }
  ], P = [
    {
      id: "flex-start",
      title: "Start",
      label: /* @__PURE__ */ l.jsx(
        te,
        {
          icon: ma,
          size: nt,
          rotate: S ? 90 : 0,
          horizontal: S && w,
          vertical: !S && w
        }
      )
    },
    { id: "center", title: "Center", label: /* @__PURE__ */ l.jsx(te, { icon: va, size: nt, rotate: S ? 90 : 0 }) },
    {
      id: "flex-end",
      title: "End",
      label: /* @__PURE__ */ l.jsx(
        te,
        {
          icon: ba,
          size: nt,
          rotate: S ? 90 : 0,
          horizontal: S && w,
          vertical: !S && w
        }
      )
    },
    {
      id: "space-between",
      title: "Space between",
      label: /* @__PURE__ */ l.jsx(te, { icon: ng, size: nt, rotate: S ? 90 : 0 })
    },
    {
      id: "space-around",
      title: "Space around",
      label: /* @__PURE__ */ l.jsx(te, { icon: rg, size: nt, rotate: S ? 90 : 0 })
    },
    { id: "stretch", title: "Stretch", label: /* @__PURE__ */ l.jsx(te, { icon: lu, size: nt, rotate: S ? 0 : 90 }) }
  ], _ = [
    { id: "auto", title: "Auto", label: /* @__PURE__ */ l.jsx(te, { icon: Q.close, size: nt }) },
    { id: "flex-start", title: "Start", label: /* @__PURE__ */ l.jsx(te, { icon: ma, size: nt, rotate: 90 }) },
    { id: "center", title: "Center", label: /* @__PURE__ */ l.jsx(te, { icon: va, size: nt, rotate: 90 }) },
    { id: "flex-end", title: "End", label: /* @__PURE__ */ l.jsx(te, { icon: ba, size: nt, rotate: 90 }) },
    { id: "stretch", title: "Stretch", label: /* @__PURE__ */ l.jsx(te, { icon: lu, size: nt, rotate: 0 }) }
  ], O = [
    { id: "0 0 auto", label: /* @__PURE__ */ l.jsx(te, { icon: Q.close, size: nt }), title: "Auto" },
    // IconNames.formatVerticalAlignCenter
    {
      id: "1 1 0%",
      label: /* @__PURE__ */ l.jsx(te, { icon: Q.unfoldMoreHorizontal, size: nt, rotate: 90 }),
      title: "Fill container"
    },
    {
      id: "0 1 auto",
      label: /* @__PURE__ */ l.jsx(te, { icon: Q.unfoldLessHorizontal, size: nt, rotate: 90 }),
      title: "Hug contents"
    }
  ];
  return W(() => {
    if (!t)
      return () => {
      };
    const { Styles: k } = t, z = () => {
      const A = t.getSelected();
      let T = {}, D = {};
      if (A) {
        const M = A.getEl();
        if (M) {
          T = window.getComputedStyle(M);
          const N = M.parentElement;
          N && (D = window.getComputedStyle(N));
        }
      }
      o(T), i(D);
    }, F = k.events.target;
    return t.on(F, z), z(), () => t.off(F, z);
  }, [t]), /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
    /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(de, { property: a, tooltip: g(`display.tips.${b}`), row: !0, children: /* @__PURE__ */ l.jsx(_e, { ...Ve(a) }) }) }),
    m && /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
      /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(de, { property: c, children: /* @__PURE__ */ l.jsx(Vt, { ...Ve(c), options: j }) }) }),
      /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(de, { property: u, children: /* @__PURE__ */ l.jsx(Vt, { ...Ve(u), options: E }) }) }),
      /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(de, { property: d, children: /* @__PURE__ */ l.jsx(Vt, { ...Ve(d), options: C }) }) }),
      /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(Gt, { property: e.getProperty("gap") }) }),
      /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(de, { property: p, row: !0, children: /* @__PURE__ */ l.jsx(_e, { ...Ve(p) }) }) }),
      p.getValue() !== "nowrap" && /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(de, { property: f, children: /* @__PURE__ */ l.jsx(Vt, { ...Ve(f), options: P }) }) })
    ] }),
    y && /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
      /* @__PURE__ */ l.jsx(ge, { separatorTop: !0, children: g("flexChild") }),
      /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(Gt, { property: e.getProperty("flex"), options: O }) }),
      /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(de, { property: h, children: /* @__PURE__ */ l.jsx(Vt, { ...Ve(h), options: _ }) }) }),
      /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(de, { property: v, row: !0, children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(v) }) }) })
    ] })
  ] });
}
const aL = [
  "topLeft",
  "topRight",
  "bottomLeft",
  "bottomRight",
  "left",
  "right",
  "bottom",
  "top",
  "full"
];
function lL({ sector: e }) {
  var f;
  const t = Me(), n = e.getProperty("position"), r = n.getValue(), o = e.getProperty("top"), s = e.getProperty("right"), i = e.getProperty("bottom"), a = e.getProperty("left"), c = (h) => t.t(`styleManager.position.${h}`), u = aL.map((h) => ({ id: h, label: c(`presets.options.${h}`) })), d = ["absolute", "fixed"].includes(r), p = (h) => {
    let v = "auto", g = "auto", b = "auto", m = "auto";
    switch (h) {
      case "topLeft":
        v = "0%", m = "0%";
        break;
      case "topRight":
        v = "0%", g = "0%";
        break;
      case "bottomLeft":
        b = "0%", m = "0%";
        break;
      case "bottomRight":
        b = "0%", g = "0%";
        break;
      case "left":
        v = "0%", b = "0%", m = "0%";
        break;
      case "right":
        v = "0%", b = "0%", g = "0%";
        break;
      case "bottom":
        m = "0%", b = "0%", g = "0%";
        break;
      case "top":
        m = "0%", v = "0%", g = "0%";
        break;
      case "full":
        m = "0%", v = "0%", g = "0%", b = "0%";
        break;
    }
    o.upValue(v), s.upValue(g), i.upValue(b), a.upValue(m);
  };
  return /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
    /* @__PURE__ */ l.jsxs(ge, { children: [
      /* @__PURE__ */ l.jsx(de, { property: n, tooltip: c(`tips.${(f = n.getOption()) == null ? void 0 : f.id}`), row: !0, children: /* @__PURE__ */ l.jsx(_e, { ...Ve(n) }) }),
      d && /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(mt, { title: c("presets.title"), children: /* @__PURE__ */ l.jsx(_e, { options: u, onChange: p, emptyState: "P", size: "s", caret: "", value: !0 }) }) })
    ] }),
    r !== "static" && /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
      /* @__PURE__ */ l.jsxs(ge, { col: !0, children: [
        /* @__PURE__ */ l.jsx(R, { className: L("gs-utl-w-1/2 gjs-m-auto"), children: /* @__PURE__ */ l.jsx(de, { property: o, children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(o) }) }) }),
        /* @__PURE__ */ l.jsxs(R, { space: "s", children: [
          /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(de, { property: a, children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(a) }) }) }),
          /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(de, { property: s, children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(s) }) }) })
        ] }),
        /* @__PURE__ */ l.jsx(R, { className: L("gs-utl-w-1/2 gjs-m-auto"), children: /* @__PURE__ */ l.jsx(de, { property: i, children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(i) }) }) })
      ] }),
      /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(de, { property: e.getProperty("z-index"), children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(e.getProperty("z-index")) }) }) })
    ] })
  ] });
}
function cL({ sector: e }) {
  const t = e.getProperty("width"), n = e.getProperty("min-width"), r = e.getProperty("max-width"), o = e.getProperty("height"), s = e.getProperty("min-height"), i = e.getProperty("max-height");
  return /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
    /* @__PURE__ */ l.jsxs(ge, { property: [t, o], children: [
      /* @__PURE__ */ l.jsx(de, { property: t, children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(t) }) }),
      /* @__PURE__ */ l.jsx(de, { property: o, children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(o) }) })
    ] }),
    /* @__PURE__ */ l.jsxs(ge, { property: [n, s], children: [
      /* @__PURE__ */ l.jsx(de, { property: n, children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(n) }) }),
      /* @__PURE__ */ l.jsx(de, { property: s, children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(s) }) })
    ] }),
    /* @__PURE__ */ l.jsxs(ge, { property: [r, i], children: [
      /* @__PURE__ */ l.jsx(de, { property: r, children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(r) }) }),
      /* @__PURE__ */ l.jsx(de, { property: i, children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(i) }) })
    ] })
  ] });
}
function uL({ sector: e }) {
  return /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
    /* @__PURE__ */ l.jsx(Gt, { property: e.getProperty("padding") }),
    /* @__PURE__ */ l.jsx(Gt, { property: e.getProperty("margin") })
  ] });
}
function dL({ sector: e }) {
  const t = e.getProperty("font-family"), n = e.getProperty("color"), r = e.getProperty("font-size"), o = e.getProperty("font-weight"), s = e.getProperty("line-height"), i = e.getProperty("letter-spacing"), a = e.getProperty("text-align"), c = e.getProperty("vertical-align"), u = e.getProperty("text-decoration"), d = e.getProperty("text-transform"), p = e.getProperty("direction"), f = e.getProperty("white-space");
  return /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
    !!t && /* @__PURE__ */ l.jsx(ge, { property: t, children: /* @__PURE__ */ l.jsx(de, { property: t, children: /* @__PURE__ */ l.jsx(_e, { ...Ve(t) }) }) }),
    !!n && /* @__PURE__ */ l.jsx(ge, { property: n, children: /* @__PURE__ */ l.jsx(de, { property: n, children: /* @__PURE__ */ l.jsx(Er, { ...Or(n) }) }) }),
    /* @__PURE__ */ l.jsxs(ge, { property: [r, o], children: [
      !!r && /* @__PURE__ */ l.jsx(de, { property: r, children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(r) }) }),
      !!o && /* @__PURE__ */ l.jsx(de, { property: o, children: /* @__PURE__ */ l.jsx(_e, { ...Ve(o) }) })
    ] }),
    /* @__PURE__ */ l.jsxs(ge, { property: [s, i], children: [
      !!s && /* @__PURE__ */ l.jsx(de, { property: s, children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(s) }) }),
      !!i && /* @__PURE__ */ l.jsx(de, { property: i, children: /* @__PURE__ */ l.jsx(Ae, { ...Ke(i) }) })
    ] }),
    /* @__PURE__ */ l.jsxs(ge, { property: [a, c], children: [
      !!a && /* @__PURE__ */ l.jsx(de, { property: a, children: /* @__PURE__ */ l.jsx(_e, { ...Ve(a) }) }),
      !!c && /* @__PURE__ */ l.jsx(de, { property: c, children: /* @__PURE__ */ l.jsx(_e, { ...Ve(c) }) })
    ] }),
    /* @__PURE__ */ l.jsxs(ge, { property: [d, p], children: [
      !!d && /* @__PURE__ */ l.jsx(de, { property: d, children: /* @__PURE__ */ l.jsx(_e, { ...Ve(d) }) }),
      !!p && /* @__PURE__ */ l.jsx(de, { property: p, children: /* @__PURE__ */ l.jsx(_e, { ...Ve(p) }) })
    ] }),
    /* @__PURE__ */ l.jsxs(ge, { property: [f, u], children: [
      !!f && /* @__PURE__ */ l.jsx(de, { property: f, children: /* @__PURE__ */ l.jsx(_e, { ...Ve(f) }) }),
      !!u && /* @__PURE__ */ l.jsx(de, { property: u, children: /* @__PURE__ */ l.jsx(_e, { ...Ve(u) }) })
    ] })
  ] });
}
const wb = "gs-style-manager", zp = `${wb}-sector`, pL = `${zp}-header`, fL = `${zp}-content`, Sb = (e, t = 0, n = !0) => L(pL, H.bgH2, ke.xyS, H.br, t && re.bt, (e || n) && re.bb), hL = (e, t = {}) => e.getOptions().map((n) => ({
  id: e.getOptionId(n),
  label: e.getOptionLabel(e.getOptionId(n), t),
  title: n.title
})), gL = (e, t) => t.map((n) => ({
  ...n,
  title: e.getOptionLabel(e.getOptionId(n))
})), Ve = (e, t = {}) => ({
  size: "s",
  options: hL(e, t),
  value: e.getValue(),
  onChange: (n) => e.upValue(n)
}), Nr = (e, t = {}) => ({
  title: e.getLabel(),
  titleAdd: `Add new ${e.getLabel()}`,
  items: e.getLayers(),
  selected: e.getSelectedLayer(),
  renderItem: (n) => e.getLayerLabel(n),
  add: () => e.addLayer(t, { at: 0 }),
  select: (n) => e.selectLayer(n),
  remove: (n) => e.removeLayer(n),
  move: (n, r = 0) => e.moveLayer(n, r),
  label: /* @__PURE__ */ l.jsx(de, { property: e })
}), Ke = (e) => ({
  size: "s",
  value: e.getValue({ noDefault: !0 }),
  valueUnit: e.getUnit(),
  units: e.getUnits(),
  placeholder: e.getDefaultValue(),
  onChangeUnit: (t) => e.upUnit(t),
  onChange: (t, n) => e.upValue(t, { partial: n })
}), Or = (e) => ({
  size: "s",
  value: e.getValue({ noDefault: !0 }),
  placeholder: e.getDefaultValue(),
  onChange: (t, n) => e.upValue(t, { partial: n })
}), mL = (e) => ({
  ...Or(e),
  onOpen() {
    const t = e.em.Assets;
    t.open({
      select(n) {
        e.upValue(n.getSrc()), t.close();
      }
    });
  }
}), vL = (e) => {
  const t = e.getId();
  let n = Q3;
  switch (t) {
    case "gs-layout":
      n = iL;
      break;
    case "gs-size":
      n = cL;
      break;
    case "gs-space":
      n = uL;
      break;
    case "gs-position":
      n = lL;
      break;
    case "gs-borders":
      n = tL;
      break;
    case "gs-effects":
      n = rL;
      break;
    case "gs-typography":
      n = dL;
      break;
    case "gs-background":
      n = EL;
      break;
  }
  return /* @__PURE__ */ l.jsx(n, { sector: e });
};
function jb({ className: e, sectors: t }) {
  const { Styles: n } = Pt(), r = n.getSelected(), o = t.length ? t : n.getSectors({ visible: !0 });
  return r ? /* @__PURE__ */ l.jsx("div", { className: L(wb, e, "select-none"), children: o.map((s, i) => /* @__PURE__ */ l.jsx(
    Oo,
    {
      classNameWrap: zp,
      sticky: !0,
      handler: () => {
        const a = s.getProperties({ withValue: !0 }).length > 0, c = s.getProperties({ withParentValue: !0 }).length > 0;
        return /* @__PURE__ */ l.jsxs(R, { space: "xs", items: "center", children: [
          /* @__PURE__ */ l.jsx($, { className: L("gjs-mr-2"), children: s.getName() }),
          a && /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx("div", { className: L(tt.dot, H.bgA2) }) }),
          c && /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx("div", { className: L(tt.dot, H.bgW) }) })
        ] });
      },
      className: (a) => Sb(a, i, i === o.length - 1),
      children: /* @__PURE__ */ l.jsx(R, { className: L(fL, "gs-utl-p-2 gs-utl-gap-2"), col: !0, children: vL(s) })
    },
    s.getId()
  )) }) : null;
}
function cl({ value: e, label: t, border: n, size: r = "m", tip: o, disabled: s, onChange: i }) {
  const a = !!e, c = L(
    "relative inline-flex items-center h-6 gjs-rounded-full w-11 transition-colors focus:gs-utl-outline-none",
    a ? H.bgA : H.bgH,
    mi.focus,
    n && `${H.br} ${re.b}`
  );
  return /* @__PURE__ */ l.jsx(Hc.Group, { children: /* @__PURE__ */ l.jsxs(R, { full: !0, items: "center", children: [
    !!t && /* @__PURE__ */ l.jsx(
      Hc.Label,
      {
        className: L("gs-utl-mr-4 gs-utl-flex-1 gs-utl-flex gs-utl-gap-2 gs-utl-items-center"),
        passive: !0,
        children: /* @__PURE__ */ l.jsx(kt, { as: "span", size: r, tip: o, m: "", children: t })
      }
    ),
    /* @__PURE__ */ l.jsx(Hc, { checked: a, onChange: i, className: c, disabled: s, children: /* @__PURE__ */ l.jsx(
      "span",
      {
        className: L(
          H.bg,
          "inline-block w-4 h-4 transform gjs-rounded-full transition-transform",
          a ? "translate-x-6" : "translate-x-1"
        )
      }
    ) })
  ] }) });
}
const bL = /^-?[0-9]+(\.[0-9]+)?[a-zA-Z%]{0,}$/, yL = /,(?![^(]*\))/, cu = /\s(?![^(]*\))/, xL = /^(closest-side|closest-corner|farthest-side|farthest-corner)/i, uu = /^circle|ellipse/i, Fp = (e) => {
  var d;
  const t = [], { name: n, value: r } = ql(e), [o, ...s] = r.split(yL).map((p) => p.trim()).filter(Boolean), i = s.length > 1, a = i ? o : "", c = { type: "none" }, u = i ? s : [o, ...s];
  if (bL.test(a))
    c.type = "angle", c.value = a;
  else if (/^to\s/.test(a))
    c.type = "side-or-corner", c.value = a;
  else if (xL.test(a))
    c.type = "size", c.value = a;
  else if (uu.test(a) || /^at\s/.test(a) || /\sat\s/.test(a)) {
    c.type = "at", c.value = a;
    const p = ((d = a.match(uu)) == null ? void 0 : d[0]) || "circle";
    c.shape = p;
    const f = { x: "0%", y: "0%" }, h = { x: "0%", y: "0%" }, [v, g] = a.replace(uu, "").trim().split("at").map((b) => b.trim());
    if (v) {
      const [b, m] = v.split(cu);
      f.x = b, f.y = m || b;
    }
    if (g) {
      const [b, m] = g.split(cu);
      h.x = b, h.y = m || b;
    }
    c.size = f, c.position = h;
  }
  return u.forEach((p) => {
    const [f, h] = p.split(cu);
    t.push({ color: f, hint: h ? parseFloat(h) : null });
  }), t.forEach((p, f) => {
    p.hint === null && (p.hint = f / (t.length - 1) * 100);
  }), {
    name: n,
    orientation: c,
    colorStops: t
  };
}, kr = ({
  stops: e,
  orientation: t = "to right",
  name: n = "linear-gradient"
}) => {
  const o = (e.length === 1 ? [
    { color: e[0].color, hint: null },
    { color: e[0].color, hint: null }
  ] : e).map((s) => `${s.color} ${s.hint ? `${s.hint}%` : ""}`.trim()).join(", ");
  return o ? `${n}(${t}, ${o})` : "none";
}, wL = (e) => e.slice().sort((t, n) => (t.hint || 0) - (n.hint || 0)), SL = "gs-cmp-grad-picker";
function jL({ className: e, value: t, onChange: n }) {
  var T, D, M;
  const r = Fp(t), [o, s] = U(r.colorStops), [i, a] = U(null), c = G(null), u = L(SL, "gs-grad-picker gs-utl-select-none gs-utl-gap-1", e, re.rnd), d = r.name || "linear-gradient", p = d.indexOf("radial") >= 0, f = d.indexOf("repeating") >= 0, h = r.orientation.value, v = `${parseFloat(`${h}`) || 180}`, g = `${parseFloat(`${(T = r.orientation.size) == null ? void 0 : T.x}`) || 0}`, b = `${parseFloat(`${(D = r.orientation.position) == null ? void 0 : D.x}`) || 0}`, m = `${parseFloat(`${(M = r.orientation.position) == null ? void 0 : M.y}`) || 0}`, y = 0, x = 100, w = (N, V = !1) => {
    const K = wL(N);
    s(K), n == null || n(kr({ name: d, orientation: h, stops: K }), V);
  }, S = (N, V = !1) => {
    n == null || n(kr({ stops: o, name: d, orientation: `${N}deg` }), V);
  }, j = (N, V = !1) => {
    n == null || n(kr({ stops: o, name: d, orientation: `${N}px at ${b}% ${m}%` }), V);
  }, E = (N, V = !1) => {
    n == null || n(kr({ stops: o, name: d, orientation: `${g}px at ${N}% ${m}%` }), V);
  }, C = (N, V = !1) => {
    n == null || n(kr({ stops: o, name: d, orientation: `${g}px at ${b}% ${N}%` }), V);
  }, P = (N) => {
    const V = `${N ? "repeating-" : ""}${p ? "radial" : "linear"}-gradient`;
    n == null || n(kr({ stops: o, orientation: h, name: V }));
  }, _ = (N) => {
    const V = `${f ? "repeating-" : ""}${N ? "radial" : "linear"}-gradient`;
    n == null || n(kr({ stops: o, orientation: N ? "100px at 50% 50%" : "90deg", name: V }));
  };
  W(() => {
    if (!i)
      return;
    const N = parseFloat(`${i.stop.hint}`), V = (J) => {
      let X = (J.clientX - i.x) * 100;
      X = X / i.w, X = N + X, X = X < y ? y : X, X = X > x ? x : X, i.stop.hint = parseInt(`${X}`, 10), w(o, !0);
    }, K = () => {
      a(null), w(o);
    };
    return window.addEventListener("pointermove", V), window.addEventListener("pointerup", K), () => {
      window.removeEventListener("pointermove", V), window.removeEventListener("pointerup", K), K();
    };
  }, [i]);
  const O = (N, V) => {
    const K = c.current;
    a({
      stop: V,
      w: (K == null ? void 0 : K.clientWidth) || 0,
      h: (K == null ? void 0 : K.clientHeight) || 0,
      x: N.clientX,
      y: N.clientY
    });
  }, k = (N) => {
    const V = c.current, K = (V == null ? void 0 : V.clientWidth) || 0, J = (V == null ? void 0 : V.clientHeight) || 0, ie = N.nativeEvent.offsetX - ((V == null ? void 0 : V.clientLeft) || 0), X = N.nativeEvent.offsetY - ((V == null ? void 0 : V.clientTop) || 0), ne = ie / K * 100, fe = document.createElement("canvas"), se = fe.getContext("2d");
    if (!se)
      return;
    fe.width = K, fe.height = J;
    const q = se.createLinearGradient(0, 0, K, J);
    o.forEach((Ce) => q.addColorStop(parseFloat(`${Ce.hint}`) / 100, Ce.color)), se.fillStyle = q, se.fillRect(0, 0, fe.width, fe.height), fe.style.background = "black";
    const ee = se.getImageData(ie, X, 1, 1).data, pe = ee[3] ? (100 / 255 * ee[3] / 100).toFixed(2) : 0, ae = `rgba(${ee[0]}, ${ee[1]}, ${ee[2]}, ${pe})`, we = ae === "rgba(0, 0, 0, 0)" ? "#000" : ae;
    w([...o, { color: we, hint: ne }]);
  }, z = (N) => {
    w(o.filter((V) => V !== N));
  }, F = (N, V, K) => {
    V && (N.color = V), w(o, K);
  }, A = (N) => (i == null ? void 0 : i.stop) === N;
  return /* @__PURE__ */ l.jsxs(R, { className: u, col: !0, children: [
    !!(i != null && i.stop) && /* @__PURE__ */ l.jsx("div", { className: L("fixed inset-0 z-50 cursor-colr") }),
    /* @__PURE__ */ l.jsxs("div", { className: L("relative gjs-mb-6 gjs-mt-3"), children: [
      /* @__PURE__ */ l.jsx("div", { className: L("bg-checker h-8", re.rnd), children: /* @__PURE__ */ l.jsx(
        "div",
        {
          ref: c,
          className: L("w-full h-full cursor-cross", re.b, re.rnd, H.br),
          style: { backgroundImage: kr({ stops: o }) },
          onClick: k
        }
      ) }),
      o.map((N, V) => /* @__PURE__ */ l.jsxs("div", { className: L("absolute top-0 h-full"), style: { left: `${N.hint}%` }, children: [
        /* @__PURE__ */ l.jsx(
          "div",
          {
            className: L("cursor-pointer absolute gs-utl-translate-x-[-50%] gs-utl-top-[-14px]"),
            onClick: () => z(N),
            children: /* @__PURE__ */ l.jsx(te, { icon: Q.close, size: le.s3x })
          }
        ),
        /* @__PURE__ */ l.jsx(
          "div",
          {
            onPointerDown: (K) => O(K, N),
            className: L(
              "h-full w-1 gs-utl-translate-x-[-50%] cursor-colr opacity-50 gjs-border-white",
              re.br,
              re.bl,
              A(N) ? "gjs-bg-white" : "gjs-bg-black"
            )
          }
        ),
        /* @__PURE__ */ l.jsx("div", { className: L("cursor-pointer gs-utl-bottom-[-17px] gs-utl-left-[-7px] absolute"), children: /* @__PURE__ */ l.jsx(
          tb,
          {
            value: N.color,
            onChange: (K, J) => F(N, K, J),
            className: L("h-4 w-4 gjs-rounded-full gjs-border-2")
          }
        ) })
      ] }, V))
    ] }),
    /* @__PURE__ */ l.jsxs(R, { space: "s", items: "center", children: [
      /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(cl, { label: "Repeat", value: f, onChange: P }) }),
      /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(cl, { label: "Radial", value: p, onChange: _ }) })
    ] }),
    p ? /* @__PURE__ */ l.jsxs(R, { space: "s", col: !0, children: [
      /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(R, { space: "s", items: "center", children: /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(Ae, { pan: "S", size: "s", value: g, onChange: j, valueUnit: "px", units: ["px"] }) }) }) }),
      /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsxs(R, { space: "s", children: [
        /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(Ae, { pan: "X", size: "s", value: b, onChange: E, valueUnit: "%", units: ["%"] }) }),
        /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(Ae, { pan: "Y", size: "s", value: m, onChange: C, valueUnit: "%", units: ["%"] }) })
      ] }) })
    ] }) : /* @__PURE__ */ l.jsx(R, { space: "s", items: "center", nowrap: !0, children: /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(Ae, { pan: "A", size: "s", value: v, onChange: S, valueUnit: "deg", units: ["deg"] }) }) })
  ] });
}
var Vr = /* @__PURE__ */ ((e) => (e.Image = "image", e.Gradient = "gradient", e.Color = "color", e))(Vr || {});
const Ba = "background-image", Zn = "__background-type", oi = Ba, Cb = "https://placehold.co/150/777/white.png?text=IMAGE", md = "50px", CL = {
  [Zn]: "image",
  "background-image": `url("${Cb}")`,
  "background-size": `${md} ${md}`,
  "background-repeat": "repeat",
  "background-position": "0px 0px"
}, PL = (e) => (e.includes("gradient(") ? Fp(e).colorStops[0].color : e) || "";
function EL({ sector: e }) {
  var b;
  const t = Pt(), n = e.getProperty("background"), r = n.getProperty(Zn), o = n.getProperty("background-image"), s = n.getProperty("background-position"), i = n.getProperty("background-size"), a = e.getProperty("background-color"), c = e.getProperty("background-clip"), u = ((b = n.getSelectedLayer()) == null ? void 0 : b.getIndex()) || -1, d = r == null ? void 0 : r.getValue(), p = d === "image", f = o.getValue(), h = () => {
    const m = t.Assets;
    m.open({
      select(y) {
        const x = y.getSrc();
        o.upValue(`url("${x}")`), m.close();
      }
    });
  }, v = (m) => {
    let y = "none", x = "100%";
    m === "image" ? (y = `url("${Cb}")`, x = md) : m === "gradient" ? y = "linear-gradient(90deg, black 10%, white 90%)" : m === "color" && (y = "rgba(0, 0, 0, 0.5)"), o.upValue(y), r.upValue(m), s.upValue("0 0"), i.upValue(`${x} ${x}`);
  }, g = gL(r, [
    { id: "image", label: /* @__PURE__ */ l.jsx(te, { icon: Q.image, size: le.s }) },
    { id: "gradient", label: /* @__PURE__ */ l.jsx(te, { icon: Q.gradientVertical, size: le.s }) },
    { id: "color", label: /* @__PURE__ */ l.jsx(te, { icon: Q.checkboxBlank, size: le.s }) }
  ]);
  return /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
    /* @__PURE__ */ l.jsx(ge, { property: n, separator: !0, children: /* @__PURE__ */ l.jsxs(
      pr,
      {
        ...Nr(n, CL),
        previewStyle: (m) => n.getStyleFromLayer(m, { camelCase: !0 }),
        children: [
          /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(de, { label: "Type", children: /* @__PURE__ */ l.jsx(Vt, { ...Ve(r), options: g, onChange: v }) }) }),
          /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsxs(de, { children: [
            p && /* @__PURE__ */ l.jsx(Pi, { value: ql(f).value, onOpen: h }),
            d === "color" && /* @__PURE__ */ l.jsx(Er, { ...Or(o), value: PL(f) }),
            d === "gradient" && /* @__PURE__ */ l.jsx(
              jL,
              {
                value: f,
                onChange: (m, y) => o.upValue(m, { partial: y })
              },
              u
            )
          ] }) }),
          p && /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
            /* @__PURE__ */ l.jsx(ge, { col: !0, children: /* @__PURE__ */ l.jsx(Gt, { property: s }) }),
            /* @__PURE__ */ l.jsx(ge, { col: !0, children: /* @__PURE__ */ l.jsx(Gt, { property: i }) }),
            /* @__PURE__ */ l.jsxs(ge, { children: [
              /* @__PURE__ */ l.jsx(de, { label: n.getProperty("background-repeat").getLabel(), children: /* @__PURE__ */ l.jsx(_e, { ...Ve(n.getProperty("background-repeat")) }) }),
              /* @__PURE__ */ l.jsx(de, { label: n.getProperty("background-attachment").getLabel(), children: /* @__PURE__ */ l.jsx(_e, { ...Ve(n.getProperty("background-attachment")) }) })
            ] }),
            /* @__PURE__ */ l.jsx(ge, { children: /* @__PURE__ */ l.jsx(de, { label: n.getProperty("background-origin").getLabel(), children: /* @__PURE__ */ l.jsx(_e, { ...Ve(n.getProperty("background-origin")) }) }) })
          ] })
        ]
      }
    ) }),
    /* @__PURE__ */ l.jsx(ge, { property: a, children: /* @__PURE__ */ l.jsx(de, { property: a, children: /* @__PURE__ */ l.jsx(Er, { ...Or(a) }) }) }),
    /* @__PURE__ */ l.jsx(ge, { property: c, children: /* @__PURE__ */ l.jsx(de, { property: c, children: /* @__PURE__ */ l.jsx(_e, { ...Ve(c) }) }) })
  ] });
}
const ya = ["%"], xa = ["s", "ms"], Bs = ["deg", "rad", "grad"], Un = ["px", "%", "em", "rem", "vw", "vh"], og = {
  type: "select",
  options: ["visible", "hidden", "scroll", "auto"].map((e) => ({ id: e })),
  default: "visible"
}, _L = (e) => `linear-gradient(${e} 1%, ${e} 100%)`, ul = (e) => ({ id: e, label: e.split("-").map(mr).join(" ") }), Pb = (e) => ({ property: t, to: n }) => {
  if (n.value) {
    const r = t.getOption(), o = t.getParent().getProperty(e), s = o.getUnit(), i = {
      units: r.units || [],
      min: r.min,
      max: r.max,
      unit: ""
    };
    (!s || (i == null ? void 0 : i.units.indexOf(s)) < 0) && (i.unit = (i == null ? void 0 : i.units[0]) || ""), o.up(i);
  }
}, OL = (e) => {
  const t = `${e}-name`, n = `${e}-value`;
  return (r, { separatorLayers: o }) => {
    const s = r[e] || "";
    return s ? s.split(o).map((i) => {
      const { name: a, value: c } = ql(i);
      return { [t]: a, [n]: c };
    }) : [];
  };
}, sg = (e) => {
  const t = {
    [oi]: e
  };
  if (e.indexOf("url(") > -1)
    t[Zn] = Vr.Image;
  else if (e.indexOf("gradient(") > -1) {
    const n = Fp(e), r = n.colorStops, o = n.name.indexOf("linear") >= 0;
    r.length === 2 && o && r[0].color === r[1].color ? t[Zn] = Vr.Color : t[Zn] = Vr.Gradient;
  } else
    t[Zn] = Vr.Color, t[oi] = _L(e);
  return t;
}, ig = (e = "filter") => {
  const t = `${e}-name`, n = `${e}-value`;
  return {
    property: e,
    type: "stack",
    layerSeparator: " ",
    fromStyle(r, { separatorLayers: o }) {
      const s = r[e] || "";
      return s ? s.split(o).map((i) => {
        const { name: a, value: c } = ql(i);
        return { [t]: a, [n]: c };
      }) : [];
    },
    toStyle(r, { name: o }) {
      return { [o]: `${r[t]}(${r[n] || "0"})` };
    },
    properties: [
      {
        property: t,
        type: "select",
        default: "blur",
        options: [
          { id: "blur", label: "Blur", min: 0, units: ["px", "em", "rem", "vw", "vh"] },
          { id: "brightness", label: "Brightness", min: 0, units: ["%"] },
          { id: "contrast", label: "Contrast", min: 0, units: ["%"] },
          { id: "grayscale", label: "Grayscale", min: 0, max: 100, units: ["%"] },
          { id: "hue-rotate", label: "Hue rotate", min: 0, max: 360, units: ["deg", "rad", "grad"] },
          { id: "invert", label: "Invert", min: 0, max: 100, units: ["%"] },
          { id: "saturate", label: "Saturate", min: 0, units: ["%"] },
          { id: "sepia", label: "Sepia", min: 0, max: 100, units: ["%"] }
        ],
        onChange: Pb(n)
      },
      {
        property: n,
        type: "integer"
      }
    ]
  };
}, wa = (e, { x: t, y: n, mergable: r } = {}) => {
  const o = {
    property: `${e}-x`,
    type: "integer",
    units: Un,
    ...t
  }, s = {
    property: `${e}-y`,
    type: "integer",
    units: Un,
    ...n
  };
  return {
    property: e,
    type: "composite",
    properties: [o, s],
    ...r && {
      fromStyle(i, { name: a, separator: c, property: u }) {
        const [d, p] = u.getProperties(), [f, h] = (i[a] || "").split(c);
        return {
          [d.getId()]: i[d.getName()] || f || "",
          [p.getId()]: i[p.getName()] || h || f || ""
        };
      },
      toStyle(i, { name: a, property: c }) {
        const [u, d] = c.getProperties(), p = i[u.getId()], f = i[d.getId()];
        return {
          [a]: p === f ? p : `${p} ${f}`
        };
      }
    }
  };
}, TL = (e, t = "") => {
  const n = `${e}-name`, r = `${e}-value`;
  return (o, { name: s }) => ({ [s]: `${o[n]}(${o[r] || t})` });
}, AL = [
  {
    name: "Size",
    open: !1,
    buildProps: ["width", "height", "max-width", "min-height"],
    properties: [
      {
        property: "icon-size",
        type: "number",
        defaults: "20px",
        units: ["px", "%"]
      }
    ]
  },
  {
    name: "Space",
    open: !1,
    buildProps: ["margin", "padding", "vertical-align"],
    properties: [
      {
        property: "margin",
        properties: [
          { name: "Top", property: "margin-top" },
          { name: "Right", property: "margin-right" },
          { name: "Bottom", property: "margin-bottom" },
          { name: "Left", property: "margin-left" }
        ]
      },
      {
        property: "padding",
        properties: [
          { name: "Top", property: "padding-top" },
          { name: "Right", property: "padding-right" },
          { name: "Bottom", property: "padding-bottom" },
          { name: "Left", property: "padding-left" }
        ]
      },
      {
        property: "vertical-align",
        type: "select",
        options: ["top", "middle", "bottom"].map(ul)
      }
    ]
  },
  {
    name: "Typography",
    open: !1,
    buildProps: [
      "font-family",
      "font-size",
      "font-weight",
      "letter-spacing",
      "color",
      "line-height",
      "text-align",
      "align",
      "text-decoration",
      "font-style"
    ],
    properties: [
      { name: "Font", property: "font-family" },
      { name: "Weight", property: "font-weight" },
      { name: "Font color", property: "color" },
      {
        property: "text-align",
        defaults: "left",
        type: "select",
        options: [
          { id: "left", label: "Left" },
          { id: "center", label: "Center" },
          { id: "right", label: "Right" },
          { id: "justify", label: "Justify" }
        ]
      },
      {
        property: "align",
        defaults: "left",
        type: "select",
        options: [
          { id: "left", label: "Left" },
          { id: "center", label: "Center" },
          { id: "right", label: "Right" },
          { id: "justify", label: "Justify" }
        ]
      },
      {
        property: "text-decoration",
        type: "select",
        defaults: "none",
        options: [
          { id: "none", label: "None" },
          { id: "underline", label: "underline" },
          { id: "line-through", label: "Line-through" }
        ]
      },
      {
        property: "font-style",
        type: "select",
        defaults: "normal",
        options: [
          { id: "normal", label: "Normal" },
          { id: "italic", label: "Italic" }
        ]
      }
    ]
  },
  {
    name: "Borders",
    open: !1,
    buildProps: ["border-radius", "border"],
    properties: [
      {
        property: "border-radius",
        // @ts-ignore custom property for our UI
        corners: !0,
        properties: [
          { name: "Top", property: "border-top-left-radius" },
          { name: "Right", property: "border-top-right-radius" },
          { name: "Bottom", property: "border-bottom-left-radius" },
          { name: "Left", property: "border-bottom-right-radius" }
        ]
      },
      {
        property: "border",
        // @ts-ignore custom property for our UI
        generic: !0
      },
      {
        property: "border-detached",
        name: "Border",
        type: "composite",
        detached: !0,
        // @ts-ignore custom property for our UI
        generic: !0,
        properties: [
          { name: "Width", property: "border-width", type: "integer", units: ["px", "%"] },
          {
            name: "Style",
            property: "border-style",
            type: "select",
            options: ["none", "solid", "dotted", "dashed", "double", "groove", "ridge", "inset", "outset"].map(
              ul
            )
          },
          { name: "Color", property: "border-color", type: "color" }
        ]
      }
    ]
  },
  {
    name: "Decorations",
    open: !1,
    buildProps: [
      "background-color",
      "container-background-color",
      "background-url",
      "background-repeat",
      "background-size"
    ],
    properties: [
      {
        name: "Background color",
        property: "container-background-color",
        full: !0,
        type: "color"
      },
      {
        property: "background-url",
        type: "file"
      }
    ]
  }
], LL = [
  {
    id: "gs-layout",
    name: "Layout",
    properties: [
      { extend: "display" },
      {
        extend: "flex-direction",
        name: "Direction",
        type: "radio",
        default: "row"
      },
      {
        extend: "justify-content",
        type: "radio",
        default: "flex-start"
      },
      {
        extend: "align-items",
        type: "radio",
        default: "stretch"
      },
      wa("gap", {
        x: { property: "row-gap", min: 0, default: "0" },
        y: { property: "column-gap", min: 0, default: "0" },
        mergable: !0
      }),
      { extend: "flex-wrap" },
      { extend: "align-content" },
      { extend: "align-self" },
      { extend: "order" },
      {
        property: "flex",
        type: "composite",
        // detached: true,
        properties: [
          {
            type: "integer",
            property: "flex-grow",
            default: "0",
            min: 0
          },
          {
            type: "integer",
            property: "flex-shrink",
            default: "0",
            min: 0
          },
          {
            type: "integer",
            property: "flex-basis",
            fixedValues: ["auto"],
            default: "auto",
            units: Un,
            min: 0
          }
        ]
      }
    ]
  },
  {
    id: "gs-size",
    name: "Size",
    properties: [
      { extend: "width" },
      { extend: "min-width" },
      { extend: "max-width" },
      { extend: "height" },
      { extend: "min-height" },
      { extend: "max-height" }
    ]
  },
  {
    id: "gs-space",
    name: "Space",
    properties: [
      {
        extend: "padding",
        detached: !0
      },
      {
        extend: "margin",
        detached: !0
      }
    ]
  },
  {
    id: "gs-position",
    name: "Position",
    properties: [
      {
        extend: "position",
        options: [
          { id: "static", label: "Static" },
          { id: "relative", label: "Relative" },
          { id: "absolute", label: "Absolute" },
          { id: "fixed", label: "Fixed" },
          { id: "sticky", label: "Sticky" }
        ],
        onChange({ opts: e, property: t }) {
          if (e.__clear) {
            const n = { top: "", right: "", bottom: "", left: "", "z-index": "" };
            t.__upTargetsStyle(n, e);
          }
        }
      },
      { extend: "top" },
      { extend: "right" },
      { extend: "bottom" },
      { extend: "left" },
      {
        extend: "z-index",
        type: "integer",
        default: "0"
      }
    ]
  },
  {
    id: "gs-typography",
    name: "Typography",
    properties: [
      { extend: "font-family" },
      { extend: "color" },
      { extend: "font-size" },
      { extend: "font-weight" },
      { extend: "line-height", min: 0 },
      { extend: "letter-spacing" },
      { extend: "text-align" },
      {
        property: "vertical-align",
        type: "select",
        default: "baseline",
        options: ["baseline", "top", "middle", "bottom"].map(ul)
      },
      {
        extend: "text-decoration",
        type: "select",
        default: "none",
        options: [
          { id: "none", label: "None" },
          { id: "underline", label: "Underline" },
          { id: "overline", label: "Overline" },
          { id: "line-through", label: "Line through" }
        ]
      },
      {
        extend: "text-transform",
        type: "select",
        default: "none",
        options: [
          { id: "none", label: "None" },
          { id: "capitalize", label: "Capitalize" },
          { id: "uppercase", label: "Uppercase" },
          { id: "lowercase", label: "Lowercase" }
        ]
      },
      {
        extend: "direction",
        type: "radio",
        default: "ltr",
        options: [
          { id: "ltr", label: "LTR" },
          { id: "rtl", label: "RTL" }
        ]
      },
      {
        extend: "white-space",
        type: "select",
        default: "normal",
        options: [
          { id: "normal", label: "Normal" },
          { id: "nowrap", label: "No wrap" },
          { id: "pre", label: "Pre" },
          { id: "pre-wrap", label: "Pre wrap" },
          { id: "pre-line", label: "Pre line" },
          { id: "break-spaces", label: "Break spaces" }
        ]
      }
      // text-overflow: ellipsis; white-space: nowrap; overflow: hidden;
      // List of default fonts: https://stackoverflow.com/a/62755574
      //  Safe webfonts: https://web.mit.edu/jmorzins/www/fonts.html#sans-serif
      //  List per platform: https://granneman.com/webdev/coding/css/fonts-and-formatting/default-fonts
    ]
  },
  {
    id: "gs-background",
    name: "Background",
    properties: [
      // Stack of backgrounds (Color - Gradient - Image/Patterns)
      {
        property: "background",
        type: "stack",
        layerSeparator: new RegExp("(?<!\\(.*[^)]),(?![^(]*\\))"),
        layerJoin: ", ",
        // 1. "simple" -> 1
        // 2. "simple, simple" -> 2
        // 3. "rgba(1px, 2px, 3px)" -> 1
        // 4. "rgba(1px, 2px, 3px), rgba(1px, 2px, 3px)" -> 2
        // 5. "rgba(1px, rgba(11px, 22px, 33px), 3px), rgba(1px, rgba(11px, 22px, 33px), 3px)" -> 2
        // 6. "rgba(1px, rgba(11px, 22px, 33px), 3px)" -> 1
        // 7a. "linear(rgb(1, 2, 3, 5), rgb(1, 2, 3, 5))" -> 1 || "/(?<!\(.*[^)]),(?![^(]*\))/"
        // 7b. "linear(rgb(1, 2, 3, 5) 1px, rgb(1, 2, 3, 5))" -> 1
        // /(?<!\(*[^)]),(?![^(]*\))/ > fails 2.
        // /(?<!\(.*[^)]),(?![^(]*\))/ > fails 7a.
        detached: !0,
        layerLabel: (e, { values: t, property: n }) => n.getProperty(Zn).getOptionLabel(t[Zn]),
        toStyle(e) {
          const t = e[Zn];
          let n = e[oi];
          return t === "color" && n.indexOf("linear-gradient") < 0 && (n = `linear-gradient(${n} 1%, ${n} 100%)`), {
            ...e,
            [oi]: n
          };
        },
        fromStyle(e, { property: t, name: n, separatorLayers: r }) {
          const o = r, s = t.getProperties();
          let i = [];
          return e[Ba] ? (i = t.__splitStyleName(e, Ba, o).map(sg), s.forEach((a) => {
            const c = a.getId(), u = a.getName();
            u !== Ba && t.__splitStyleName(e, u, o).map((d) => ({ [c]: d || a.getDefaultValue() })).forEach((d, p) => {
              i[p] = i[p] ? { ...i[p], ...d } : d;
            });
          })) : e[n] && (i = t.__splitStyleName(e, n, /(?![^)(]*\([^)(]*?\)\)),(?![^\(]*\))/).map((a) => a.substring(0, a.lastIndexOf(")") + 1)).map(sg)), i;
        },
        properties: [
          {
            property: Zn,
            type: "radio",
            default: "image",
            options: [{ id: Vr.Image }, { id: Vr.Gradient }, { id: Vr.Color }]
          },
          {
            // Specs: https://www.w3.org/TR/css-images-3/
            // <url> | <gradient> (https://github.com/rafaelcaricio/gradient-parser)
            // <gradient> = <linear-gradient()> | <repeating-linear-gradient()> | <radial-gradient()> | <repeating-radial-gradient()>
            // <linear-gradient()> = linear-gradient([ <angle> | to <side-or-corner> ]? , <color-stop-list>)
            // <radial-gradient()> = radial-gradient([ <ending-shape> || <size> ]? [ at <position> ]? , <color-stop-list>
            //    radial-gradient(5em circle at top left, yellow, blue)
            // <color-stop-list> = <linear-color-stop> , [ <linear-color-hint>? , <linear-color-stop> ]
            //  fn(red 40%, white) | fn(white calc(-25px + 50%), blue)
            // Regex
            // <side-or-corner>: /^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,
            // <ending-shape>: /^circle|ellipse/i,
            // <size>: /^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/, // | <length> | <length-percentage>{2}
            // <position>: /^at/ // position: at top left, at 20px, at 10% 15%
            property: oi,
            default: "none"
            // url(), gradient, none
          },
          {
            property: "background-position",
            type: "composite",
            // default: '0%', // left | center | right | top | bottom
            properties: ["background-position-x", "background-position-y"].map((e) => ({
              type: "integer",
              property: e,
              units: Un,
              default: "0px"
            }))
          },
          {
            // Keyword: contain | cover; One-value syntax; Two-value syntax
            property: "background-size",
            type: "composite",
            properties: ["background-size-x", "background-size-y"].map((e) => ({
              type: "integer",
              property: e,
              units: Un,
              default: "auto"
            }))
          },
          {
            property: "background-repeat",
            // box (x, y)
            default: "repeat",
            type: "select",
            options: [
              // background-repeat-x background-repeat-x
              { id: "repeat", label: "Repeat" },
              { id: "repeat-x", label: "Repeat x" },
              { id: "repeat-y", label: "Repeat y" },
              { id: "no-repeat", label: "No repeat" },
              { id: "space", label: "Space" },
              { id: "round", label: "Round" }
            ]
          },
          {
            property: "background-attachment",
            default: "scroll",
            type: "select",
            options: [
              { id: "scroll", label: "Scroll" },
              { id: "fixed", label: "Fixed" }
            ]
          },
          {
            property: "background-origin",
            default: "padding-box",
            type: "select",
            options: [
              { id: "padding-box", label: "Padding box" },
              { id: "border-box", label: "Border box" },
              { id: "content-box", label: "Content box" }
            ]
          }
        ]
      },
      {
        property: "background-color",
        type: "color",
        default: "none"
      },
      {
        property: "background-clip",
        default: "border-box",
        type: "select",
        options: [
          { id: "border-box", label: "Border box" },
          { id: "padding-box", label: "Padding box" },
          { id: "content-box", label: "Content box" },
          { id: "text", label: "Text" }
        ],
        onChange({ to: e, property: t, opts: n }) {
          const { value: r } = e;
          if (r !== void 0) {
            const o = r === "text";
            t.__upTargetsStyle(
              {
                "-webkit-background-clip": o ? r : "",
                "-webkit-text-fill-color": o ? "transparent" : ""
              },
              n
            );
          }
        }
      }
    ]
  },
  {
    id: "gs-borders",
    name: "Borders",
    properties: [
      {
        extend: "border-radius",
        detached: !0
      },
      {
        extend: "border-width",
        type: "composite",
        detached: !0,
        properties: ["border-top-width", "border-right-width", "border-bottom-width", "border-left-width"].map(
          (e) => ({
            type: "integer",
            property: e,
            default: "0",
            units: Un
          })
        )
      },
      {
        extend: "border-style",
        type: "composite",
        detached: !0,
        properties: ["border-top-style", "border-right-style", "border-bottom-style", "border-left-style"].map(
          (e) => ({
            type: "select",
            property: e,
            default: "none",
            options: [
              { id: "none", label: "None" },
              { id: "solid", label: "Solid" },
              { id: "dotted", label: "Dotted" },
              { id: "dashed", label: "Dashed" },
              { id: "double", label: "Double" },
              { id: "groove", label: "Groove" },
              { id: "ridge", label: "Ridge" },
              { id: "inset", label: "Inset" },
              { id: "outset", label: "Outset" }
            ]
          })
        )
      },
      {
        extend: "border-color",
        type: "composite",
        detached: !0,
        properties: ["border-top-color", "border-right-color", "border-bottom-color", "border-left-color"].map(
          (e) => ({
            type: "color",
            property: e,
            default: "currentColor"
          })
        )
      }
    ]
  },
  {
    id: "gs-effects",
    name: "Effects",
    properties: [
      {
        property: "opacity",
        type: "integer",
        min: 0,
        max: 100,
        default: "100",
        units: ["%"]
      },
      {
        property: "mix-blend-mode",
        type: "select",
        default: "normal",
        options: [
          { id: "normal", label: "Normal" },
          { id: "multiply", label: "Multiply" },
          { id: "screen", label: "Screen" },
          { id: "overlay", label: "Overlay" },
          { id: "darken", label: "Darken" },
          { id: "lighten", label: "Lighten" },
          { id: "color-dodge", label: "Color dodge" },
          { id: "color-burn", label: "Color burn" },
          { id: "hard-light", label: "Hard light" },
          { id: "soft-light", label: "Soft light" },
          { id: "difference", label: "Difference" },
          { id: "exclusion", label: "Exclusion" },
          { id: "hue", label: "Hue" },
          { id: "saturation", label: "Saturation" },
          { id: "color", label: "Color" },
          { id: "luminosity", label: "Luminosity" }
        ]
      },
      { extend: "cursor" },
      wa("overflow", {
        x: og,
        y: og,
        mergable: !0
      }),
      {
        extend: "box-shadow",
        fromStyle(e, { separatorLayers: t }) {
          const n = e["box-shadow"] || "";
          return n ? n.split(t).map((o) => {
            const { x: s, y: i, blur: a, spread: c, inset: u, color: d } = Oh(o);
            return {
              "box-shadow-h": s,
              "box-shadow-v": i,
              "box-shadow-blur": a,
              "box-shadow-spread": c,
              "box-shadow-color": d,
              "box-shadow-type": u ? "inset" : ""
            };
          }) : [];
        }
      },
      {
        extend: "text-shadow",
        fromStyle(e, { separatorLayers: t }) {
          const n = e["text-shadow"] || "";
          return n ? n.split(t).map((o) => {
            const { x: s, y: i, blur: a, color: c } = Oh(o);
            return {
              "text-shadow-h": s,
              "text-shadow-v": i,
              "text-shadow-blur": a,
              "text-shadow-color": c
            };
          }) : [];
        }
      },
      ig(),
      ig("backdrop-filter"),
      {
        property: "transition",
        type: "stack",
        layerLabel: (e, { values: t }) => `${mr(t["transition-property"])}: ${t["transition-duration"]}`,
        properties: [
          {
            property: "transition-property",
            type: "select",
            default: "opacity",
            options: [
              // Size
              "width",
              "height",
              "min-width",
              "min-height",
              "max-width",
              "max-height",
              // Layout
              "padding",
              "margin",
              // Typography
              "color",
              "font-size",
              "line-height",
              "letter-height",
              // Border
              "border",
              "border-radius",
              // 'border-color', 'border-width',
              // Background
              "background",
              // Effects
              "opacity",
              "box-shadow",
              "text-shadow",
              "filter",
              "backdrop-filter",
              "transform",
              // Extra
              "all"
            ].map(ul)
          },
          {
            property: "transition-duration",
            type: "integer",
            default: "1s",
            unit: xa[0],
            units: xa,
            min: 0
          },
          {
            property: "transition-timing-function",
            type: "select",
            default: "ease",
            options: [
              { id: "ease", label: "Ease" },
              { id: "ease-in", label: "Ease-In" },
              { id: "ease-in-out", label: "Ease-In-Out" },
              { id: "ease-out", label: "Ease-Out" },
              { id: "linear", label: "Linear" }
            ]
          },
          {
            property: "transition-delay",
            type: "integer",
            default: "0s",
            unit: xa[0],
            units: xa
          }
        ]
      },
      {
        property: "transform",
        type: "stack",
        layerSeparator: " ",
        layerLabel: (e, { values: t, property: n }) => {
          const r = n.getProperty("transform-name").getOptionLabel(t["transform-name"]);
          return `${mr(r)}: ${t["transform-value"]}`;
        },
        fromStyle: OL("transform"),
        toStyle: TL("transform", "0"),
        properties: [
          {
            property: "transform-name",
            type: "select",
            default: "translateX",
            options: [
              { id: "translateX", label: "Move X", units: Un },
              { id: "translateY", label: "Move Y", units: Un },
              { id: "translateZ", label: "Move Z", units: Un },
              { id: "rotateX", label: "Rotate X", units: Bs },
              { id: "rotateY", label: "Rotate Y", units: Bs },
              { id: "rotateZ", label: "Rotate Z", units: Bs },
              { id: "scale", label: "Scale", units: ya },
              { id: "scaleX", label: "Scale X", units: ya },
              { id: "scaleY", label: "Scale Y", units: ya },
              { id: "scaleZ", label: "Scale Z", units: ya },
              { id: "skewX", label: "Skew X", units: Bs },
              { id: "skewY", label: "Skew Y", units: Bs }
            ],
            onChange: Pb("transform-value")
          },
          {
            property: "transform-value",
            type: "integer",
            default: "0"
          }
        ]
      },
      wa("transform-origin", {
        x: { default: "50%" },
        y: { default: "50%" }
      }),
      {
        property: "backface-visibility",
        type: "radio",
        default: "visible",
        options: [
          { id: "visible", label: "Visible" },
          { id: "hidden", label: "Hidden" }
        ]
      },
      {
        // Activate on parent element to enable 3D transforms on all of its children
        property: "perspective",
        type: "integer",
        min: 0,
        default: "none",
        units: Un
      },
      wa("perspective-origin", {
        x: { default: "50%" },
        y: { default: "50%" }
      }),
      {
        property: "transform-style",
        type: "radio",
        default: "flat",
        options: [
          { id: "flat", label: "2D" },
          { id: "preserve-3d", label: "3D" }
        ]
      }
    ]
  }
], ag = [
  { id: "desktop", name: "Desktop", width: "" },
  { id: "mobilePortrait", name: "Mobile", width: "320px", widthMedia: "480px" }
];
function Eb(e, t) {
  return [
    ...Eh[e],
    ...Eh.global,
    (n) => C5(n, t),
    u5(e, t)
  ];
}
function kL(e, t = {}) {
  var i;
  const n = e === Fe.email, { devices: r } = t, o = r ? {
    default: r.selected,
    devices: r.default ?? (n ? ag : void 0)
  } : n ? {
    devices: ag
  } : {}, s = {
    undoManager: { trackSelection: !1 },
    showOffsets: !0,
    cssIcons: "",
    assetManager: {},
    blockManager: {},
    styleManager: {
      sectors: n ? AL : LL
    },
    selectorManager: {
      componentFirst: !0
    },
    storageManager: {
      onStore: (a) => {
        const c = Cs().appEditorStore.projectDataCustom;
        return a.custom = c ? JSON.parse(JSON.stringify(c)) : {}, a;
      },
      onLoad: (a, c) => {
        var u;
        return (u = c.events) == null || u.projectLoad, fv(c, a.custom), a;
      }
    },
    i18n: {
      messagesAdd: Du({ en: AO }, ((i = t.i18n) == null ? void 0 : i.locales) ?? {})
    },
    deviceManager: o,
    canvasCss: `
      [contenteditable] { outline: 0px solid transparent;}
    `,
    canvas: {
      // infiniteCanvas: true,
      customSpots: {
        select: !0,
        hover: !0,
        spacing: !0,
        target: !0
        // resize: true,
      }
    },
    telemetry: !1
  };
  return Du(s, t.gjsOptions ?? {});
}
class ML {
  constructor(t) {
    this.loadCounter = 0, this.pendingInstalled = [], this.pendingUninstalled = [], this.selectedShown = !1, this.store = t, Xt(this, {}, { autoBind: !0 });
  }
  get hasPending() {
    return !!this.pendingInstalled.length || !!this.pendingUninstalled.length;
  }
  *initProjectPlugins(t) {
    this.pendingInstalled = [], this.pendingUninstalled = [];
    const r = (yield Ei()).filter((o) => o.projectType.includes(t));
    this.projectPlugins = [...r];
  }
  getPluginsToLoad(t, n) {
    const r = [...Eb(t, { appStore: n }), ...this.projectPlugins || []], o = n.sdkOptions.plugins || [];
    return pt(o) ? o({ plugins: r }) : [...r, ...o];
  }
  addPendingInstalled(t) {
    const { pendingInstalled: n, pendingUninstalled: r } = this, o = t.id;
    r.includes(o) ? this.pendingUninstalled = r.filter((s) => s !== o) : n.includes(o) || n.push(o);
  }
  addPendingUninstalled(t) {
    const { pendingInstalled: n, pendingUninstalled: r } = this, o = t.id;
    n.includes(o) ? this.pendingInstalled = n.filter((s) => s !== o) : r.push(o);
  }
  setSelectedShown(t) {
    this.selectedShown = t;
  }
}
const Up = { db: vv.gjsStudio }, Ei = () => new Promise(async (e) => {
  let t = [];
  try {
    t = await hO(ys.Settings, "plugins", Up) || [];
  } catch (n) {
    ir() && console.error(n);
  }
  e(t);
}), $L = (e) => new Promise(async (t) => {
  try {
    const r = [...await Ei(), e];
    _b().addPendingInstalled(e), await bv(ys.Settings, "plugins", r, Up);
  } catch (n) {
    console.error(n);
  }
  t();
}), NL = (e) => new Promise(async (t) => {
  try {
    const r = (await Ei()).filter((o) => o.id !== e.id);
    _b().addPendingUninstalled(e), await bv(ys.Settings, "plugins", r, Up);
  } catch (n) {
    console.error(n);
  }
  t();
}), Wp = () => Dt().pluginStore, _b = () => Cs().pluginStore;
let dl;
const Ob = De(void 0);
class RL {
  constructor(t) {
    this.blockManagerStore = new wO(this), this.appEditorStore = new HL(this, t == null ? void 0 : t.appEditorStore), this.localSettingsStore = new _O(t == null ? void 0 : t.localSettingsStore), this.toastStore = new xO(this), this.modalStore = new TO(this), this.i18nStore = new iO(this), this.pluginStore = new ML(this), this.pointerBadgeStore = new uO(this), this.contextMenu = new B_(this), this.layoutStore = new lO(this), this.templatesStore = new yO(this), this.assetsStore = new sO(this), this.globalStylesStore = new CO(this), this.appEditorStore.init(), Rd() && (window.__gjss = this);
  }
}
const DL = (e) => {
  OO(e.localSettingsStore), zL(e.appEditorStore);
}, IL = ({ children: e, initialState: t }) => (dl = oe(() => {
  const n = new RL(t);
  return DL(n), n;
}, []), /* @__PURE__ */ l.jsx(Ob.Provider, { value: dl, children: e })), Dt = () => {
  const e = Oe(Ob);
  if (!e)
    throw new Error("useStore must be used inside of StoreProvider");
  return e;
}, Cs = () => {
  if (!dl)
    throw new Error("Store has not been initialized");
  return dl;
}, Sa = ({
  icon: e,
  layout: t,
  tooltip: n,
  className: r,
  forceRemove: o,
  removeLayouts: s
}) => ({
  type: "button",
  icon: e,
  tooltip: n,
  className: r,
  size: "s",
  editorEvents: {
    [`${zr.layoutToggleId}${t.id}`]: ({ fromEvent: i, setState: a }) => {
      a({ active: i.isOpen });
    }
  },
  onClick: ({ editor: i }) => {
    s == null || s.forEach((a) => i.runCommand(ye.layoutRemove, { id: a, force: o })), i.runCommand(ye.layoutToggle, { ...t });
  }
}), lg = { type: "static", layoutId: "leftPanelsContainer" }, cg = { width: 240, overflow: "hidden" };
Sa({
  // icon: IconNames.plusBox,
  tooltip: "Blocks",
  removeLayouts: ["pagesLayers", "ps"],
  layout: {
    id: "blocks",
    layout: "panelBlocks",
    header: { label: "Blocks" },
    style: cg,
    placer: lg
  }
}), Sa({
  // icon: IconNames.layers,
  tooltip: "Pages & Layers",
  removeLayouts: ["blocks", "ps"],
  layout: {
    id: "pagesLayers",
    layout: "panelPagesLayers",
    header: !1,
    style: cg,
    placer: lg
  }
}), Sa({
  // icon: IconNames.cog,
  tooltip: "Page Settings",
  removeLayouts: ["pagesLayers", "blocks"],
  layout: {
    id: "ps",
    layout: "panelPageSettings",
    header: { label: "Page Settings" },
    style: { marginLeft: 40 }
  }
}), Sa({
  icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,10.11C13.03,10.11 13.87,10.95 13.87,12C13.87,13 13.03,13.85 12,13.85C10.97,13.85 10.13,13 10.13,12C10.13,10.95 10.97,10.11 12,10.11M7.37,20C8,20.38 9.38,19.8 10.97,18.3C10.45,17.71 9.94,17.07 9.46,16.4C8.64,16.32 7.83,16.2 7.06,16.04C6.55,18.18 6.74,19.65 7.37,20M8.08,14.26L7.79,13.75C7.68,14.04 7.57,14.33 7.5,14.61C7.77,14.67 8.07,14.72 8.38,14.77C8.28,14.6 8.18,14.43 8.08,14.26M14.62,13.5L15.43,12L14.62,10.5C14.32,9.97 14,9.5 13.71,9.03C13.17,9 12.6,9 12,9C11.4,9 10.83,9 10.29,9.03C10,9.5 9.68,9.97 9.38,10.5L8.57,12L9.38,13.5C9.68,14.03 10,14.5 10.29,14.97C10.83,15 11.4,15 12,15C12.6,15 13.17,15 13.71,14.97C14,14.5 14.32,14.03 14.62,13.5M12,6.78C11.81,7 11.61,7.23 11.41,7.5C11.61,7.5 11.8,7.5 12,7.5C12.2,7.5 12.39,7.5 12.59,7.5C12.39,7.23 12.19,7 12,6.78M12,17.22C12.19,17 12.39,16.77 12.59,16.5C12.39,16.5 12.2,16.5 12,16.5C11.8,16.5 11.61,16.5 11.41,16.5C11.61,16.77 11.81,17 12,17.22M16.62,4C16,3.62 14.62,4.2 13.03,5.7C13.55,6.29 14.06,6.93 14.54,7.6C15.36,7.68 16.17,7.8 16.94,7.96C17.45,5.82 17.26,4.35 16.62,4M15.92,9.74L16.21,10.25C16.32,9.96 16.43,9.67 16.5,9.39C16.23,9.33 15.93,9.28 15.62,9.23C15.72,9.4 15.82,9.57 15.92,9.74M17.37,2.69C18.84,3.53 19,5.74 18.38,8.32C20.92,9.07 22.75,10.31 22.75,12C22.75,13.69 20.92,14.93 18.38,15.68C19,18.26 18.84,20.47 17.37,21.31C15.91,22.15 13.92,21.19 12,19.36C10.08,21.19 8.09,22.15 6.62,21.31C5.16,20.47 5,18.26 5.62,15.68C3.08,14.93 1.25,13.69 1.25,12C1.25,10.31 3.08,9.07 5.62,8.32C5,5.74 5.16,3.53 6.62,2.69C8.09,1.85 10.08,2.81 12,4.64C13.92,2.81 15.91,1.85 17.37,2.69M17.08,12C17.42,12.75 17.72,13.5 17.97,14.26C20.07,13.63 21.25,12.73 21.25,12C21.25,11.27 20.07,10.37 17.97,9.74C17.72,10.5 17.42,11.25 17.08,12M6.92,12C6.58,11.25 6.28,10.5 6.03,9.74C3.93,10.37 2.75,11.27 2.75,12C2.75,12.73 3.93,13.63 6.03,14.26C6.28,13.5 6.58,12.75 6.92,12M15.92,14.26C15.82,14.43 15.72,14.6 15.62,14.77C15.93,14.72 16.23,14.67 16.5,14.61C16.43,14.33 16.32,14.04 16.21,13.75L15.92,14.26M13.03,18.3C14.62,19.8 16,20.38 16.62,20C17.26,19.65 17.45,18.18 16.94,16.04C16.17,16.2 15.36,16.32 14.54,16.4C14.06,17.07 13.55,17.71 13.03,18.3M8.08,9.74C8.18,9.57 8.28,9.4 8.38,9.23C8.07,9.28 7.77,9.33 7.5,9.39C7.57,9.67 7.68,9.96 7.79,10.25L8.08,9.74M10.97,5.7C9.38,4.2 8,3.62 7.37,4C6.74,4.35 6.55,5.82 7.06,7.96C7.83,7.8 8.64,7.68 9.46,7.6C9.94,6.93 10.45,6.29 10.97,5.7Z" /></svg>',
  tooltip: "Custom Component",
  className: "gs-utl-mt-auto",
  layout: {
    id: "customLayout",
    layout: { type: "custom", component: () => /* @__PURE__ */ l.jsx("div", { children: "Custom Reat component" }) },
    header: { label: "Custom" },
    style: { marginLeft: 40 }
  }
});
const VL = {
  type: "row",
  style: { height: "100%" },
  children: [{ type: "sidebarLeft" }, { type: "canvasSidebarTop" }, { type: "sidebarRight" }]
};
class HL {
  constructor(t, n) {
    this.projectType = Fe.web, this.editor = void 0, this.sdkProps = {}, this.sdkLicenseError = "", this.licenseCheckRetry = 0, this.showPoweredBy = !1, this.isInPreview = !1, this.isCssPanelActive = !1, this.isLeftSidebarOpen = !0, this.isRightSidebarOpen = !0, this.isTopSidebarOpen = !0, this.isBottomSidebarOpen = !0, this.isSelectingTarget = !1, this.leftSidebarSize = 240, this.rightSidebarSize = 240, this.transitionTime = 152, this.topBarSize = 36, this.isDev = !1, this.isStage = !1, this.editorKey = 0, this.appInstalled = !1, this.licenseKey = "", this.licenseCheckStarted = !1, this.studioSdkVersion = "1.0.31", this.projectDataCustom = {}, this.displayMode = "browser", this.projectPlugins = [], this.queryParams = {}, this.isCanvasPanning = !1, this.selectedDesignerTab = "style", this.customAssets = void 0, this.nextProjectData = void 0, this.isSaving = !1, this.isReady = !1, this.sdkPagesConfigUpdates = 0, this.panelPageSettings = {
      isOpen: !1,
      width: 300,
      page: void 0
    }, this.rootElWidth = 0, this._projectId = "", this.store = t, n && Object.keys(n).forEach((o) => {
      const s = o, i = n[s];
      i !== void 0 && (this[s] = i);
    });
    const r = ir() ? window.location.search : "";
    this.queryParams = Zx(r), Xt(
      this,
      {
        sdkProps: !1
      },
      { autoBind: !0 }
    );
  }
  get baseApiUrl() {
    const { isDev: t, isStage: n } = this;
    return Ux({ isDev: t, isStage: n });
  }
  get projectId() {
    var r, o;
    const { project: t, storage: n } = this.sdkOptions;
    return this._projectId || ((o = (r = (n == null ? void 0 : n.project) || (t == null ? void 0 : t.default)) == null ? void 0 : r.custom) == null ? void 0 : o.id) || "";
  }
  get projectIdToLoad() {
    return this.store.localSettingsStore.lastProjectId || this.projectId;
  }
  get currentProjectId() {
    return this.projectDataCustom.id || this.projectId;
  }
  get isBrowserMode() {
    return this.displayMode === "browser";
  }
  get sdkOptions() {
    return this.sdkProps.options;
  }
  get sdkProjectId() {
    var t, n;
    return (n = (t = this.sdkOptions.project) == null ? void 0 : t.id) == null ? void 0 : n.toString();
  }
  get sdkIdentityId() {
    var t, n;
    return (n = (t = this.sdkOptions.identity) == null ? void 0 : t.id) == null ? void 0 : n.toString();
  }
  get sdkPagesConfig() {
    return this.sdkPagesConfigUpdates, this.sdkOptions.pages;
  }
  get sdkLayoutConfig() {
    return this.sdkOptions.layout;
  }
  get sdkComponentsConfig() {
    return this.sdkOptions.components;
  }
  get sdkCurrentLayout() {
    const { sdkLayoutConfig: t, rootElWidth: n } = this, r = t == null ? void 0 : t.responsive;
    let o = (t == null ? void 0 : t.default) || VL;
    if (n && r) {
      const i = Object.keys(r).map(Number).sort((a, c) => a - c).find((a) => n <= a);
      o = i ? r[i] : o;
    }
    return o;
  }
  get sdkCustomIcons() {
    var t;
    return (t = this.sdkOptions.customTheme) == null ? void 0 : t.icons;
  }
  get isProjectTypeEmail() {
    return this.projectType === Fe.email;
  }
  get showPages() {
    return this.isReady && this.sdkPagesConfig !== !1 && !this.isProjectTypeEmail;
  }
  get showSelectors() {
    return !this.isProjectTypeEmail;
  }
  get sdkMisconfigurationError() {
    if (this.store.assetsStore.isUsingAssetCloud || this.isUsingProjectCloud) {
      const n = this.sdkProjectId, r = this.sdkIdentityId;
      if (!n || !r)
        return 'SDK Misconfiguration Error: When using assets.storageType == "cloud" or storage.type === "cloud", project.id and identity.id are required.';
    }
    return "";
  }
  get isUsingProjectSelfHosted() {
    var t;
    return ((t = this.sdkOptions.storage) == null ? void 0 : t.type) === Ju.self;
  }
  get isUsingProjectCloud() {
    var t;
    return ((t = this.sdkOptions.storage) == null ? void 0 : t.type) === Ju.cloud;
  }
  get publicStateTheme() {
    return {
      theme: this.store.localSettingsStore.theme
    };
  }
  setPublicStateTheme(t) {
    t.theme !== void 0 && (this.store.localSettingsStore.theme = t.theme);
  }
  *init() {
    var p, f;
    const { store: t, sdkOptions: n } = this, { lastProjectId: r, lastProjectType: o } = t.localSettingsStore, s = (p = n.project) == null ? void 0 : p.default, { project: i } = n.storage || {};
    let a, c;
    o && (this.store.templatesStore._projectTypeFilter = o), r && (a = (f = (yield yv(o)).find((v) => v.id === r)) == null ? void 0 : f.data), a ? c = a : i ? c = i : s && (c = s);
    const u = (c == null ? void 0 : c.custom) || {}, d = u.projectType;
    d && (this.projectType = d), u.projectType = this.projectType, this.setProjectDataCustom({ ...u, id: this.projectIdToLoad }), yield t.pluginStore.initProjectPlugins(this.projectType), this.editorKey++;
  }
  setInstallEvent(t) {
    this.installEvent = t;
  }
  setAppInstalled(t) {
    this.appInstalled = t;
  }
  setDisplayMode(t) {
    this.displayMode = t;
  }
  setProject(t) {
    const n = this.editor, { id: r, data: o, isTemplate: s } = t, i = n.Storage.getConfig().options.local, a = s ? `${r}__${Jx()}` : r;
    this._projectId = a, i.key = a, Xx(o) || this.loadProjectData({
      ...o,
      custom: {
        ...o.custom,
        id: a,
        projectType: this.store.templatesStore.projectTypeFilter
      }
    });
  }
  setProjectDataCustom(t) {
    const n = {
      ...this.projectDataCustom,
      ...t
    };
    this.projectDataCustom = n, this.projectType = n.projectType || Fe.web, this.editor && fv(this.editor, n), n.id && this.store.localSettingsStore.setLocalState({
      lastProjectId: n.id,
      lastProjectType: this.projectType
    });
  }
  /**
   * Load new GrapesJS JSON (eg. from .grapesjs file)
   */
  loadProjectData(t) {
    const n = t.custom || {};
    if (BL(t) !== this.projectType)
      this.setNextProjectData(t), this.setProjectDataCustom(n), this.updateStudio();
    else {
      const r = this.editor;
      r.loadProjectData(t), r.UndoManager.clear(), this.setProjectDataCustom(n);
    }
  }
  setNextProjectData(t) {
    this.nextProjectData = t;
  }
  setLeftSidebarSize(t) {
    this.leftSidebarSize = t;
  }
  setRightSidebarSize(t) {
    this.rightSidebarSize = t;
  }
  setEditor(t) {
    this.editor = t;
  }
  setPreview(t) {
    this.isInPreview = t;
  }
  toggleCssPanel() {
    this.isCssPanelActive = !this.isCssPanelActive;
  }
  toggleLeftSidebar() {
    this.isLeftSidebarOpen = !this.isLeftSidebarOpen, this.refreshEditorPostTransition();
  }
  setLeftSidebarOpen(t) {
    this.isLeftSidebarOpen = t, this.refreshEditorPostTransition();
  }
  toggleRightSidebar() {
    this.isRightSidebarOpen = !this.isRightSidebarOpen, this.refreshEditorPostTransition();
  }
  setRightSidebarOpen(t) {
    this.isRightSidebarOpen = t, this.refreshEditorPostTransition();
  }
  setTopSidebarOpen(t) {
    this.isTopSidebarOpen = t, this.refreshEditorPostTransition();
  }
  setBottomSidebarOpen(t) {
    this.isBottomSidebarOpen = t, this.refreshEditorPostTransition();
  }
  refreshEditorPostTransition() {
    setTimeout(() => {
      var t;
      return (t = this.editor) == null ? void 0 : t.refresh();
    }, this.transitionTime);
  }
  setCanvasPanning(t) {
    this.isCanvasPanning = t;
  }
  setSelectingTarget(t) {
    this.isSelectingTarget = t;
  }
  setSelectedDesignerTab(t) {
    this.selectedDesignerTab = t;
  }
  setCustomAssets(t) {
    this.customAssets = t;
  }
  setIsSaving(t) {
    this.isSaving = t;
  }
  setIsReady(t) {
    this.isReady = t;
  }
  setPanelPageSettings(t) {
    this.panelPageSettings = {
      ...this.panelPageSettings,
      ...t
    };
  }
  setSdkPagesConfig(t) {
    this.sdkProps.options.pages = t && {
      ...this.sdkPagesConfig,
      ...t
    }, ++this.sdkPagesConfigUpdates;
  }
  setRootElWidth(t) {
    this.rootElWidth = t, this.refreshEditorCanvas();
  }
  *loadLicense() {
    const { editor: t } = this;
    try {
      this.licenseCheckStarted = !0;
      const { licenseKey: n, baseApiUrl: r, studioSdkVersion: o } = this;
      t == null || t.trigger($x, { baseApiUrl: r });
      const s = yield sr.post(`${r}/sdk/${n || "na"}`, {
        params: { d: window.location.hostname, v: o }
      });
      if (s instanceof Error)
        throw s;
      const i = s.result || {}, { license: a, error: c, plan: u } = i;
      c ? this.sdkLicenseError = c : (this.sdkLicense = a, u != null && u.poweredBy && (this.showPoweredBy = !0)), t == null || t.trigger(Sf, i);
    } catch (n) {
      this.licenseCheckRetry < 3 ? (this.licenseCheckRetry++, setTimeout(() => this.loadLicense(), 3e3)) : (console.error(n), this.showPoweredBy = !0, t == null || t.trigger(Sf, {}));
    }
  }
  *updateStudio() {
    const { pluginStore: t } = this.store, { projectType: n } = this.projectDataCustom;
    yield t.initProjectPlugins(n), this.editorKey++;
  }
  refreshStudio() {
    var t;
    this.editorKey && (this.setNextProjectData((t = this.editor) == null ? void 0 : t.getProjectData()), this.editorKey++);
  }
  refreshEditorCanvas() {
    var t;
    (t = this.editor) == null || t.refresh({ tools: !0 });
  }
}
const BL = (e) => {
  var t;
  return ((t = e.custom) == null ? void 0 : t.projectType) || Fe.web;
}, zL = (e) => {
  Mm(
    () => e.sdkCurrentLayout,
    () => e.refreshStudio()
  );
}, ve = () => Dt().appEditorStore, FL = () => {
  try {
    return ve();
  } catch {
  }
}, Xo = () => Cs().appEditorStore, rc = () => {
  const [e, t] = U(0), n = Dt().appEditorStore, { transitionTime: r } = n;
  return W(() => {
    setTimeout(() => t((o) => ++o), r);
  }, [r]), [e];
}, Tb = String.raw, Ie = (e, t) => {
  if (t == null)
    return "";
  const n = e[0], r = e[1];
  return `${n}${t}${r}`;
}, UL = (e, t = "") => {
  var n, r, o, s, i, a, c, u, d, p, f, h, v, g, b, m, y, x, w, S, j, E, C, P, _, O, k, z, F, A, T, D, M, N, V, K, J, ie, X, ne, fe, se, q, ee, pe, ae, we, Ce, ot, lt, Et, ut, Ze, ln, ze, st, Pn, _t, ht, St, En, It, _n, no, ko, Mo;
  return Tb`
  ${t}.${$e.txt} {
    ${Ie`color: ${(r = (n = e.colors) == null ? void 0 : n.global) == null ? void 0 : r.text};`}
  }

  ${t}.${$e.bg} {
    ${Ie`background-color: ${(s = (o = e.colors) == null ? void 0 : o.global) == null ? void 0 : s.background3};`}
  }

  ${t}.${$e.br} {
    ${Ie`border-color: ${(a = (i = e.colors) == null ? void 0 : i.global) == null ? void 0 : a.border};`}
  }

  ${t}.${$e.bgA} {
    ${Ie`background-color: ${(u = (c = e.colors) == null ? void 0 : c.primary) == null ? void 0 : u.background1};`}
    ${Ie`color: ${(p = (d = e.colors) == null ? void 0 : d.primary) == null ? void 0 : p.text};`}
  }

  ${t}.${$e.bgA2} {
    ${Ie`background-color: ${(h = (f = e.colors) == null ? void 0 : f.primary) == null ? void 0 : h.background1};`}
    ${Ie`color: ${(g = (v = e.colors) == null ? void 0 : v.primary) == null ? void 0 : g.text};`}
  }

  ${t}.${$e.hBgAct}:hover.${$e.hBgAct}:hover,
  ${t}.${$e.hBgA2}:hover.${$e.hBgA2}:hover {
    ${Ie`background-color: ${(m = (b = e.colors) == null ? void 0 : b.primary) == null ? void 0 : m.backgroundHover};`}
  }

  ${t}.${$e.tA} {
    ${Ie`color: ${(x = (y = e.colors) == null ? void 0 : y.primary) == null ? void 0 : x.background1};`}
  }

  ${t}.${$e.tAo} {
    ${Ie`color: ${(S = (w = e.colors) == null ? void 0 : w.primary) == null ? void 0 : S.background1};`}
  }

  ${t}.${$e.hTAo}:hover.${$e.hTAo}:hover,
  ${t}.group:hover .${$e.grouphTAo} {
    ${Ie`color: ${(E = (j = e.colors) == null ? void 0 : j.primary) == null ? void 0 : E.backgroundHover};`}
  }

  ${t}.${$e.bA} {
    ${Ie`border-color: ${(P = (C = e.colors) == null ? void 0 : C.primary) == null ? void 0 : P.background1};`}
  }

  ${t}.${$e.bg0} {
    ${Ie`background-color: ${(O = (_ = e.colors) == null ? void 0 : _.primary) == null ? void 0 : O.background3};`}
    ${Ie`color: ${(z = (k = e.colors) == null ? void 0 : k.primary) == null ? void 0 : z.background1};`}
  }

  ${t}.${$e.bgH} {
    ${Ie`background-color: ${(A = (F = e.colors) == null ? void 0 : F.global) == null ? void 0 : A.background1};`}
  }

  ${t}.${$e.bgH2} {
    ${Ie`background-color: ${(D = (T = e.colors) == null ? void 0 : T.global) == null ? void 0 : D.background2};`}
  }

  ${t}.${$e.hBgH}:hover,
  ${t}.${$e.hBgH2}:hover {
    ${Ie`background-color: ${(N = (M = e.colors) == null ? void 0 : M.global) == null ? void 0 : N.backgroundHover};`}
  }

  ${t}.${$e.sel} {
    ${Ie`background-color: ${(K = (V = e.colors) == null ? void 0 : V.selector) == null ? void 0 : K.background2};`}
    ${Ie`color: ${(ie = (J = e.colors) == null ? void 0 : J.selector) == null ? void 0 : ie.background1};`}
  }

  ${t}.${$e.selBr} {
    ${Ie`border-color: ${(ne = (X = e.colors) == null ? void 0 : X.selector) == null ? void 0 : ne.background1};`}
  }

  ${t}.${$e.cmp} {
    ${Ie`background-color: ${(se = (fe = e.colors) == null ? void 0 : fe.component) == null ? void 0 : se.background1};`}
    ${Ie`color: ${(ee = (q = e.colors) == null ? void 0 : q.component) == null ? void 0 : ee.text};`}
  }

  ${t}.${$e.cmpBgSoft} {
    ${Ie`background-color: ${(ae = (pe = e.colors) == null ? void 0 : pe.component) == null ? void 0 : ae.background2};`}
  }

  ${t}.${$e.cmpBgSoftX} {
    ${Ie`background-color: ${(Ce = (we = e.colors) == null ? void 0 : we.component) == null ? void 0 : Ce.background3};`}
  }

  ${t}.${$e.cmpBr} {
    ${Ie`border-color: ${(lt = (ot = e.colors) == null ? void 0 : ot.component) == null ? void 0 : lt.background1};`}
  }

  ${t}.${$e.cmpSymbol} {
    ${Ie`background-color: ${(ut = (Et = e.colors) == null ? void 0 : Et.symbol) == null ? void 0 : ut.background1};`}
    ${Ie`color: ${(ln = (Ze = e.colors) == null ? void 0 : Ze.symbol) == null ? void 0 : ln.text};`}
  }

  ${t}.${$e.cmpBgSymbolSoft} {
    ${Ie`background-color: ${(st = (ze = e.colors) == null ? void 0 : ze.symbol) == null ? void 0 : st.background2};`}
  }

  ${t}.${$e.cmpBgSymbolSoftX} {
    ${Ie`background-color: ${(_t = (Pn = e.colors) == null ? void 0 : Pn.symbol) == null ? void 0 : _t.background3};`}
  }

  ${t}.${$e.cmpSymbolBr} {
    ${Ie`border-color: ${(St = (ht = e.colors) == null ? void 0 : ht.symbol) == null ? void 0 : St.background1};`}
  }

  ${t}.${$e.cmpTxtActive} {
    ${Ie`color: ${(It = (En = e.colors) == null ? void 0 : En.component) == null ? void 0 : It.text};`}
  }

  ${t}.${$e.focus}:focus-visible {
    ${Ie`box-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) ${(no = (_n = e.colors) == null ? void 0 : _n.global) == null ? void 0 : no.focus};`}
  }

  ${t}.${$e.inputText}::placeholder {
    ${Ie`color: ${(Mo = (ko = e.colors) == null ? void 0 : ko.global) == null ? void 0 : Mo.placeholder};`}
  }
`;
}, WL = () => {
  const e = ve(), { sdkOptions: t } = e, { customTheme: n } = t;
  if (!n)
    return null;
  const r = Tb`
    ${n.default ? UL(
    n.default,
    t.theme === Hr.light ? `:not(.gs-utl-${Hr.dark}) ` : `.gs-utl-${Hr.dark} `
  ) : ""}
  `;
  return /* @__PURE__ */ l.jsx("style", { children: r });
}, GL = ce(function() {
  const t = Cp(), { isOpen: n, items: r, coordinates: o } = t, { x: s, y: i } = o;
  return W(() => {
    const a = window.document, c = (u) => u.key === "Escape" && t.hide();
    return a.addEventListener("keydown", c), () => {
      a.removeEventListener("keydown", c);
    };
  }, []), /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
    /* @__PURE__ */ l.jsx(lv, { open: n, items: r, x: s, y: i }),
    n && /* @__PURE__ */ l.jsx("div", { onClick: t.hide, className: B("z-10 fixed inset-0") })
  ] });
});
function yt({ children: e, label: t, s: n = "m", pill: r, border: o, nopad: s, className: i, block: a, ...c }) {
  return /* @__PURE__ */ l.jsx(
    "div",
    {
      className: L([
        !a && "inline-block",
        i,
        !s && ke.xyS2,
        r ? re.pill : re.rnd,
        o && `${re.b} ${H.br}`,
        n === "s" && "text-sm",
        n === "xs" && "gjs-p-1"
      ]),
      ...c,
      children: t || e
    }
  );
}
const ug = 15, KL = ce(function() {
  const { isActive: t, content: n } = mv(), [r, o] = U({ x: 0, y: 0 });
  W(() => {
    const i = (a) => {
      o({ x: a.clientX, y: Math.max(0, a.clientY) });
    };
    return t && window.addEventListener("pointermove", i), () => {
      window.removeEventListener("pointermove", i);
    };
  }, [t]);
  const s = oe(
    () => ({
      transform: `translate(${r.x + ug}px, ${r.y + ug}px)`
    }),
    [r]
  );
  return /* @__PURE__ */ l.jsx(tr, { show: t, ...$i, children: /* @__PURE__ */ l.jsx("div", { className: B("fixed top-0 left-0 pointer-badge pointer-events-none z-10"), style: s, children: /* @__PURE__ */ l.jsx(yt, { className: B("gjs-px-4 gjs-py-2", H.bgBlur, H.txtHighEmphasis), pill: !0, border: !0, nopad: !0, children: n }) }) });
}), qL = ce(function() {
  const t = wv();
  return /* @__PURE__ */ l.jsx(
    q_,
    {
      className: L("fixed top-5 right-5 z-20"),
      toasts: t.toasts,
      onDismiss: t.remove
    }
  );
}), du = typeof window < "u" ? window.location.hostname : "";
du || // [::1] is the IPv6 localhost address.
du === "[::1]" || // 127.0.0.0/8 are considered localhost for IPv4.
du.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/);
function YL(e) {
  if (
    // ({"NODE_ENV":"production","NPM_PACKAGE_VERSION":"1.0.0","STUDIO_NPM_PACKAGE_VERSION":"1.0.31"}).NODE_ENV === 'production' &&
    "serviceWorker" in navigator
  ) {
    if (new URL({ NODE_ENV: "production", NPM_PACKAGE_VERSION: "1.0.0", STUDIO_NPM_PACKAGE_VERSION: "1.0.31" }.PUBLIC_URL || "", window.location.href).origin !== window.location.origin)
      return;
    window.addEventListener("beforeinstallprompt", (o) => {
      o.preventDefault(), Xo().setInstallEvent(o);
    }), window.addEventListener("appinstalled", () => {
      Xo().setAppInstalled(!0);
    }), navigator.serviceWorker.addEventListener("controllerchange", () => {
    });
    const n = (o) => {
      let s = "browser";
      const i = navigator.standalone || document.referrer.startsWith("android-app://");
      (o || i) && (s = "standalone"), Xo().setDisplayMode(s);
    }, r = window.matchMedia("(display-mode: standalone)");
    r.addEventListener("change", (o) => n(o.matches)), n(r.matches);
  }
}
const XL = Mt(function({ children: t }, n) {
  const [r, o] = U(""), s = an(), i = G(null), a = ve(), {
    style: c,
    className: u,
    options: d = Cd,
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    onUpdate: p,
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    onEditor: f,
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    onReady: h,
    ...v
  } = a.sdkProps, { autoHeight: g = !0, serviceWorker: b } = d;
  xl(n, () => i.current, []);
  const m = oe(
    () => ({
      ...c,
      height: r || (c == null ? void 0 : c.height) || ""
    }),
    [c, r]
  );
  return W(() => {
    const y = i.current, x = () => {
      var j;
      return (j = y == null ? void 0 : y.parentElement) == null ? void 0 : j.offsetHeight;
    }, w = x(), S = () => {
      const j = y.style.position;
      y.style.position = "absolute";
      const E = x();
      E && o(`${E}px`), y.style.position = j;
    };
    if (w && g)
      return o(`${w}px`), window.addEventListener("resize", S), () => window.removeEventListener("resize", S);
  }, [g, i.current]), W(() => {
    const y = i.current;
    if (!y)
      return;
    s.rootEl || s.setRootEl(y), s.init();
    const x = new ResizeObserver(() => {
      a.setRootElWidth(y.offsetWidth);
    });
    return a.setRootElWidth(y.offsetWidth), x.observe(y), () => {
      x.disconnect();
    };
  }, [i.current]), W(() => {
    b && YL();
  }, []), /* @__PURE__ */ l.jsxs(
    "div",
    {
      ref: i,
      className: Y(B(Xm, "gs-studio-editor overflow-hidden h-full w-full text-base"), u),
      style: m,
      ...v,
      children: [
        /* @__PURE__ */ l.jsx(WL, {}),
        t,
        /* @__PURE__ */ l.jsxs("div", { className: B("gs-studio-els", H.txt), children: [
          /* @__PURE__ */ l.jsx(qL, {}),
          /* @__PURE__ */ l.jsx(KL, {}),
          /* @__PURE__ */ l.jsx(GL, {})
        ] })
      ]
    }
  );
}), ja = "gs-cmp-tabs";
function To({
  tabs: e,
  className: t,
  classNamePanel: n,
  classNameTab: r,
  variant: o,
  style: s,
  onChange: i = Kx,
  value: a
}) {
  const c = o === "pills", u = c ? Y("gs-utl-rounded-full gs-utl-text-sm gs-utl-px-[2px] gs-utl-py-[2px]", H.bgH) : "", d = (g) => c ? Y("gs-utl-rounded-full gs-utl-px-3 gs-utl-py-1", g ? H.bg : "") : Y("gs-utl-border-b-2", ke.xy), p = (g) => {
    g && (g.tabIndex = -1);
  }, f = (g) => {
    const b = g.currentTarget;
    setTimeout(() => b.blur(), 10);
  }, h = wr(a) ? e.findIndex((g) => g.id === a) : void 0, v = !e.some((g) => !!g.content);
  return /* @__PURE__ */ l.jsxs(
    Rs.Group,
    {
      onChange: (g) => i(e[g].id),
      defaultIndex: e.findIndex((g) => g.id === a),
      selectedIndex: h,
      children: [
        /* @__PURE__ */ l.jsx(Rs.List, { as: R, className: Y(ja, t, u), style: s, full: !0, nowrap: !0, children: e.map((g) => /* @__PURE__ */ l.jsx(
          Rs,
          {
            disabled: g.disabled,
            className: ({ selected: b }) => Y(
              `${ja}__tab`,
              "gs-utl-flex-1 focus:gs-utl-outline-none",
              g.disabled && "gs-utl-cursor-not-allowed gs-utl-opacity-50",
              mi.focus,
              d(b),
              b ? `${H.tAo} ${H.bA}` : H.br,
              r
            ),
            children: g.label
          },
          g.id
        )) }),
        /* @__PURE__ */ l.jsx(
          Rs.Panels,
          {
            className: Y(
              `${ja}__panels`,
              "gs-utl-overflow-hidden gs-utl-flex-1",
              v && "gs-utl-hidden",
              n
            ),
            children: e.map((g) => /* @__PURE__ */ l.jsx(
              Rs.Panel,
              {
                tabIndex: -1,
                className: Y(`${ja}__panel`, "gs-utl-h-full"),
                ref: p,
                onFocus: f,
                children: g.content
              },
              g.id
            ))
          }
        )
      ]
    }
  );
}
const ZL = B("text-sm text-center w-full", tt.txtEllips), JL = ({ block: e, className: t }) => {
  const n = Pt(), { Blocks: r } = n, s = Me().tScoped("blockManager.labels"), i = () => {
    r.startDrag(e);
  }, a = () => {
    r.endDrag(!1);
  }, c = !!e.get("full"), u = e.get("mediaReact"), d = e.getMedia(), p = e.get("attributes") || {}, f = s(e.getId()) || e.getLabel(), h = B(
    "gs-block-item cursor-pointer gjs-py-2 gjs-px-2 transition-colors",
    re.b,
    re.rnd,
    H.br,
    H.hTAo,
    H.hBgH,
    c && "col-span-full",
    t
  ), v = wr(p.class) ? p.class : B("h-10 w-10 block-media");
  return /* @__PURE__ */ l.jsxs(R, { className: h, onDragStart: i, onDragEnd: a, items: "center", draggable: !0, col: !0, children: [
    u || /* @__PURE__ */ l.jsx("div", { className: v, dangerouslySetInnerHTML: { __html: d } }),
    /* @__PURE__ */ l.jsx("div", { className: ZL, title: f, children: f })
  ] });
}, QL = ce(JL);
function Gp({ className: e, value: t, onChange: n }) {
  const [r, o] = U(t), s = G(null), i = (u) => {
    const { value: d } = u.target;
    o(d);
  }, a = () => {
    n(r || t);
  }, c = (u) => {
    switch (u.key) {
      case "Escape":
        n(t);
        break;
      case "Enter":
        n(r || t);
        break;
    }
  };
  return W(() => {
    s.current && s.current.select();
  }, []), /* @__PURE__ */ l.jsx(
    "input",
    {
      autoFocus: !0,
      className: L([e, "w-full", H.bgTr]),
      value: r,
      onChange: i,
      onBlur: a,
      onKeyDown: c,
      ref: s
    }
  );
}
function Ab({
  className: e,
  value: t,
  active: n,
  unstyled: r,
  activable: o,
  onChange: s,
  onActive: i,
  ...a
}) {
  const [c, u] = U(n);
  W(() => {
    u(n);
  }, [n]);
  const d = (f) => {
    i == null || i(f), u(f);
  }, p = (f) => {
    s(f), d(!1);
  };
  return /* @__PURE__ */ l.jsx("div", { className: L("truncate", e), ...a, onDoubleClick: () => o && d(!0), children: c ? /* @__PURE__ */ l.jsx(Gp, { className: L(r && tt.noFocusOut), value: t, onChange: p }) : /* @__PURE__ */ l.jsx(l.Fragment, { children: t }) });
}
const dg = B("text-sm w-full", tt.txtEllips), ek = ({ symbol: e, className: t }) => {
  const n = Pt(), { Components: r } = n, o = Me(), s = Dn(), i = o.tScoped("blockManager.symbols"), a = () => {
    const { draggable: m, droppable: y, attributes: x, type: w, tagName: S } = e.attributes;
    n.Canvas.startDrag({
      // @ts-expect-error Allow to return Components
      content: () => r.addSymbol(e),
      model: e,
      dragDef: {
        type: w,
        tagName: S,
        draggable: m,
        droppable: y,
        attributes: x
      }
    });
  }, c = () => {
    n.Canvas.endDrag();
  }, u = e.getIcon(), d = e.getName(), p = r.getSymbolInfo(e).instances.length, f = B("h-10 w-10 block-media", H.grouphTAo), h = B("gjs-pt-1 gjs-mt-2", re.bt, H.br), v = B("cursor-pointer gjs-p-2 transition-colors group", re.b, re.rnd, H.br, H.hBgH, t), g = () => {
    s.confirm({
      title: i("delete"),
      content: i("deleteConfirm"),
      onConfirm: () => e.remove()
    });
  }, b = (m) => {
    e.set("custom-name", m);
  };
  return /* @__PURE__ */ l.jsxs(R, { className: v, onDragStart: a, onDragEnd: c, items: "center", draggable: !0, col: !0, children: [
    /* @__PURE__ */ l.jsx("div", { className: f, dangerouslySetInnerHTML: { __html: u } }),
    /* @__PURE__ */ l.jsxs(R, { items: "center", justify: "between", className: h, space: "m", full: !0, children: [
      /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(R, { className: B(dg, "gjs-mr-auto"), children: /* @__PURE__ */ l.jsx(mt, { title: `${p} ${i("instancesProject")}`, children: /* @__PURE__ */ l.jsx(yt, { label: `${p}`, className: B(H.bgH75) }) }) }) }),
      /* @__PURE__ */ l.jsx($, { className: B("truncate"), grow: !0, title: d, children: /* @__PURE__ */ l.jsx(Ab, { activable: !0, value: d, className: dg, onChange: b }) }),
      /* @__PURE__ */ l.jsx($, { className: B(tt.hoverGroup), children: /* @__PURE__ */ l.jsx(R, { justify: "end", full: !0, children: /* @__PURE__ */ l.jsx(Bt, { onClick: g, title: i("delete"), border: !1, size: "", block: !0, children: /* @__PURE__ */ l.jsx(te, { icon: Q.delete, size: le.s }) }) }) })
    ] })
  ] });
}, tk = ce(ek), nk = [
  { id: "regular", label: "Regular" },
  { id: "symbols", label: "Symbols" }
], rk = "gs-block-manager", Lb = ce(function({ isOpen: t, className: n, ...r }) {
  const o = Pt(), { Blocks: s, Components: i } = o, a = Me(), [c, u] = U(
    "regular"
    /* REGULAR */
  ), [d, p] = U(""), [f, h] = U(0), [v, g] = U([]), b = a.tScoped("blockManager.labels"), m = c === "symbols", y = G(null);
  W(() => {
    const P = s.events.custom, _ = i.events.symbol, O = () => {
      g(i.getSymbols()), h((k) => ++k);
    };
    return o.on(_, O), o.on(P, O), () => {
      o.off(_, O), o.off(P, O);
    };
  }, [o]), W(() => {
    if (y.current && t) {
      const P = y.current.querySelector("input");
      setTimeout(() => P == null ? void 0 : P.focus(), a1);
    }
  }, [y.current, t]);
  const x = (P) => b(P.getId()) || P.getLabel(), w = v.filter((P) => qo(P.getName(), d)), S = s.getAll().reduce((P, _) => {
    const O = _.getCategoryLabel();
    if (d && !qo(O, d) && !qo(x(_), d))
      return P;
    const k = P[O];
    return k ? k.push(_) : P[O] = [_], P;
  }, {}), j = a.t("search"), E = Object.keys(S), C = L("gjs-pb-3", ke.xyS, re.bb, H.br);
  return /* @__PURE__ */ l.jsxs(R, { className: L(rk, n), col: !0, full: !0, children: [
    /* @__PURE__ */ l.jsxs(R, { className: C, space: "s", col: !0, children: [
      r.symbols !== !1 && /* @__PURE__ */ l.jsx(To, { tabs: nk, onChange: u, value: c, variant: "pills" }),
      r.search !== !1 && /* @__PURE__ */ l.jsx(
        dt,
        {
          ref: y,
          size: "s",
          value: d,
          onInput: p,
          placeholder: `${j}...`,
          type: "search"
        }
      )
    ] }),
    /* @__PURE__ */ l.jsxs($, { grow: !0, className: L(tt.scrollY), children: [
      m && (w.length ? /* @__PURE__ */ l.jsx(R, { className: L("grid grid-cols-1 gap-2 gjs-p-2"), children: w.map((P) => /* @__PURE__ */ l.jsx(tk, { symbol: P }, `${f}_${P.getId()}`)) }) : /* @__PURE__ */ l.jsx(R, { className: L("text-center gjs-p-4"), justify: "center", children: a.t("blockManager.symbols.notFound") })),
      !m && (E.length ? E.map((P, _) => /* @__PURE__ */ l.jsx(
        Oo,
        {
          sticky: !0,
          open: !0,
          handler: P,
          className: (O) => L(zd.itemList({ index: _, open: O, length: E.length })),
          children: /* @__PURE__ */ l.jsx(R, { className: L("grid grid-cols-2 gap-2 gjs-p-2"), children: S[P].map((O) => /* @__PURE__ */ l.jsx(QL, { block: O }, O.id)) })
        },
        P
      )) : /* @__PURE__ */ l.jsx(R, { className: L("text-center gjs-p-4"), justify: "center", children: a.t("blockManager.notFound") }))
    ] })
  ] });
}), ok = {
  add: Q.plus
}, pg = (e, t) => t || ok[e];
function Kp({ className: e, icon: t, title: n, onClose: r, actions: o = [], children: s }) {
  const { t: i } = Me();
  return /* @__PURE__ */ l.jsxs(R, { className: L("gjs-card-title", e), items: "center", children: [
    /* @__PURE__ */ l.jsx($, { className: L("truncate"), grow: !0, children: n }),
    s,
    /* @__PURE__ */ l.jsxs(R, { space: "s", children: [
      !!o.length && /* @__PURE__ */ l.jsx(R, { space: "xs", className: L("gjs-px-1"), children: o.map(({ id: a, icon: c, className: u, ...d }) => /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(
        Bt,
        {
          block: !0,
          border: !1,
          size: "xs",
          icon: pg(a, c) ? { icon: pg(a, c), size: le.s } : void 0,
          className: L(tt.click, u),
          ...d
        }
      ) }, a)) }),
      (r || t) && /* @__PURE__ */ l.jsx(
        Bt,
        {
          title: i("close"),
          onClick: r,
          border: !1,
          className: L(tt.click),
          icon: { icon: Q.close, size: le.s },
          size: "xs",
          block: !0
        }
      )
    ] })
  ] });
}
const oc = 0, to = 1, Ps = 2, kb = 4;
function sk(e, t) {
  return (n) => e(t(n));
}
function ik(e, t) {
  return t(e);
}
function Mb(e, t) {
  return (n) => e(t, n);
}
function fg(e, t) {
  return () => e(t);
}
function qp(e, t) {
  return t(e), e;
}
function Ao(...e) {
  return e;
}
function ak(e) {
  e();
}
function hg(e) {
  return () => e;
}
function lk(...e) {
  return () => {
    e.map(ak);
  };
}
function sc() {
}
function Nt(e, t) {
  return e(to, t);
}
function jt(e, t) {
  e(oc, t);
}
function Yp(e) {
  e(Ps);
}
function Zo(e) {
  return e(kb);
}
function et(e, t) {
  return Nt(e, Mb(t, oc));
}
function gg(e, t) {
  const n = e(to, (r) => {
    n(), t(r);
  });
  return n;
}
function ft() {
  const e = [];
  return (t, n) => {
    switch (t) {
      case Ps:
        e.splice(0, e.length);
        return;
      case to:
        return e.push(n), () => {
          const r = e.indexOf(n);
          r > -1 && e.splice(r, 1);
        };
      case oc:
        e.slice().forEach((r) => {
          r(n);
        });
        return;
      default:
        throw new Error(`unrecognized action ${t}`);
    }
  };
}
function be(e) {
  let t = e;
  const n = ft();
  return (r, o) => {
    switch (r) {
      case to:
        o(t);
        break;
      case oc:
        t = o;
        break;
      case kb:
        return t;
    }
    return n(r, o);
  };
}
function ck(e) {
  let t, n;
  const r = () => t && t();
  return function(o, s) {
    switch (o) {
      case to:
        return s ? n === s ? void 0 : (r(), n = s, t = Nt(e, s), t) : (r(), sc);
      case Ps:
        r(), n = null;
        return;
      default:
        throw new Error(`unrecognized action ${o}`);
    }
  };
}
function si(e) {
  return qp(ft(), (t) => et(e, t));
}
function Jo(e, t) {
  return qp(be(t), (n) => et(e, n));
}
function uk(...e) {
  return (t) => e.reduceRight(ik, t);
}
function Se(e, ...t) {
  const n = uk(...t);
  return (r, o) => {
    switch (r) {
      case to:
        return Nt(e, n(o));
      case Ps:
        Yp(e);
        return;
    }
  };
}
function $b(e, t) {
  return e === t;
}
function Ut(e = $b) {
  let t;
  return (n) => (r) => {
    e(t, r) || (t = r, n(r));
  };
}
function Tt(e) {
  return (t) => (n) => {
    e(n) && t(n);
  };
}
function at(e) {
  return (t) => sk(t, e);
}
function Rr(e) {
  return (t) => () => t(e);
}
function Ca(e, t) {
  return (n) => (r) => n(t = e(t, r));
}
function vd(e) {
  return (t) => (n) => {
    e > 0 ? e-- : t(n);
  };
}
function Ks(e) {
  let t = null, n;
  return (r) => (o) => {
    t = o, !n && (n = setTimeout(() => {
      n = void 0, r(t);
    }, e));
  };
}
function mg(e) {
  let t, n;
  return (r) => (o) => {
    t = o, n && clearTimeout(n), n = setTimeout(() => {
      r(t);
    }, e);
  };
}
function Kn(...e) {
  const t = new Array(e.length);
  let n = 0, r = null;
  const o = Math.pow(2, e.length) - 1;
  return e.forEach((s, i) => {
    const a = Math.pow(2, i);
    Nt(s, (c) => {
      const u = n;
      n = n | a, t[i] = c, u !== o && n === o && r && (r(), r = null);
    });
  }), (s) => (i) => {
    const a = () => s([i].concat(t));
    n === o ? a() : r = a;
  };
}
function vg(...e) {
  return function(t, n) {
    switch (t) {
      case to:
        return lk(...e.map((r) => Nt(r, n)));
      case Ps:
        return;
      default:
        throw new Error(`unrecognized action ${t}`);
    }
  };
}
function Ne(e, t = $b) {
  return Se(e, Ut(t));
}
function br(...e) {
  const t = ft(), n = new Array(e.length);
  let r = 0;
  const o = Math.pow(2, e.length) - 1;
  return e.forEach((s, i) => {
    const a = Math.pow(2, i);
    Nt(s, (c) => {
      n[i] = c, r = r | a, r === o && jt(t, n);
    });
  }), function(s, i) {
    switch (s) {
      case to:
        return r === o && i(n), Nt(t, i);
      case Ps:
        return Yp(t);
      default:
        throw new Error(`unrecognized action ${s}`);
    }
  };
}
function lr(e, t = [], { singleton: n } = { singleton: !0 }) {
  return {
    id: dk(),
    constructor: e,
    dependencies: t,
    singleton: n
  };
}
const dk = () => Symbol();
function pk(e) {
  const t = /* @__PURE__ */ new Map(), n = ({ id: r, constructor: o, dependencies: s, singleton: i }) => {
    if (i && t.has(r))
      return t.get(r);
    const a = o(s.map((c) => n(c)));
    return i && t.set(r, a), a;
  };
  return n(e);
}
function fk(e, t) {
  const n = {}, r = {};
  let o = 0;
  const s = e.length;
  for (; o < s; )
    r[e[o]] = 1, o += 1;
  for (const i in t)
    r.hasOwnProperty(i) || (n[i] = t[i]);
  return n;
}
const Pa = typeof document < "u" ? I.useLayoutEffect : I.useEffect;
function hk(e, t, n) {
  const r = Object.keys(t.required || {}), o = Object.keys(t.optional || {}), s = Object.keys(t.methods || {}), i = Object.keys(t.events || {}), a = I.createContext({});
  function c(m, y) {
    m.propsReady && jt(m.propsReady, !1);
    for (const x of r) {
      const w = m[t.required[x]];
      jt(w, y[x]);
    }
    for (const x of o)
      if (x in y) {
        const w = m[t.optional[x]];
        jt(w, y[x]);
      }
    m.propsReady && jt(m.propsReady, !0);
  }
  function u(m) {
    return s.reduce((y, x) => (y[x] = (w) => {
      const S = m[t.methods[x]];
      jt(S, w);
    }, y), {});
  }
  function d(m) {
    return i.reduce((y, x) => (y[x] = ck(m[t.events[x]]), y), {});
  }
  const p = I.forwardRef((m, y) => {
    const { children: x, ...w } = m, [S] = I.useState(() => qp(pk(e), (C) => c(C, w))), [j] = I.useState(fg(d, S));
    Pa(() => {
      for (const C of i)
        C in w && Nt(j[C], w[C]);
      return () => {
        Object.values(j).map(Yp);
      };
    }, [w, j, S]), Pa(() => {
      c(S, w);
    }), I.useImperativeHandle(y, hg(u(S)));
    const E = n;
    return /* @__PURE__ */ l.jsx(a.Provider, { value: S, children: n ? /* @__PURE__ */ l.jsx(E, { ...fk([...r, ...o, ...i], w), children: x }) : x });
  }), f = (m) => I.useCallback(Mb(jt, I.useContext(a)[m]), [m]), h = (m) => {
    const x = I.useContext(a)[m], w = I.useCallback(
      (S) => Nt(x, S),
      [x]
    );
    return I.useSyncExternalStore(
      w,
      () => Zo(x),
      () => Zo(x)
    );
  }, v = (m) => {
    const x = I.useContext(a)[m], [w, S] = I.useState(fg(Zo, x));
    return Pa(
      () => Nt(x, (j) => {
        j !== w && S(hg(j));
      }),
      [x, w]
    ), w;
  }, g = I.version.startsWith("18") ? h : v;
  return {
    Component: p,
    usePublisher: f,
    useEmitterValue: g,
    useEmitter: (m, y) => {
      const w = I.useContext(a)[m];
      Pa(() => Nt(w, y), [y, w]);
    }
  };
}
const Nb = typeof document < "u" ? I.useLayoutEffect : I.useEffect;
var Xp = /* @__PURE__ */ ((e) => (e[e.DEBUG = 0] = "DEBUG", e[e.INFO = 1] = "INFO", e[e.WARN = 2] = "WARN", e[e.ERROR = 3] = "ERROR", e))(Xp || {});
const gk = {
  0: "debug",
  1: "log",
  2: "warn",
  3: "error"
}, mk = () => typeof globalThis > "u" ? window : globalThis, Rb = lr(
  () => {
    const e = be(
      3
      /* ERROR */
    );
    return {
      log: be((n, r, o = 1) => {
        var s;
        const i = (s = mk().VIRTUOSO_LOG_LEVEL) != null ? s : Zo(e);
        o >= i && console[gk[o]](
          "%creact-virtuoso: %c%s %o",
          "color: #0253b3; font-weight: bold",
          "color: initial",
          n,
          r
        );
      }),
      logLevel: e
    };
  },
  [],
  { singleton: !0 }
);
function Db(e, t, n) {
  const r = I.useRef(null);
  let o = (s) => {
  };
  if (typeof ResizeObserver < "u") {
    const s = I.useMemo(() => new ResizeObserver((i) => {
      const a = () => {
        const c = i[0].target;
        c.offsetParent !== null && e(c);
      };
      n ? a() : requestAnimationFrame(a);
    }), [e]);
    o = (i) => {
      i && t ? (s.observe(i), r.current = i) : (r.current && s.unobserve(r.current), r.current = null);
    };
  }
  return { ref: r, callbackRef: o };
}
function ic(e, t, n) {
  return Db(e, t, n).callbackRef;
}
function pl(e, t) {
  return Math.round(e.getBoundingClientRect()[t]);
}
function Ib(e, t) {
  return Math.abs(e - t) < 1.01;
}
function Vb(e, t, n, r = sc, o, s) {
  const i = I.useRef(null), a = I.useRef(null), c = I.useRef(null), u = I.useCallback(
    (f) => {
      const h = f.target, v = h === window || h === document, g = s ? v ? window.pageXOffset || document.documentElement.scrollLeft : h.scrollLeft : v ? window.pageYOffset || document.documentElement.scrollTop : h.scrollTop, b = s ? v ? document.documentElement.scrollWidth : h.scrollWidth : v ? document.documentElement.scrollHeight : h.scrollHeight, m = s ? v ? window.innerWidth : h.offsetWidth : v ? window.innerHeight : h.offsetHeight, y = () => {
        e({
          scrollTop: Math.max(g, 0),
          scrollHeight: b,
          viewportHeight: m
        });
      };
      f.suppressFlushSync ? y() : Pd.flushSync(y), a.current !== null && (g === a.current || g <= 0 || g === b - m) && (a.current = null, t(!0), c.current && (clearTimeout(c.current), c.current = null));
    },
    [e, t]
  );
  I.useEffect(() => {
    const f = o || i.current;
    return r(o || i.current), u({ target: f, suppressFlushSync: !0 }), f.addEventListener("scroll", u, { passive: !0 }), () => {
      r(null), f.removeEventListener("scroll", u);
    };
  }, [i, u, n, r, o]);
  function d(f) {
    const h = i.current;
    if (!h || (s ? "offsetWidth" in h && h.offsetWidth === 0 : "offsetHeight" in h && h.offsetHeight === 0))
      return;
    const v = f.behavior === "smooth";
    let g, b, m;
    h === window ? (b = Math.max(
      pl(document.documentElement, s ? "width" : "height"),
      s ? document.documentElement.scrollWidth : document.documentElement.scrollHeight
    ), g = s ? window.innerWidth : window.innerHeight, m = s ? document.documentElement.scrollLeft : document.documentElement.scrollTop) : (b = h[s ? "scrollWidth" : "scrollHeight"], g = pl(h, s ? "width" : "height"), m = h[s ? "scrollLeft" : "scrollTop"]);
    const y = b - g;
    if (f.top = Math.ceil(Math.max(Math.min(y, f.top), 0)), Ib(g, b) || f.top === m) {
      e({ scrollTop: m, scrollHeight: b, viewportHeight: g }), v && t(!0);
      return;
    }
    v ? (a.current = f.top, c.current && clearTimeout(c.current), c.current = setTimeout(() => {
      c.current = null, a.current = null, t(!0);
    }, 1e3)) : a.current = null, s && (f = { left: f.top, behavior: f.behavior }), h.scrollTo(f);
  }
  function p(f) {
    s && (f = { left: f.top, behavior: f.behavior }), i.current.scrollBy(f);
  }
  return { scrollerRef: i, scrollByCallback: p, scrollToCallback: d };
}
const ac = lr(
  () => {
    const e = ft(), t = ft(), n = be(0), r = ft(), o = be(0), s = ft(), i = ft(), a = be(0), c = be(0), u = be(0), d = be(0), p = ft(), f = ft(), h = be(!1), v = be(!1), g = be(!1);
    return et(
      Se(
        e,
        at(({ scrollTop: b }) => b)
      ),
      t
    ), et(
      Se(
        e,
        at(({ scrollHeight: b }) => b)
      ),
      i
    ), et(t, o), {
      // input
      scrollContainerState: e,
      scrollTop: t,
      viewportHeight: s,
      headerHeight: a,
      fixedHeaderHeight: c,
      fixedFooterHeight: u,
      footerHeight: d,
      scrollHeight: i,
      smoothScrollTargetReached: r,
      horizontalDirection: v,
      skipAnimationFrameInResizeObserver: g,
      // signals
      scrollTo: p,
      scrollBy: f,
      // state
      statefulScrollTop: o,
      deviation: n,
      scrollingInProgress: h
    };
  },
  [],
  { singleton: !0 }
), vk = typeof document < "u" && "scrollBehavior" in document.documentElement.style;
function bk(e) {
  const t = typeof e == "number" ? { index: e } : e;
  return t.align || (t.align = "start"), (!t.behavior || !vk) && (t.behavior = "auto"), t.offset || (t.offset = 0), t;
}
const fl = "up", ii = "down", yk = "none", xk = {
  atBottom: !1,
  notAtBottomBecause: "NOT_SHOWING_LAST_ITEM",
  state: {
    offsetBottom: 0,
    scrollTop: 0,
    viewportHeight: 0,
    scrollHeight: 0
  }
}, wk = 0, Hb = lr(([{ scrollContainerState: e, scrollTop: t, viewportHeight: n, headerHeight: r, footerHeight: o, scrollBy: s }]) => {
  const i = be(!1), a = be(!0), c = ft(), u = ft(), d = be(4), p = be(wk), f = Jo(
    Se(
      vg(Se(Ne(t), vd(1), Rr(!0)), Se(Ne(t), vd(1), Rr(!1), mg(100))),
      Ut()
    ),
    !1
  ), h = Jo(
    Se(vg(Se(s, Rr(!0)), Se(s, Rr(!1), mg(200))), Ut()),
    !1
  );
  et(
    Se(
      br(Ne(t), Ne(p)),
      at(([y, x]) => y <= x),
      Ut()
    ),
    a
  ), et(Se(a, Ks(50)), u);
  const v = si(
    Se(
      br(e, Ne(n), Ne(r), Ne(o), Ne(d)),
      Ca((y, [{ scrollTop: x, scrollHeight: w }, S, j, E, C]) => {
        const P = x + S - w > -C, _ = {
          viewportHeight: S,
          scrollTop: x,
          scrollHeight: w
        };
        if (P) {
          let k, z;
          return x > y.state.scrollTop ? (k = "SCROLLED_DOWN", z = y.state.scrollTop - x) : (k = "SIZE_DECREASED", z = y.state.scrollTop - x || y.scrollTopDelta), {
            atBottom: !0,
            state: _,
            atBottomBecause: k,
            scrollTopDelta: z
          };
        }
        let O;
        return _.scrollHeight > y.state.scrollHeight ? O = "SIZE_INCREASED" : S < y.state.viewportHeight ? O = "VIEWPORT_HEIGHT_DECREASING" : x < y.state.scrollTop ? O = "SCROLLING_UPWARDS" : O = "NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM", {
          atBottom: !1,
          notAtBottomBecause: O,
          state: _
        };
      }, xk),
      Ut((y, x) => y && y.atBottom === x.atBottom)
    )
  ), g = Jo(
    Se(
      e,
      Ca(
        (y, { scrollTop: x, scrollHeight: w, viewportHeight: S }) => {
          if (Ib(y.scrollHeight, w))
            return {
              scrollTop: x,
              scrollHeight: w,
              jump: 0,
              changed: !1
            };
          {
            const j = w - (x + S) < 1;
            return y.scrollTop !== x && j ? {
              scrollHeight: w,
              scrollTop: x,
              jump: y.scrollTop - x,
              changed: !0
            } : {
              scrollHeight: w,
              scrollTop: x,
              jump: 0,
              changed: !0
            };
          }
        },
        { scrollHeight: 0, jump: 0, scrollTop: 0, changed: !1 }
      ),
      Tt((y) => y.changed),
      at((y) => y.jump)
    ),
    0
  );
  et(
    Se(
      v,
      at((y) => y.atBottom)
    ),
    i
  ), et(Se(i, Ks(50)), c);
  const b = be(ii);
  et(
    Se(
      e,
      at(({ scrollTop: y }) => y),
      Ut(),
      Ca(
        (y, x) => Zo(h) ? { direction: y.direction, prevScrollTop: x } : { direction: x < y.prevScrollTop ? fl : ii, prevScrollTop: x },
        { direction: ii, prevScrollTop: 0 }
      ),
      at((y) => y.direction)
    ),
    b
  ), et(Se(e, Ks(50), Rr(yk)), b);
  const m = be(0);
  return et(
    Se(
      f,
      Tt((y) => !y),
      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
      Rr(0)
    ),
    m
  ), et(
    Se(
      t,
      Ks(100),
      Kn(f),
      Tt(([y, x]) => !!x),
      Ca(([y, x], [w]) => [x, w], [0, 0]),
      at(([y, x]) => x - y)
    ),
    m
  ), {
    isScrolling: f,
    isAtTop: a,
    isAtBottom: i,
    atBottomState: v,
    atTopStateChange: u,
    atBottomStateChange: c,
    scrollDirection: b,
    atBottomThreshold: d,
    atTopThreshold: p,
    scrollVelocity: m,
    lastJumpDueToItemResize: g
  };
}, Ao(ac)), Sk = lr(
  ([{ log: e }]) => {
    const t = be(!1), n = si(
      Se(
        t,
        Tt((r) => r),
        Ut()
      )
    );
    return Nt(t, (r) => {
      r && Zo(e)("props updated", {}, Xp.DEBUG);
    }), { propsReady: t, didMount: n };
  },
  Ao(Rb),
  { singleton: !0 }
);
function Bb(e, t) {
  e == 0 ? t() : requestAnimationFrame(() => Bb(e - 1, t));
}
function jk(e, t) {
  const n = t - 1;
  return typeof e == "number" ? e : e.index === "LAST" ? n : e.index;
}
function bd(e, t) {
  return !!(e && e[0] === t[0] && e[1] === t[1]);
}
function Ck(e, t) {
  return !!(e && e.startIndex === t.startIndex && e.endIndex === t.endIndex);
}
const hl = "top", gl = "bottom", bg = "none";
function yg(e, t, n) {
  return typeof e == "number" ? n === fl && t === hl || n === ii && t === gl ? e : 0 : n === fl ? t === hl ? e.main : e.reverse : t === gl ? e.main : e.reverse;
}
function xg(e, t) {
  return typeof e == "number" ? e : e[t] || 0;
}
const Pk = lr(
  ([{ scrollTop: e, viewportHeight: t, deviation: n, headerHeight: r, fixedHeaderHeight: o }]) => {
    const s = ft(), i = be(0), a = be(0), c = be(0), u = Jo(
      Se(
        br(
          Ne(e),
          Ne(t),
          Ne(r),
          Ne(s, bd),
          Ne(c),
          Ne(i),
          Ne(o),
          Ne(n),
          Ne(a)
        ),
        at(
          ([
            d,
            p,
            f,
            [h, v],
            g,
            b,
            m,
            y,
            x
          ]) => {
            const w = d - y, S = b + m, j = Math.max(f - w, 0);
            let E = bg;
            const C = xg(x, hl), P = xg(x, gl);
            return h -= y, h += f + m, v += f + m, v -= y, h > d + S - C && (E = fl), v < d - j + p + P && (E = ii), E !== bg ? [
              Math.max(w - f - yg(g, hl, E) - C, 0),
              w - j - m + p + yg(g, gl, E) + P
            ] : null;
          }
        ),
        Tt((d) => d != null),
        Ut(bd)
      ),
      [0, 0]
    );
    return {
      // input
      listBoundary: s,
      overscan: c,
      topListHeight: i,
      increaseViewportBy: a,
      // output
      visibleRange: u
    };
  },
  Ao(ac),
  { singleton: !0 }
), Ek = lr(
  ([{ scrollVelocity: e }]) => {
    const t = be(!1), n = ft(), r = be(!1);
    return et(
      Se(
        e,
        Kn(r, t, n),
        Tt(([o, s]) => !!s),
        at(([o, s, i, a]) => {
          const { exit: c, enter: u } = s;
          if (i) {
            if (c(o, a))
              return !1;
          } else if (u(o, a))
            return !0;
          return i;
        }),
        Ut()
      ),
      t
    ), Nt(
      Se(br(t, e, n), Kn(r)),
      ([[o, s, i], a]) => o && a && a.change && a.change(s, i)
    ), { isSeeking: t, scrollSeekConfiguration: r, scrollVelocity: e, scrollSeekRangeChanged: n };
  },
  Ao(Hb),
  { singleton: !0 }
);
function _k(e) {
  let t = !1, n;
  return () => (t || (t = !0, n = e()), n);
}
const Ok = lr(([{ scrollTo: e, scrollContainerState: t }]) => {
  const n = ft(), r = ft(), o = ft(), s = be(!1), i = be(void 0);
  return et(
    Se(
      br(n, r),
      at(([{ viewportHeight: a, scrollTop: c, scrollHeight: u }, { offsetTop: d }]) => ({
        scrollTop: Math.max(0, c - d),
        scrollHeight: u,
        viewportHeight: a
      }))
    ),
    t
  ), et(
    Se(
      e,
      Kn(r),
      at(([a, { offsetTop: c }]) => ({
        ...a,
        top: a.top + c
      }))
    ),
    o
  ), {
    // config
    useWindowScroll: s,
    customScrollParent: i,
    // input
    windowScrollContainerState: n,
    windowViewportRect: r,
    // signals
    windowScrollTo: o
  };
}, Ao(ac)), pu = "-webkit-sticky", wg = "sticky", zb = _k(() => {
  if (typeof document > "u")
    return wg;
  const e = document.createElement("div");
  return e.style.position = pu, e.style.position === pu ? pu : wg;
});
function Tk(e, t, n) {
  const r = I.useRef(null), o = I.useCallback(
    (c) => {
      if (c === null || !c.offsetParent)
        return;
      const u = c.getBoundingClientRect(), d = u.width;
      let p, f;
      if (t) {
        const h = t.getBoundingClientRect(), v = u.top - h.top;
        p = h.height - Math.max(0, v), f = v + t.scrollTop;
      } else
        p = window.innerHeight - Math.max(0, u.top), f = u.top + window.pageYOffset;
      r.current = {
        offsetTop: f,
        visibleHeight: p,
        visibleWidth: d
      }, e(r.current);
    },
    [e, t]
  ), { callbackRef: s, ref: i } = Db(o, !0, n), a = I.useCallback(() => {
    o(i.current);
  }, [o, i]);
  return I.useEffect(() => {
    if (t) {
      t.addEventListener("scroll", a);
      const c = new ResizeObserver(() => {
        requestAnimationFrame(a);
      });
      return c.observe(t), () => {
        t.removeEventListener("scroll", a), c.unobserve(t);
      };
    } else
      return window.addEventListener("scroll", a), window.addEventListener("resize", a), () => {
        window.removeEventListener("scroll", a), window.removeEventListener("resize", a);
      };
  }, [a, t]), s;
}
I.createContext(void 0);
const Fb = I.createContext(void 0);
function Ak(e) {
  return e;
}
zb();
const Lk = {
  height: "100%",
  outline: "none",
  overflowY: "auto",
  position: "relative",
  WebkitOverflowScrolling: "touch"
}, kk = {
  outline: "none",
  overflowX: "auto",
  position: "relative"
}, Ub = (e) => ({
  width: "100%",
  height: "100%",
  position: "absolute",
  top: 0,
  ...e ? { display: "flex", flexDirection: "column" } : {}
});
zb();
function po(e, t) {
  if (typeof e != "string")
    return { context: t };
}
function Mk({ usePublisher: e, useEmitter: t, useEmitterValue: n }) {
  return I.memo(function({ style: s, children: i, ...a }) {
    const c = e("scrollContainerState"), u = n("ScrollerComponent"), d = e("smoothScrollTargetReached"), p = n("scrollerRef"), f = n("context"), h = n("horizontalDirection") || !1, { scrollerRef: v, scrollByCallback: g, scrollToCallback: b } = Vb(
      c,
      d,
      u,
      p,
      void 0,
      h
    );
    t("scrollTo", b), t("scrollBy", g);
    const m = h ? kk : Lk;
    return /* @__PURE__ */ l.jsx(
      u,
      {
        ref: v,
        style: { ...m, ...s },
        "data-testid": "virtuoso-scroller",
        "data-virtuoso-scroller": !0,
        tabIndex: 0,
        ...a,
        ...po(u, f),
        children: i
      }
    );
  });
}
function $k({ usePublisher: e, useEmitter: t, useEmitterValue: n }) {
  return I.memo(function({ style: s, children: i, ...a }) {
    const c = e("windowScrollContainerState"), u = n("ScrollerComponent"), d = e("smoothScrollTargetReached"), p = n("totalListHeight"), f = n("deviation"), h = n("customScrollParent"), v = n("context"), { scrollerRef: g, scrollByCallback: b, scrollToCallback: m } = Vb(
      c,
      d,
      u,
      sc,
      h
    );
    return Nb(() => (g.current = h || window, () => {
      g.current = null;
    }), [g, h]), t("windowScrollTo", m), t("scrollBy", b), /* @__PURE__ */ l.jsx(
      u,
      {
        style: { position: "relative", ...s, ...p !== 0 ? { height: p + f } : {} },
        "data-virtuoso-scroller": !0,
        ...a,
        ...po(u, v),
        children: i
      }
    );
  });
}
const Sg = {
  items: [],
  offsetBottom: 0,
  offsetTop: 0,
  top: 0,
  bottom: 0,
  itemHeight: 0,
  itemWidth: 0
}, Nk = {
  items: [{ index: 0 }],
  offsetBottom: 0,
  offsetTop: 0,
  top: 0,
  bottom: 0,
  itemHeight: 0,
  itemWidth: 0
}, { round: jg, ceil: Cg, floor: ml, min: fu, max: ai } = Math;
function Rk(e) {
  return {
    ...Nk,
    items: e
  };
}
function Pg(e, t, n) {
  return Array.from({ length: t - e + 1 }).map((r, o) => {
    const s = n === null ? null : n[o + e];
    return { index: o + e, data: s };
  });
}
function Dk(e, t) {
  return e && e.column === t.column && e.row === t.row;
}
function Ea(e, t) {
  return e && e.width === t.width && e.height === t.height;
}
const Ik = /* @__PURE__ */ lr(
  ([
    { overscan: e, visibleRange: t, listBoundary: n, increaseViewportBy: r },
    { scrollTop: o, viewportHeight: s, scrollBy: i, scrollTo: a, smoothScrollTargetReached: c, scrollContainerState: u, footerHeight: d, headerHeight: p },
    f,
    h,
    { propsReady: v, didMount: g },
    { windowViewportRect: b, useWindowScroll: m, customScrollParent: y, windowScrollContainerState: x, windowScrollTo: w },
    S
  ]) => {
    const j = be(0), E = be(0), C = be(Sg), P = be({ height: 0, width: 0 }), _ = be({ height: 0, width: 0 }), O = ft(), k = ft(), z = be(0), F = be(null), A = be({ row: 0, column: 0 }), T = ft(), D = ft(), M = be(!1), N = be(0), V = be(!0), K = be(!1), J = be(!1);
    Nt(
      Se(
        g,
        Kn(N),
        Tt(([q, ee]) => !!ee)
      ),
      () => {
        jt(V, !1);
      }
    ), Nt(
      Se(
        br(g, V, _, P, N, K),
        Tt(([q, ee, pe, ae, , we]) => q && !ee && pe.height !== 0 && ae.height !== 0 && !we)
      ),
      ([, , , , q]) => {
        jt(K, !0), Bb(1, () => {
          jt(O, q);
        }), gg(Se(o), () => {
          jt(n, [0, 0]), jt(V, !0);
        });
      }
    ), et(
      Se(
        D,
        Tt((q) => q != null && q.scrollTop > 0),
        Rr(0)
      ),
      E
    ), Nt(
      Se(
        g,
        Kn(D),
        Tt(([, q]) => q != null)
      ),
      ([, q]) => {
        q && (jt(P, q.viewport), jt(_, q == null ? void 0 : q.item), jt(A, q.gap), q.scrollTop > 0 && (jt(M, !0), gg(Se(o, vd(1)), (ee) => {
          jt(M, !1);
        }), jt(a, { top: q.scrollTop })));
      }
    ), et(
      Se(
        P,
        at(({ height: q }) => q)
      ),
      s
    ), et(
      Se(
        br(
          Ne(P, Ea),
          Ne(_, Ea),
          Ne(A, (q, ee) => q && q.column === ee.column && q.row === ee.row),
          Ne(o)
        ),
        at(([q, ee, pe, ae]) => ({
          viewport: q,
          item: ee,
          gap: pe,
          scrollTop: ae
        }))
      ),
      T
    ), et(
      Se(
        br(
          Ne(j),
          t,
          Ne(A, Dk),
          Ne(_, Ea),
          Ne(P, Ea),
          Ne(F),
          Ne(E),
          Ne(M),
          Ne(V),
          Ne(N)
        ),
        Tt(([, , , , , , , q]) => !q),
        at(
          ([
            q,
            [ee, pe],
            ae,
            we,
            Ce,
            ot,
            lt,
            ,
            Et,
            ut
          ]) => {
            const { row: Ze, column: ln } = ae, { height: ze, width: st } = we, { width: Pn } = Ce;
            if (lt === 0 && (q === 0 || Pn === 0))
              return Sg;
            if (st === 0) {
              const Es = jk(ut, q), vc = Math.max(Es + lt - 1, 0);
              return Rk(Pg(Es, vc, ot));
            }
            const _t = Wb(Pn, st, ln);
            let ht, St;
            Et ? ee === 0 && pe === 0 && lt > 0 ? (ht = 0, St = lt - 1) : (ht = _t * ml((ee + Ze) / (ze + Ze)), St = _t * Cg((pe + Ze) / (ze + Ze)) - 1, St = fu(q - 1, ai(St, _t - 1)), ht = fu(St, ai(0, ht))) : (ht = 0, St = -1);
            const En = Pg(ht, St, ot), { top: It, bottom: _n } = Eg(Ce, ae, we, En), no = Cg(q / _t), Mo = no * ze + (no - 1) * Ze - _n;
            return { items: En, offsetTop: It, offsetBottom: Mo, top: It, bottom: _n, itemHeight: ze, itemWidth: st };
          }
        )
      ),
      C
    ), et(
      Se(
        F,
        Tt((q) => q !== null),
        at((q) => q.length)
      ),
      j
    ), et(
      Se(
        br(P, _, C, A),
        Tt(([q, ee, { items: pe }]) => pe.length > 0 && ee.height !== 0 && q.height !== 0),
        at(([q, ee, { items: pe }, ae]) => {
          const { top: we, bottom: Ce } = Eg(q, ae, ee, pe);
          return [we, Ce];
        }),
        Ut(bd)
      ),
      n
    );
    const ie = be(!1);
    et(
      Se(
        o,
        Kn(ie),
        at(([q, ee]) => ee || q !== 0)
      ),
      ie
    );
    const X = si(
      Se(
        Ne(C),
        Tt(({ items: q }) => q.length > 0),
        Kn(j, ie),
        Tt(([{ items: q }, ee, pe]) => pe && q[q.length - 1].index === ee - 1),
        at(([, q]) => q - 1),
        Ut()
      )
    ), ne = si(
      Se(
        Ne(C),
        Tt(({ items: q }) => q.length > 0 && q[0].index === 0),
        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
        Rr(0),
        Ut()
      )
    ), fe = si(
      Se(
        Ne(C),
        Kn(M),
        Tt(([{ items: q }, ee]) => q.length > 0 && !ee),
        at(([{ items: q }]) => ({
          startIndex: q[0].index,
          endIndex: q[q.length - 1].index
        })),
        Ut(Ck),
        Ks(0)
      )
    );
    et(fe, h.scrollSeekRangeChanged), et(
      Se(
        O,
        Kn(P, _, j, A),
        at(([q, ee, pe, ae, we]) => {
          const Ce = bk(q), { align: ot, behavior: lt, offset: Et } = Ce;
          let ut = Ce.index;
          ut === "LAST" && (ut = ae - 1), ut = ai(0, ut, fu(ae - 1, ut));
          let Ze = yd(ee, we, pe, ut);
          return ot === "end" ? Ze = jg(Ze - ee.height + pe.height) : ot === "center" && (Ze = jg(Ze - ee.height / 2 + pe.height / 2)), Et && (Ze += Et), { top: Ze, behavior: lt };
        })
      ),
      a
    );
    const se = Jo(
      Se(
        C,
        at((q) => q.offsetBottom + q.bottom)
      ),
      0
    );
    return et(
      Se(
        b,
        at((q) => ({ width: q.visibleWidth, height: q.visibleHeight }))
      ),
      P
    ), {
      // input
      data: F,
      totalCount: j,
      viewportDimensions: P,
      itemDimensions: _,
      scrollTop: o,
      scrollHeight: k,
      overscan: e,
      increaseViewportBy: r,
      scrollBy: i,
      scrollTo: a,
      scrollToIndex: O,
      smoothScrollTargetReached: c,
      windowViewportRect: b,
      windowScrollTo: w,
      useWindowScroll: m,
      customScrollParent: y,
      windowScrollContainerState: x,
      deviation: z,
      scrollContainerState: u,
      footerHeight: d,
      headerHeight: p,
      initialItemCount: E,
      gap: A,
      restoreStateFrom: D,
      ...h,
      initialTopMostItemIndex: N,
      horizontalDirection: J,
      // output
      gridState: C,
      totalListHeight: se,
      ...f,
      startReached: ne,
      endReached: X,
      rangeChanged: fe,
      stateChanged: T,
      propsReady: v,
      stateRestoreInProgress: M,
      ...S
    };
  },
  Ao(Pk, ac, Hb, Ek, Sk, Ok, Rb)
);
function Eg(e, t, n, r) {
  const { height: o } = n;
  if (o === void 0 || r.length === 0)
    return { top: 0, bottom: 0 };
  const s = yd(e, t, n, r[0].index), i = yd(e, t, n, r[r.length - 1].index) + o;
  return { top: s, bottom: i };
}
function yd(e, t, n, r) {
  const o = Wb(e.width, n.width, t.column), s = ml(r / o), i = s * n.height + ai(0, s - 1) * t.row;
  return i > 0 ? i + t.row : i;
}
function Wb(e, t, n) {
  return ai(1, ml((e + n) / (ml(t) + n)));
}
const Vk = /* @__PURE__ */ lr(() => {
  const e = be((p) => `Item ${p}`), t = be({}), n = be(null), r = be("virtuoso-grid-item"), o = be("virtuoso-grid-list"), s = be(Ak), i = be("div"), a = be(sc), c = (p, f = null) => Jo(
    Se(
      t,
      at((h) => h[p]),
      Ut()
    ),
    f
  ), u = be(!1), d = be(!1);
  return et(Ne(d), u), {
    readyStateChanged: u,
    reportReadyState: d,
    context: n,
    itemContent: e,
    components: t,
    computeItemKey: s,
    itemClassName: r,
    listClassName: o,
    headerFooterTag: i,
    scrollerRef: a,
    FooterComponent: c("Footer"),
    HeaderComponent: c("Header"),
    ListComponent: c("List", "div"),
    ItemComponent: c("Item", "div"),
    ScrollerComponent: c("Scroller", "div"),
    ScrollSeekPlaceholder: c("ScrollSeekPlaceholder", "div")
  };
}), Hk = /* @__PURE__ */ lr(([e, t]) => ({ ...e, ...t }), Ao(Ik, Vk)), Bk = /* @__PURE__ */ I.memo(function() {
  const t = ct("gridState"), n = ct("listClassName"), r = ct("itemClassName"), o = ct("itemContent"), s = ct("computeItemKey"), i = ct("isSeeking"), a = bn("scrollHeight"), c = ct("ItemComponent"), u = ct("ListComponent"), d = ct("ScrollSeekPlaceholder"), p = ct("context"), f = bn("itemDimensions"), h = bn("gap"), v = ct("log"), g = ct("stateRestoreInProgress"), b = bn("reportReadyState"), m = ic(
    I.useMemo(
      () => (y) => {
        const x = y.parentElement.parentElement.scrollHeight;
        a(x);
        const w = y.firstChild;
        if (w) {
          const { width: S, height: j } = w.getBoundingClientRect();
          f({ width: S, height: j });
        }
        h({
          row: _g("row-gap", getComputedStyle(y).rowGap, v),
          column: _g("column-gap", getComputedStyle(y).columnGap, v)
        });
      },
      [a, f, h, v]
    ),
    !0,
    !1
  );
  return Nb(() => {
    t.itemHeight > 0 && t.itemWidth > 0 && b(!0);
  }, [t]), g ? null : /* @__PURE__ */ l.jsx(
    u,
    {
      ref: m,
      className: n,
      ...po(u, p),
      style: { paddingTop: t.offsetTop, paddingBottom: t.offsetBottom },
      "data-testid": "virtuoso-item-list",
      children: t.items.map((y) => {
        const x = s(y.index, y.data, p);
        return i ? /* @__PURE__ */ l.jsx(
          d,
          {
            ...po(d, p),
            index: y.index,
            height: t.itemHeight,
            width: t.itemWidth
          },
          x
        ) : /* @__PURE__ */ ci(
          c,
          {
            ...po(c, p),
            className: r,
            "data-index": y.index,
            key: x
          },
          o(y.index, y.data, p)
        );
      })
    }
  );
}), zk = I.memo(function() {
  const t = ct("HeaderComponent"), n = bn("headerHeight"), r = ct("headerFooterTag"), o = ic(
    I.useMemo(() => (i) => n(pl(i, "height")), [n]),
    !0,
    !1
  ), s = ct("context");
  return t ? /* @__PURE__ */ l.jsx(r, { ref: o, children: /* @__PURE__ */ l.jsx(t, { ...po(t, s) }) }) : null;
}), Fk = I.memo(function() {
  const t = ct("FooterComponent"), n = bn("footerHeight"), r = ct("headerFooterTag"), o = ic(
    I.useMemo(() => (i) => n(pl(i, "height")), [n]),
    !0,
    !1
  ), s = ct("context");
  return t ? /* @__PURE__ */ l.jsx(r, { ref: o, children: /* @__PURE__ */ l.jsx(t, { ...po(t, s) }) }) : null;
}), Uk = ({ children: e }) => {
  const t = I.useContext(Fb), n = bn("itemDimensions"), r = bn("viewportDimensions"), o = ic(
    I.useMemo(
      () => (s) => {
        r(s.getBoundingClientRect());
      },
      [r]
    ),
    !0,
    !1
  );
  return I.useEffect(() => {
    t && (r({ height: t.viewportHeight, width: t.viewportWidth }), n({ height: t.itemHeight, width: t.itemWidth }));
  }, [t, r, n]), /* @__PURE__ */ l.jsx("div", { style: Ub(!1), ref: o, children: e });
}, Wk = ({ children: e }) => {
  const t = I.useContext(Fb), n = bn("windowViewportRect"), r = bn("itemDimensions"), o = ct("customScrollParent"), s = Tk(n, o, !1);
  return I.useEffect(() => {
    t && (r({ height: t.itemHeight, width: t.itemWidth }), n({ offsetTop: 0, visibleHeight: t.viewportHeight, visibleWidth: t.viewportWidth }));
  }, [t, n, r]), /* @__PURE__ */ l.jsx("div", { ref: s, style: Ub(!1), children: e });
}, Gk = /* @__PURE__ */ I.memo(function({ ...t }) {
  const n = ct("useWindowScroll"), r = ct("customScrollParent"), o = r || n ? Yk : qk, s = r || n ? Wk : Uk;
  return /* @__PURE__ */ l.jsx(o, { ...t, children: /* @__PURE__ */ l.jsxs(s, { children: [
    /* @__PURE__ */ l.jsx(zk, {}),
    /* @__PURE__ */ l.jsx(Bk, {}),
    /* @__PURE__ */ l.jsx(Fk, {})
  ] }) });
}), {
  Component: Kk,
  usePublisher: bn,
  useEmitterValue: ct,
  useEmitter: Gb
} = /* @__PURE__ */ hk(
  Hk,
  {
    optional: {
      context: "context",
      totalCount: "totalCount",
      overscan: "overscan",
      itemContent: "itemContent",
      components: "components",
      computeItemKey: "computeItemKey",
      data: "data",
      initialItemCount: "initialItemCount",
      scrollSeekConfiguration: "scrollSeekConfiguration",
      headerFooterTag: "headerFooterTag",
      listClassName: "listClassName",
      itemClassName: "itemClassName",
      useWindowScroll: "useWindowScroll",
      customScrollParent: "customScrollParent",
      scrollerRef: "scrollerRef",
      logLevel: "logLevel",
      restoreStateFrom: "restoreStateFrom",
      initialTopMostItemIndex: "initialTopMostItemIndex",
      increaseViewportBy: "increaseViewportBy"
    },
    methods: {
      scrollTo: "scrollTo",
      scrollBy: "scrollBy",
      scrollToIndex: "scrollToIndex"
    },
    events: {
      isScrolling: "isScrolling",
      endReached: "endReached",
      startReached: "startReached",
      rangeChanged: "rangeChanged",
      atBottomStateChange: "atBottomStateChange",
      atTopStateChange: "atTopStateChange",
      stateChanged: "stateChanged",
      readyStateChanged: "readyStateChanged"
    }
  },
  Gk
), qk = /* @__PURE__ */ Mk({ usePublisher: bn, useEmitterValue: ct, useEmitter: Gb }), Yk = /* @__PURE__ */ $k({ usePublisher: bn, useEmitterValue: ct, useEmitter: Gb });
function _g(e, t, n) {
  return t !== "normal" && !(t != null && t.endsWith("px")) && n(`${e} was not resolved to pixel value correctly`, t, Xp.WARN), t === "normal" ? 0 : parseInt(t ?? "0", 10);
}
const lc = Kk, Zi = I.forwardRef(function({ full: t, abs: n, small: r, className: o }, s) {
  const i = B(t && "w-full h-full", n && tt.coverAbs, o), a = B(
    r ? "w-5 h-5" : "w-10 h-10",
    "animate-spin-fast",
    "!gs-utl-border-y-transparent !gs-utl-border-r-transparent",
    re.pill,
    re.bS,
    re.bA
  );
  return /* @__PURE__ */ l.jsx(R, { ref: s, className: i, items: "center", justify: "center", children: /* @__PURE__ */ l.jsx("div", { className: a }) });
}), Bn = "1.0.11", Xk = [
  {
    id: "grapesjs-component-countdown",
    name: "Countdown",
    description: "Countdown component",
    src: "https://unpkg.com/grapesjs-component-countdown@1.0.1/dist/index.js",
    version: "1.0.1",
    projectType: [Fe.web],
    options: {
      props: {
        emptyState: !0
      }
    }
  },
  {
    id: "grapesjs-tabs",
    name: "Tabs",
    description: "Tabs component",
    src: "https://unpkg.com/grapesjs-tabs@1.0.6/dist/grapesjs-tabs.min.js",
    version: "1.0.6",
    projectType: [Fe.web],
    options: { tabsBlock: { category: "Extra", select: !0 } }
  },
  {
    id: "grapesjs-custom-code",
    name: "Custom code",
    description: "Component for the embed of custom code",
    src: "https://unpkg.com/grapesjs-custom-code@1.0.1/dist/index.js",
    version: "1.0.1",
    projectType: [Fe.web]
  },
  {
    id: "grapesjs-tooltip",
    name: "Tooltip",
    description: "Simple, CSS only, tooltip component",
    src: "https://unpkg.com/grapesjs-tooltip@0.1.7/dist/index.js",
    version: "0.1.7",
    projectType: [Fe.web],
    options: {
      propsTooltip: {
        emptyState: { styleOut: "width: 80px;" }
      }
    }
  },
  {
    id: "grapesjs-typed",
    name: "Typed",
    description: "Typed component based on Typed.js library",
    src: "https://unpkg.com/grapesjs-typed@2.0.1/dist/index.js",
    version: "2.0.1",
    projectType: [Fe.web],
    options: { block: { category: "Extra" } }
  },
  {
    id: "StudioSdkPlugins_tableComponent",
    name: "Table",
    description: "Add table component with additional functionalities.",
    src: `https://unpkg.com/@grapesjs/studio-sdk-plugins@${Bn}/dist/tableComponent/index.umd.js`,
    version: Bn,
    projectType: [Fe.web],
    options: { block: { category: "Extra" } }
  },
  {
    id: "StudioSdkPlugins_listPagesComponent",
    name: "List Pages",
    description: "Add a list component that dynamically generates navigation links based on the pages in your project.",
    src: `https://unpkg.com/@grapesjs/studio-sdk-plugins@${Bn}/dist/listPagesComponent/index.umd.js`,
    version: Bn,
    projectType: [Fe.web],
    options: { block: { category: "Extra" } }
  },
  {
    id: "StudioSdkPlugins_fsLightboxComponent",
    name: "FsLightbox",
    description: "Image viewer plugin based on FsLightbox.",
    src: `https://unpkg.com/@grapesjs/studio-sdk-plugins@${Bn}/dist/fsLightboxComponent/index.umd.js`,
    version: Bn,
    projectType: [Fe.web],
    options: { block: { category: "Extra" } }
  },
  {
    id: "StudioSdkPlugins_lightGalleryComponent",
    name: "LightGallery",
    description: "Gallery component based on lightGallery.",
    src: `https://unpkg.com/@grapesjs/studio-sdk-plugins@${Bn}/dist/lightGalleryComponent/index.umd.js`,
    version: Bn,
    projectType: [Fe.web],
    options: { block: { category: "Extra" } }
  },
  {
    id: "StudioSdkPlugins_swiperComponent",
    name: "Swiper (Slider)",
    description: "Slider component plugin based on Swiper.",
    src: `https://unpkg.com/@grapesjs/studio-sdk-plugins@${Bn}/dist/swiperComponent/index.umd.js`,
    version: Bn,
    projectType: [Fe.web],
    options: { block: { category: "Extra" } }
  }
], Zk = () => new Promise((e) => {
  setTimeout(() => e(Xk), 100);
}), Og = ce(function({
  plugin: t,
  selected: n,
  className: r,
  installed: o,
  onInstall: s,
  onSelect: i
}) {
  const a = Me(), c = (d) => a.t(`pluginManager.${d}`), u = o[t.id];
  return /* @__PURE__ */ l.jsx(Yt, { className: B("overflow-hidden max-w-full group gjs-px-4 gjs-py-3", r), padding: !1, children: /* @__PURE__ */ l.jsx(R, { space: "s", col: !0, children: /* @__PURE__ */ l.jsx(R, { className: B("max-w-full"), nowrap: !0, children: /* @__PURE__ */ l.jsx($, { grow: !0, className: B("w-full"), children: /* @__PURE__ */ l.jsxs(R, { space: "s", col: !0, children: [
    /* @__PURE__ */ l.jsxs(R, { items: "center", space: "s", nowrap: !0, children: [
      /* @__PURE__ */ l.jsx($, { className: B(tt.txtEllips, "cursor-pointer"), onClick: () => i == null ? void 0 : i(t), children: /* @__PURE__ */ l.jsx("b", { children: t.name }) }),
      /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(yt, { className: B("opacity-90"), label: `v${t.version}`, s: "s", pill: !0, border: !0 }) }),
      /* @__PURE__ */ l.jsx(R, { children: /* @__PURE__ */ l.jsx(Xe, { className: B("text-sm"), size: "m2", variant: "pr", onClick: () => s(t), children: c(u ? "uninstall" : "install") }) })
    ] }),
    /* @__PURE__ */ l.jsx($, { className: B(!n && tt.txtEllips, "text-sm max-w-full"), children: t.description })
  ] }) }) }) }) });
}), Kb = ce(function({ selectedId: t }) {
  const n = Me(), [r] = rc(), o = Wp(), s = ve(), [i, a] = U(), [c, u] = U(), [d, p] = U(), [f, h] = U(
    "all"
    /* All */
  ), v = f === "all" ? d : c, g = n.tScoped("pluginManager");
  W(() => {
    (async () => {
      !c && u(await Ei()), !d && p(await Zk());
    })();
  }, [c, d]), W(() => {
    if (t && d && !o.selectedShown) {
      const w = d.find((S) => S.id === t);
      w && a(w), o.setSelectedShown(!0);
    }
  }, [d]);
  const b = oe(
    () => [
      {
        id: "all",
        label: g("all")
      },
      {
        id: "installed",
        label: g("installed")
      }
    ],
    [n]
  ), m = it(
    async (w) => {
      c != null && c.find((S) => S.id === w.id) ? await NL(w) : await $L(w), u(await Ei());
    },
    [c]
  ), y = oe(
    () => (c == null ? void 0 : c.reduce((w, S) => (w[S.id] = S.version, w), {})) || {},
    [c]
  ), x = !!(i || o.hasPending);
  return /* @__PURE__ */ l.jsxs(R, { col: !0, full: !0, space: "m", children: [
    x && /* @__PURE__ */ l.jsxs(R, { children: [
      !!i && /* @__PURE__ */ l.jsx(Xe, { onClick: () => a(void 0), className: B(H.tAo), border: !1, children: /* @__PURE__ */ l.jsxs(R, { space: "xs", items: "center", children: [
        /* @__PURE__ */ l.jsx(te, { icon: Q.chevronLeft, size: le.s }),
        /* @__PURE__ */ l.jsx("div", { children: g("allPlugins") })
      ] }) }),
      o.hasPending && /* @__PURE__ */ l.jsx(Xe, { className: B("text-sm gjs-ml-auto"), size: "m2", variant: "out", onClick: s.updateStudio, children: g("updateStudio") })
    ] }),
    i ? /* @__PURE__ */ l.jsx($, { grow: !0, className: B("w-full"), children: /* @__PURE__ */ l.jsx(Og, { plugin: i, installed: y, onInstall: m, selected: !0 }) }) : /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
      /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(To, { tabs: b, onChange: h, value: f }) }),
      /* @__PURE__ */ l.jsx($, { grow: !0, children: v ? v.length ? /* @__PURE__ */ l.jsx(
        lc,
        {
          data: v,
          listClassName: B("grid grid-cols-1 gap-2 gjs-pr-2"),
          itemContent: (w, S) => /* @__PURE__ */ l.jsx(
            Og,
            {
              plugin: S,
              installed: y,
              onInstall: m,
              onSelect: a
            },
            S.id
          )
        },
        r
      ) : /* @__PURE__ */ l.jsx(R, { justify: "center", children: n.t("notItemsFound") }) : /* @__PURE__ */ l.jsx(Zi, {}) })
    ] })
  ] });
}), qb = Mt(function({ children: t, className: n, ...r }, o) {
  return /* @__PURE__ */ l.jsx("div", { className: Y(B("gs-block-manager-after"), n), ref: o, ...r, children: t });
}), Yb = Mt(function({ children: t, className: n, ...r }, o) {
  return /* @__PURE__ */ l.jsx("div", { className: Y(B("gs-block-manager-before"), n), ref: o, ...r, children: t });
}), Jk = ce(function() {
  const { isOpen: t, toggleOpen: n } = Sv(), { editor: r, sdkProps: o, sdkOptions: s, isProjectTypeEmail: i } = ve(), a = Dn(), c = Me(), u = o.children, d = c.tScoped("blockManager"), p = L(
    "absolute left-0 top-0 h-full transition-transform z-10",
    !t && "-translate-x-full",
    re.br,
    H.br,
    H.bg
  ), f = () => {
    a.open({
      fullH: !0,
      title: c.t("pluginManager.plugins"),
      content: () => /* @__PURE__ */ l.jsx(Kb, {})
    });
  }, h = oe(
    () => [
      !!s.pluginManager && !i && {
        id: "add",
        title: d("add"),
        className: H.tAo,
        onClick: f,
        icon: Q.viewGridPlus
      }
    ].filter(Boolean),
    [r]
  );
  return /* @__PURE__ */ l.jsxs(R, { className: p, style: { width: 240 }, col: !0, nowrap: !0, children: [
    /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(Kp, { title: d("blocks"), onClose: n, className: L(ke.s), actions: h }) }),
    /* @__PURE__ */ l.jsxs(Qr, { children: [
      Wt(u, Yb),
      /* @__PURE__ */ l.jsx($, { className: L("overflow-hidden"), grow: !0, children: /* @__PURE__ */ l.jsx(Lb, { isOpen: t }) }),
      Wt(u, qb)
    ] })
  ] });
}), Qk = {
  pointerEvents: "all"
};
function Qo({ spot: e, children: t, style: n, spotStyles: r, ...o }) {
  const s = {
    ...r || e.getStyle(),
    ...n
  };
  return /* @__PURE__ */ l.jsx("div", { ...o, style: s, children: /* @__PURE__ */ l.jsx("div", { style: Qk, children: t }) });
}
const Wn = Mt(function({ children: t, className: n, position: r, out: o, ...s }, i) {
  var f;
  const { Canvas: a } = Pt(), c = ((f = a.getCanvasView()) == null ? void 0 : f.clsUnscale) || "", u = [], d = {};
  switch (r) {
    case "top-left":
      u.push("top-0", "left-0"), d.transformOrigin = "top left", o && (d.translate = "0 -100%", d.transformOrigin = "bottom left");
      break;
    case "top-center":
      u.push("top-0"), d.left = "50%", d.translate = "-50% 0", d.transformOrigin = "top center", o && (d.translate = "-50% -100%", d.transformOrigin = "bottom center");
      break;
    case "top-right":
      u.push("top-0", "right-0"), d.transformOrigin = "top right", o && (d.translate = "0 -100%", d.transformOrigin = "bottom right");
      break;
    case "center-left":
      u.push("left-0"), d.top = "50%", d.translate = "0 -50%", d.transformOrigin = "center left", o && (d.translate = "-100% -50%", d.transformOrigin = "center right");
      break;
    case "center-center":
      d.top = "50%", d.left = "50%", d.translate = "-50% -50%", d.transformOrigin = "center";
      break;
    case "center-right":
      u.push("right-0"), d.top = "50%", d.translate = "0 -50%", d.transformOrigin = "center right", o && (d.translate = "100% -50%", d.transformOrigin = "center left");
      break;
    case "bottom-left":
      u.push("left-0", "bottom-0"), d.transformOrigin = "bottom left", o && (d.translate = "0 100%", d.transformOrigin = "top left");
      break;
    case "bottom-center":
      u.push("bottom-0"), d.left = "50%", d.translate = "-50% 0", d.transformOrigin = "bottom center", o && (d.translate = "-50% 100%", d.transformOrigin = "top center");
      break;
    case "bottom-right":
      u.push("right-0", "bottom-0"), d.transformOrigin = "bottom right", o && (d.translate = "0 100%", d.transformOrigin = "top right");
      break;
  }
  const p = {
    ...d,
    ...s.style
  };
  return /* @__PURE__ */ l.jsx(
    "div",
    {
      ...s,
      className: Y(c, B("gs-utl-flex gs-utl-absolute", n, u.join(" "))),
      style: p,
      ref: i,
      children: t
    }
  );
}), Tg = "top-left";
function Xb({ spot: e, className: t }) {
  const { Canvas: n } = Pt(), [r, o] = U(Tg), s = e.component, i = e.getBoxRect(), a = n.getWorldRectToScreen(i), c = G(null), u = n.getElement().clientHeight;
  return rv(c, {
    boxRectScreen: a,
    vwHeight: u,
    setPos: o,
    initialPos: Tg
  }), /* @__PURE__ */ l.jsx(Wn, { className: B("pointer-events-none"), ref: c, style: Zb, position: r, out: !0, children: /* @__PURE__ */ l.jsx(yt, { className: B("shadow-md", t || kl(s).bg), s: "s", children: /* @__PURE__ */ l.jsxs(R, { space: "xs", items: "center", nowrap: !0, children: [
    uv(s),
    /* @__PURE__ */ l.jsx("div", { className: B("whitespace-nowrap max-w-36 truncate"), children: s.getName() })
  ] }) }) });
}
function eM({ spot: e, className: t }) {
  const n = B("gjs-border", kl(e.component).border, t);
  return /* @__PURE__ */ l.jsx(Qo, { spot: e, className: n, children: /* @__PURE__ */ l.jsx(Xb, { spot: e }) });
}
function tM({ spot: e, className: t }) {
  const n = Pt(), r = ve(), o = G(null), [s] = U(Zb), [i, a] = U([]), [c, u] = U([]), [d, p] = U("top-right"), f = e.component, h = e.getBoxRect(), v = n.Canvas.getWorldRectToScreen(h), g = e.getStyle({ boxRect: h }), b = n.getSelected() === f, m = n.Canvas.getElement().clientHeight, y = Cp();
  W(() => {
    const P = setTimeout(async () => {
      const _ = await y.getItemsForComponent(f);
      a(_);
    }, 10);
    return () => clearTimeout(P);
  }, [f]), W(() => {
    const P = setTimeout(async () => {
      const _ = await nM(f, r);
      u(_);
    }, 10);
    return () => clearTimeout(P);
  }, [f]), rv(o, {
    boxRectScreen: v,
    vwHeight: m,
    setPos: p
  });
  const x = (C) => {
    Lt(C) ? n.runCommand(C) : C == null || C(n, "", {});
  }, w = (C) => {
    const P = C.currentTarget.getBoundingClientRect();
    y.show({
      items: i,
      x: P.x + P.width,
      y: P.y
    });
  }, S = kl(f), j = B("border-2", S.border, t), E = B(S.bg, "overflow-hidden shadow-md");
  return /* @__PURE__ */ l.jsx(Qo, { spot: e, spotStyles: g, className: j, children: b && /* @__PURE__ */ l.jsx(Wn, { ref: o, style: s, position: d, out: !0, children: /* @__PURE__ */ l.jsx(yt, { className: E, s: "s", nopad: !0, block: !0, children: /* @__PURE__ */ l.jsxs(R, { space: "x2s", items: "center", nowrap: !0, children: [
    c.map(({ label: C, command: P = "" }) => /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(
      Xe,
      {
        border: !1,
        rounded: !1,
        size: "s",
        className: B("block gs-utl-py-1.5 gs-utl-px-1.5", H.hBgDark),
        onMouseDown: () => x(P),
        children: C != null && C.startsWith("<svg") ? /* @__PURE__ */ l.jsx(Vd, { className: B("w-4 fill-current"), svg: C }) : C
      }
    ) }, C)),
    !!i.length && /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(
      Xe,
      {
        border: !1,
        rounded: !1,
        size: "s",
        className: B("block", H.hBgDark),
        onClick: w,
        children: /* @__PURE__ */ l.jsx(te, { icon: Q.dotsVertical, size: le.s })
      }
    ) })
  ] }) }) }) });
}
async function nM(e, t) {
  var d;
  if (!(e != null && e.em))
    return [];
  const n = e.em.getEditor(), r = e.toolbar.filter(Boolean), o = e.get("toolbarItems"), s = await hu(o, { items: r, component: e, editor: n }), i = {
    items: s,
    component: e,
    editor: n
  }, a = await hu(s, i), c = (d = t.sdkComponentsConfig) == null ? void 0 : d.toolbar;
  return await hu(c, { ...i, items: a });
}
const hu = async (e, t) => pt(e) ? (await e(t)).filter(Boolean) : t.items;
var Tn = /* @__PURE__ */ ((e) => (e.PaddingTop = "padding-top", e.PaddingRight = "padding-right", e.PaddingBottom = "padding-bottom", e.PaddingLeft = "padding-left", e.MarginTop = "margin-top", e.MarginRight = "margin-right", e.MarginBottom = "margin-bottom", e.MarginLeft = "margin-left", e))(Tn || {});
const { PaddingTop: _a, PaddingRight: gu, PaddingBottom: Oa, PaddingLeft: mu, MarginTop: Ta, MarginRight: vu, MarginBottom: Aa, MarginLeft: bu } = Tn, rM = (e, t) => {
  const n = t != null && t.startsWith("p") ? "padding" : "margin";
  return oO(e, n, t);
}, Mr = (e, t, n = {}) => {
  const r = Pt(), o = mv(), [s, i] = U(), a = (d) => {
    const f = r.Canvas.getFramesEl().classList, h = d ? "add" : "remove";
    f[h]("gs-utl-pointer-events-none"), f[h]("gs-utl-select-none");
  }, c = (d) => {
    var p, f;
    (p = n.setAltKey) == null || p.call(n, d.altKey), (f = n.setShiftKey) == null || f.call(n, d.shiftKey);
  };
  return W(() => {
    var O;
    const d = [_a, Oa, Ta, Aa].includes(t), p = document.body.classList, f = e.component.getEl(), h = r.Styles.getSelected(), v = window.getComputedStyle(f), g = d ? "!cursor-ns-resize" : "!cursor-ew-resize", b = r.Canvas.getZoomMultiplier(), m = {};
    let y = parseFloat(v[t]) ?? 0, x, w = "", S = {};
    for (const k of Object.values(Tn)) {
      const z = k;
      m[z] = v[z];
    }
    const j = (k, z) => {
      const F = t == null ? void 0 : t.startsWith("p"), { altKey: A, shiftKey: T } = z, D = m, M = {
        [_a]: T || t === Oa && A ? k : D[_a],
        [gu]: T || t === mu && A ? k : D[gu],
        [Oa]: T || t === _a && A ? k : D[Oa],
        [mu]: T || t === gu && A ? k : D[mu]
      }, N = {
        [Ta]: T || t === Aa && A ? k : D[Ta],
        [vu]: T || t === bu && A ? k : D[vu],
        [Aa]: T || t === Ta && A ? k : D[Aa],
        [bu]: T || t === vu && A ? k : D[bu]
      };
      return M[t] = k, N[t] = k, F ? M : N;
    }, E = (k) => {
      w && (x ? x.upValue(w, k) : h == null || h.addStyle(S, k));
    }, C = (k) => {
      if (!s || !h)
        return;
      const z = d ? k.clientY - s.y : k.clientX - s.x, F = Math.max(0, parseInt(`${y + z * b}`));
      w = `${F}px`, S = j(w, k), E({ partial: !0 }), o.show(F);
    }, P = () => {
      !s || !h || (i(void 0), a(!1), o.hide(), E());
    }, _ = (k) => {
      c(k), S = j(w, k), E({ partial: !0 });
    };
    return s && (document.addEventListener("pointermove", C), document.addEventListener("pointerup", P), document.addEventListener("keydown", _), document.addEventListener("keyup", _), p.add(g), (O = n.onActive) == null || O.call(n, t), n.useStyleProperty && (x = rM(r, t), y = (x == null ? void 0 : x.getValue()) ?? y)), () => {
      var k;
      document.removeEventListener("pointermove", C), document.removeEventListener("pointerup", P), document.removeEventListener("keydown", _), document.removeEventListener("keyup", _), p.remove(g), (k = n.onActive) == null || k.call(n, void 0);
    };
  }, [s]), [it((d) => {
    if (d.button !== 0)
      return;
    const { clientX: p, clientY: f } = d;
    i({ x: p, y: f }), a(!0), c(d.nativeEvent);
  }, []), !!s];
}, La = "gs-utl-border-2 gs-utl-border-white !gs-utl-box-content", Ag = "gs-utl-bg-[#7fc65e]", Lg = "gs-utl-bg-[#ebae70]", kg = "gs-utl-h-5 gs-utl-w-1 gs-utl-mx-2 gs-utl-cursor-ew-resize", Mg = "gs-utl-h-1 gs-utl-w-5 gs-utl-my-2 gs-utl-cursor-ns-resize", oM = me(function({
  spot: t,
  disabledHandler: n,
  useStyleProperty: r,
  onActive: o
}) {
  const [s, i] = U(!1), [a, c] = U(!1), u = { onActive: o, setAltKey: i, setShiftKey: c, useStyleProperty: r }, [d, p] = Mr(t, "padding-top", u), [f, h] = Mr(t, "padding-right", u), [v, g] = Mr(t, "padding-bottom", u), [b, m] = Mr(t, "padding-left", u), [y, x] = Mr(t, "margin-top", u), [w, S] = Mr(t, "margin-right", u), [j, E] = Mr(t, "margin-bottom", u), [C, P] = Mr(t, "margin-left", u), _ = B(La, Ag, kg), O = B(La, Ag, Mg), k = B(La, Lg, kg), z = B(La, Lg, Mg), F = p || h || g || m, A = x || S || E || P, T = F || A, D = (q, ee) => {
    let pe = !1;
    const ae = F && a, we = A && a;
    switch (ee) {
      case "padding-top":
        pe = g && s || ae;
        break;
      case "padding-right":
        pe = m && s || ae;
        break;
      case "padding-bottom":
        pe = p && s || ae;
        break;
      case "padding-left":
        pe = h && s || ae;
        break;
      case "margin-top":
        pe = E && s || we;
        break;
      case "margin-right":
        pe = P && s || we;
        break;
      case "margin-bottom":
        pe = x && s || we;
        break;
      case "margin-left":
        pe = S && s || we;
        break;
    }
    return !T || q || pe;
  }, M = !!(n != null && n.padding), N = !!(n != null && n.margin), V = !M && D(
    p,
    "padding-top"
    /* PaddingTop */
  ), K = !M && D(
    h,
    "padding-right"
    /* PaddingRight */
  ), J = !M && D(
    g,
    "padding-bottom"
    /* PaddingBottom */
  ), ie = !M && D(
    m,
    "padding-left"
    /* PaddingLeft */
  ), X = !N && D(
    x,
    "margin-top"
    /* MarginTop */
  ), ne = !N && D(
    S,
    "margin-right"
    /* MarginRight */
  ), fe = !N && D(
    E,
    "margin-bottom"
    /* MarginBottom */
  ), se = !N && D(
    P,
    "margin-left"
    /* MarginLeft */
  );
  return /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
    V && /* @__PURE__ */ l.jsx(Wn, { position: "top-center", onPointerDown: d, children: /* @__PURE__ */ l.jsx(yt, { className: O, s: "s", pill: !0, block: !0, nopad: !0 }) }),
    K && /* @__PURE__ */ l.jsx(Wn, { position: "center-right", onPointerDown: f, children: /* @__PURE__ */ l.jsx(yt, { className: _, s: "s", pill: !0, block: !0, nopad: !0 }) }),
    J && /* @__PURE__ */ l.jsx(Wn, { position: "bottom-center", onPointerDown: v, children: /* @__PURE__ */ l.jsx(yt, { className: O, s: "s", pill: !0, block: !0, nopad: !0 }) }),
    ie && /* @__PURE__ */ l.jsx(Wn, { position: "center-left", onPointerDown: b, children: /* @__PURE__ */ l.jsx(yt, { className: _, s: "s", pill: !0, block: !0, nopad: !0 }) }),
    X && /* @__PURE__ */ l.jsx(Wn, { position: "top-center", onPointerDown: y, out: !0, children: /* @__PURE__ */ l.jsx(yt, { className: z, s: "s", pill: !0, block: !0, nopad: !0 }) }),
    ne && /* @__PURE__ */ l.jsx(Wn, { position: "center-right", onPointerDown: w, out: !0, children: /* @__PURE__ */ l.jsx(yt, { className: k, s: "s", pill: !0, block: !0, nopad: !0 }) }),
    fe && /* @__PURE__ */ l.jsx(Wn, { position: "bottom-center", onPointerDown: j, out: !0, children: /* @__PURE__ */ l.jsx(yt, { className: z, s: "s", pill: !0, block: !0, nopad: !0 }) }),
    se && /* @__PURE__ */ l.jsx(Wn, { position: "center-left", onPointerDown: C, out: !0, children: /* @__PURE__ */ l.jsx(yt, { className: k, s: "s", pill: !0, block: !0, nopad: !0 }) })
  ] });
}), $g = (e, t) => {
  var n;
  return !!((n = hv(e, t)) != null && n.isVisible());
}, sM = (e = {}) => {
  const [t, n, r, o] = mh(e.padding || ""), [s, i, a, c] = mh(e.margin || "");
  return {
    paddingTop: e[Tn.PaddingTop] || t,
    paddingRight: e[Tn.PaddingRight] || n,
    paddingBottom: e[Tn.PaddingBottom] || r,
    paddingLeft: e[Tn.PaddingLeft] || o,
    marginTop: e[Tn.MarginTop] || s,
    marginRight: e[Tn.MarginTop] || i,
    marginBottom: e[Tn.MarginTop] || a,
    marginLeft: e[Tn.MarginTop] || c
  };
};
function iM({ spot: e, className: t }) {
  const n = Pt(), { isProjectTypeEmail: r } = ve(), [o, s] = U(), [i, a] = U({
    padding: !1,
    margin: !1
  }), { el: c, component: u } = e, d = e.getBoxRect(), p = n.Canvas.getZoomDecimal(), f = d.height * p, h = d.width * p, v = e.getStyle({ boxRect: d }), g = n.getSelectedAll().includes(u), b = n.getSelected() === u, m = (o == null ? void 0 : o.startsWith("p")) ?? !1, y = (o == null ? void 0 : o.startsWith("m")) ?? !1, x = sM(r ? u == null ? void 0 : u.getStyle() : {});
  if (W(() => {
    g && a({
      padding: !$g(n, "padding"),
      margin: !$g(n, "margin")
    });
  }, [g]), e.type === "spacing" && g)
    return null;
  const w = {
    borderColor: "rgba(196, 222, 184, 0.5)",
    // '#c4deb8',
    borderStyle: "solid"
  }, S = {
    borderColor: "rgba(249, 204, 158, 0.5)",
    // '#f9cc9e',
    borderStyle: "solid",
    boxSizing: "content-box"
  }, j = window.getComputedStyle(c);
  w.borderTopWidth = x.paddingTop || j.paddingTop, w.borderRightWidth = x.paddingRight || j.paddingRight, w.borderBottomWidth = x.paddingBottom || j.paddingBottom, w.borderLeftWidth = x.paddingLeft || j.paddingLeft, S.borderTopWidth = x.marginTop || j.marginTop, S.borderRightWidth = x.marginTop || j.marginRight, S.borderBottomWidth = x.marginTop || j.marginBottom, S.borderLeftWidth = x.marginTop || j.marginLeft;
  const E = {
    ...v,
    ...w
  }, C = {
    ...v,
    ...S,
    translate: `${d.x - parseFloat(j.marginLeft)}px ${d.y - parseFloat(j.marginTop)}px`
  };
  return /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
    (!g || m) && /* @__PURE__ */ l.jsx(Qo, { spot: e, spotStyles: E, className: B(t) }),
    (!g || y) && /* @__PURE__ */ l.jsx(Qo, { spot: e, spotStyles: C, className: B(t) }),
    b && (f > 60 && h > 60 || o) && /* @__PURE__ */ l.jsx(Qo, { spot: e, spotStyles: v, className: B(t), children: /* @__PURE__ */ l.jsx(
      oM,
      {
        spot: e,
        onActive: s,
        disabledHandler: i,
        useStyleProperty: r
      }
    ) })
  ] });
}
function aM({ spot: e, className: t }) {
  const n = B("gjs-border-2", H.cmpTargetBr, H.cmpTargetBgOpac, t);
  return /* @__PURE__ */ l.jsx(Qo, { spot: e, className: n, children: /* @__PURE__ */ l.jsx(Xb, { spot: e, className: B(H.cmpTargetBg) }) });
}
const lM = 9, Zb = {
  padding: `${lM}px 0`
};
function cM({ spot: e }) {
  const t = Pt(), { Canvas: n } = t, r = ve(), o = t.getEditing(), { type: s, component: i } = e, a = s === "select", c = s === "spacing", u = s === "hover", d = s === "target";
  return !e.el || !n.hasCustomSpot(s) || // When selecting a target, skip any other spot besides the 'target'
  r.isSelectingTarget && !d || // Avoid hover/spacing spots on inner components during editing
  (u || c) && o && (i != null && i.isChildOf(o)) ? null : /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
    (c || a) && /* @__PURE__ */ l.jsx(iM, { spot: e, className: B("z-0") }),
    d && /* @__PURE__ */ l.jsx(aM, { spot: e, className: B("z-10") }),
    a && /* @__PURE__ */ l.jsx(tM, { spot: e, className: B("z-20") }),
    u && /* @__PURE__ */ l.jsx(eM, { spot: e, className: B("z-30") })
  ] });
}
const Ng = /* @__PURE__ */ new WeakMap();
function Jb(e) {
  if (!e)
    return () => null;
  const t = Ng.get(e);
  if (t)
    return t;
  const n = function({ children: o }) {
    return Pd.createPortal(o, e);
  };
  return Ng.set(e, n), n;
}
const uM = me(function({ children: t }) {
  const n = Ap(), [r, o] = U([]), [s, i] = U({});
  W(() => {
    if (!n)
      return;
    n.onReady(() => {
      const d = n.Canvas.getSpotsEl(), p = Jb(d);
      i({ Container: p });
    });
    const c = "canvas:spot", u = () => {
      const d = n.Canvas.getSpots();
      o(d);
    };
    return n.on(c, u), () => {
      n.off(c, u);
    };
  }, [n]);
  const { Container: a } = s;
  return n && a ? /* @__PURE__ */ l.jsx(a, { children: t({ spots: r }) }) : null;
}), dM = ce(function() {
  const { isCanvasPanning: t } = ve();
  return /* @__PURE__ */ l.jsx(uM, { children: ({ spots: n }) => /* @__PURE__ */ l.jsx(tr, { show: !t, ...l1, children: n.map((r) => /* @__PURE__ */ l.jsx(cM, { spot: r }, r.id)) }) });
});
var Qb = /* @__PURE__ */ ((e) => (e.primary = "primary", e.outline = "outline", e.shallow = "shallow", e))(Qb || {}), e0 = /* @__PURE__ */ ((e) => (e.none = "", e.xs = "xs", e.s = "s", e.m = "m", e.lg = "lg", e))(e0 || {});
const pM = "gs-cmp-button", Zp = me(
  ce(function({
    className: t,
    children: n,
    tooltip: r,
    variant: o,
    onClick: s,
    editorEvents: i,
    label: a,
    size: c,
    icon: u,
    active: d,
    buttonType: p,
    disabled: f,
    ...h
  }) {
    const { editor: v } = ve(), [g, b] = U(() => ({
      disabled: f,
      variant: o,
      active: d,
      className: t,
      tooltip: r,
      icon: u,
      size: c,
      label: a
    })), m = g.variant, y = m === "outline", x = m === "primary" ? "pr" : y ? "out-clear" : void 0, w = g.label, S = (j) => {
      s == null || s({ event: j, editor: v, state: g, setState: (E) => b((C) => ({ ...C, ...E })) });
    };
    return W(() => {
      if (!i || !v)
        return;
      const j = Object.keys(i).reduce(
        (C, P) => (C[P] = (_ = {}) => {
          i[P]({
            fromEvent: _,
            editor: v,
            state: g,
            setState: (O) => b((k) => ({ ...k, ...O }))
          });
        }, C),
        {}
      ), E = Object.keys(j);
      return E.forEach((C) => v.on(C, j[C])), () => {
        E.forEach((C) => v.off(C, j[C]));
      };
    }, [v, g]), /* @__PURE__ */ l.jsx(
      Bt,
      {
        title: g.tooltip,
        className: Y(pM),
        classNameWrp: g.className,
        variant: x,
        icon: g.icon,
        active: g.active,
        size: g.size,
        disabled: g.disabled,
        onClick: S,
        border: y,
        type: p,
        block: !0,
        ...h,
        children: w ? pt(w) ? w({ editor: v }) : w : n
      }
    );
  })
);
function cc({ colors: e, ...t }) {
  return e ? /* @__PURE__ */ l.jsxs("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 79 79", ...t, children: [
    /* @__PURE__ */ l.jsx("path", { fill: "url(#a)", d: "M39.6 77.1a37.5 37.5 0 1 0 0-75 37.5 37.5 0 0 0 0 75Z" }),
    /* @__PURE__ */ l.jsx(
      "path",
      {
        stroke: "#fff",
        strokeLinecap: "round",
        strokeMiterlimit: "10",
        strokeWidth: "5",
        d: "m40 19-14.58 8.79a6.36 6.36 0 0 0-2.82 5.33v14.13a6.14 6.14 0 0 0 3.12 5.13l11.21 5.8a6.12 6.12 0 0 0 6.14 0l11.41-6.3a6.09 6.09 0 0 0 3.12-5.13V33.12c0-1.28-1.4-2.07-2.52-1.48l-15.08 8"
      }
    ),
    /* @__PURE__ */ l.jsx("defs", { children: /* @__PURE__ */ l.jsxs("linearGradient", { id: "a", x1: "2.1", x2: "77.2", y1: "39.6", y2: "39.6", gradientUnits: "userSpaceOnUse", children: [
      /* @__PURE__ */ l.jsx("stop", { stopColor: "#D7709E" }),
      /* @__PURE__ */ l.jsx("stop", { offset: "1", stopColor: "#A84A87" })
    ] }) })
  ] }) : /* @__PURE__ */ l.jsx("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 76 76", ...t, children: /* @__PURE__ */ l.jsx(
    "path",
    {
      fill: "currentColor",
      fillRule: "evenodd",
      d: "M64.117 64.117a37.5 37.5 0 1 1-53.034-53.034 37.5 37.5 0 0 1 53.034 53.034ZM39.29 19.14a2.5 2.5 0 1 0-2.582-4.282l-14.583 8.79-.05.03-.047.032a8.861 8.861 0 0 0-2.917 3.229 8.729 8.729 0 0 0-1.011 4.203V45.293l.002.047a8.64 8.64 0 0 0 1.25 4.164 8.78 8.78 0 0 0 3.115 3.043l.05.03.053.027 11.165 5.769a8.62 8.62 0 0 0 4.264 1.127c1.507 0 2.99-.394 4.295-1.145l11.394-6.276.006-.004a8.585 8.585 0 0 0 3.178-3.05 8.443 8.443 0 0 0 1.227-4.225V31.123c0-3.265-3.502-5.122-6.19-3.688l-.005.003-15.076 7.995a2.5 2.5 0 0 0 2.342 4.418l13.93-7.387v12.263a3.444 3.444 0 0 1-.502 1.703 3.584 3.584 0 0 1-1.326 1.271l-.003.002-11.409 6.284-.024.014-.023.013a3.619 3.619 0 0 1-1.814.486 3.62 3.62 0 0 1-1.814-.486l-.052-.03-.054-.028-11.155-5.764a3.78 3.78 0 0 1-1.297-1.283 3.642 3.642 0 0 1-.527-1.715V31.081a3.73 3.73 0 0 1 .432-1.806 3.858 3.858 0 0 1 1.23-1.377L39.29 19.14Z",
      clipRule: "evenodd"
    }
  ) });
}
const fM = me(
  ce(function() {
    const { isStage: e, updateStudio: t } = ve(), { isDarkTheme: n } = an(), r = G(null), { bg: o, text: s } = c1(n);
    return ov({
      ref: r,
      show: e,
      update: n,
      reload: t,
      styles: {
        display: "flex",
        justifyContent: "center",
        position: "absolute",
        bottom: "0",
        right: "0",
        left: "0"
      },
      node: /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
        /* @__PURE__ */ l.jsx("style", { children: `
              .gs-banner {
                  box-shadow: 0 0 5px #1c1b1b21;
                  padding: 30px 10px;
                  border-radius: 10px;
                  margin: 5px;
                  font-size: 30px;
                  background-color: ${o};
                  color: ${s};
                  width: 95%;
              }
              .gs-banner-row {
                  justify-content: center;
                  align-items: center;
                  display: flex;
                  gap: 10px;
              }
              .gs-gs-logo {
                  width: 35px;
              }
            ` }),
        /* @__PURE__ */ l.jsx(Yt, { className: "gs-banner", children: /* @__PURE__ */ l.jsxs(R, { className: "gs-banner-row", children: [
          /* @__PURE__ */ l.jsx(cc, { className: "gs-gs-logo", colors: !0 }),
          /* @__PURE__ */ l.jsx("div", { children: "GrapesJS Studio Demo!" })
        ] }) })
      ] })
    }), /* @__PURE__ */ l.jsx("div", { ref: r });
  })
), hM = () => `https://grapesjs.com?ref=${window.location.host}`, gM = me(
  ce(function() {
    const { updateStudio: e, showPoweredBy: t } = ve(), { isDarkTheme: n } = an(), r = G(null), { bg: o, text: s, link: i } = c1(n);
    return ov({
      ref: r,
      show: t,
      update: n,
      reload: e,
      styles: {
        display: "flex",
        justifyContent: "center",
        position: "absolute",
        bottom: "0",
        left: "0"
      },
      node: /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
        /* @__PURE__ */ l.jsx("style", { children: `
              .gs-banner {
                  box-shadow: 0 0 5px #1c1b1b21;
                  padding: 5px 10px;
                  border-radius: 9999px;
                  margin: 5px;
                  font-size: 12px;
                  background-color: ${o};
                  color: ${s};
              }
              .gs-banner-row {
                  justify-content: center;
                  align-items: center;
                  display: flex;
                  gap: 3px;
              }
              .gs-link {
                  color: ${i};
                  text-decoration: none;
              }
              .gs-logo {
                  width: 20px;
              }
             ` }),
        /* @__PURE__ */ l.jsx(Yt, { className: "gs-banner", children: /* @__PURE__ */ l.jsxs(R, { className: "gs-banner-row", children: [
          /* @__PURE__ */ l.jsx("a", { className: "gs-link", href: hM(), target: "_blank", children: "GrapesJS Studio" }),
          /* @__PURE__ */ l.jsx(cc, { className: "gs-logo", colors: !0 })
        ] }) })
      ] })
    }), /* @__PURE__ */ l.jsx("div", { ref: r });
  })
), mM = me(
  ce(function() {
    const { isReady: t } = ve();
    return /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
      /* @__PURE__ */ l.jsx("div", { children: !t && /* @__PURE__ */ l.jsx(Zi, { className: B("z-10"), abs: !0, full: !0 }) }),
      /* @__PURE__ */ l.jsx(fM, {}),
      /* @__PURE__ */ l.jsx(gM, {})
    ] });
  })
), vM = "gs-canvas", t0 = me(function({ className: t, grow: n }) {
  return /* @__PURE__ */ l.jsx(
    M5,
    {
      className: Y(
        vM,
        "gs-utl-relative gs-utl-bg-gray-50 dark:gs-utl-bg-zinc-800",
        n && "gs-utl-flex-grow",
        t
      ),
      children: /* @__PURE__ */ l.jsx(Qr, { children: /* @__PURE__ */ l.jsx(mM, {}) })
    }
  );
}), uc = ({
  className: e,
  grow: t,
  alignItems: n,
  justifyContent: r
}) => Y(
  e,
  H.br,
  t && "gs-utl-flex-grow",
  n === "start" && "gs-utl-items-start",
  n === "end" && "gs-utl-items-end",
  n === "center" && "gs-utl-items-center",
  n === "baseline" && "gs-utl-items-baseline",
  n === "stretch" && "gs-utl-items-stretch",
  r === "start" && "gs-utl-justify-start",
  r === "end" && "gs-utl-justify-end",
  r === "center" && "gs-utl-justify-center",
  r === "between" && "gs-utl-justify-between",
  r === "around" && "gs-utl-justify-around",
  r === "evenly" && "gs-utl-justify-evenly"
), dc = ({
  style: e,
  width: t,
  height: n,
  gap: r
}) => ({
  height: n,
  gap: r,
  width: t,
  ...e
}), Lo = me(
  ce(function({
    id: t,
    children: n,
    className: r,
    style: o,
    width: s,
    gap: i,
    height: a,
    grow: c,
    alignItems: u,
    justifyContent: d,
    htmlAttrs: p,
    ...f
  }) {
    const { layoutsById: h } = Tp(), [v, g] = U({}), b = oe(
      () => dc({
        height: a,
        gap: i,
        width: s,
        style: o
      }),
      [o, s, a, i]
    ), m = uc({ className: r, grow: c, alignItems: u, justifyContent: d });
    W(() => {
      if (t)
        return h.set(t, { state: v, setState: g }), () => {
          h.delete(t);
        };
    }, [h, v]);
    const y = f.as ?? "div";
    return /* @__PURE__ */ l.jsx(y, { style: b, className: m, ...f, ...p, children: v.children ?? n });
  })
), Jp = (() => {
  if (typeof self > "u")
    return !1;
  if ("top" in self && self !== top)
    try {
      top.window.document._ = 0;
    } catch {
      return !1;
    }
  return "showOpenFilePicker" in self;
})(), bM = Jp ? Promise.resolve().then(function() {
  return CM;
}) : Promise.resolve().then(function() {
  return AM;
});
async function yM(...e) {
  return (await bM).default(...e);
}
Jp ? Promise.resolve().then(function() {
  return EM;
}) : Promise.resolve().then(function() {
  return kM;
});
const xM = Jp ? Promise.resolve().then(function() {
  return OM;
}) : Promise.resolve().then(function() {
  return $M;
});
async function wM(...e) {
  return (await xM).default(...e);
}
const SM = async (e) => {
  const t = await e.getFile();
  return t.handle = e, t;
};
var jM = async (e = [{}]) => {
  Array.isArray(e) || (e = [e]);
  const t = [];
  e.forEach((o, s) => {
    t[s] = { description: o.description || "Files", accept: {} }, o.mimeTypes ? o.mimeTypes.map((i) => {
      t[s].accept[i] = o.extensions || [];
    }) : t[s].accept["*/*"] = o.extensions || [];
  });
  const n = await window.showOpenFilePicker({ id: e[0].id, startIn: e[0].startIn, types: t, multiple: e[0].multiple || !1, excludeAcceptAllOption: e[0].excludeAcceptAllOption || !1 }), r = await Promise.all(n.map(SM));
  return e[0].multiple ? r : r[0];
}, CM = { __proto__: null, default: jM };
function za(e) {
  function t(n) {
    if (Object(n) !== n)
      return Promise.reject(new TypeError(n + " is not an object."));
    var r = n.done;
    return Promise.resolve(n.value).then(function(o) {
      return { value: o, done: r };
    });
  }
  return za = function(n) {
    this.s = n, this.n = n.next;
  }, za.prototype = { s: null, n: null, next: function() {
    return t(this.n.apply(this.s, arguments));
  }, return: function(n) {
    var r = this.s.return;
    return r === void 0 ? Promise.resolve({ value: n, done: !0 }) : t(r.apply(this.s, arguments));
  }, throw: function(n) {
    var r = this.s.return;
    return r === void 0 ? Promise.reject(n) : t(r.apply(this.s, arguments));
  } }, new za(e);
}
const n0 = async (e, t, n = e.name, r) => {
  const o = [], s = [];
  var i, a = !1, c = !1;
  try {
    for (var u, d = function(p) {
      var f, h, v, g = 2;
      for (typeof Symbol < "u" && (h = Symbol.asyncIterator, v = Symbol.iterator); g--; ) {
        if (h && (f = p[h]) != null)
          return f.call(p);
        if (v && (f = p[v]) != null)
          return new za(f.call(p));
        h = "@@asyncIterator", v = "@@iterator";
      }
      throw new TypeError("Object is not async iterable");
    }(e.values()); a = !(u = await d.next()).done; a = !1) {
      const p = u.value, f = `${n}/${p.name}`;
      p.kind === "file" ? s.push(p.getFile().then((h) => (h.directoryHandle = e, h.handle = p, Object.defineProperty(h, "webkitRelativePath", { configurable: !0, enumerable: !0, get: () => f })))) : p.kind !== "directory" || !t || r && r(p) || o.push(n0(p, t, f, r));
    }
  } catch (p) {
    c = !0, i = p;
  } finally {
    try {
      a && d.return != null && await d.return();
    } finally {
      if (c)
        throw i;
    }
  }
  return [...(await Promise.all(o)).flat(), ...await Promise.all(s)];
};
var PM = async (e = {}) => {
  e.recursive = e.recursive || !1, e.mode = e.mode || "read";
  const t = await window.showDirectoryPicker({ id: e.id, startIn: e.startIn, mode: e.mode });
  return (await (await t.values()).next()).done ? [t] : n0(t, e.recursive, void 0, e.skipDirectory);
}, EM = { __proto__: null, default: PM }, _M = async (e, t = [{}], n = null, r = !1, o = null) => {
  Array.isArray(t) || (t = [t]), t[0].fileName = t[0].fileName || "Untitled";
  const s = [];
  let i = null;
  if (e instanceof Blob && e.type ? i = e.type : e.headers && e.headers.get("content-type") && (i = e.headers.get("content-type")), t.forEach((u, d) => {
    s[d] = { description: u.description || "Files", accept: {} }, u.mimeTypes ? (d === 0 && i && u.mimeTypes.push(i), u.mimeTypes.map((p) => {
      s[d].accept[p] = u.extensions || [];
    })) : i ? s[d].accept[i] = u.extensions || [] : s[d].accept["*/*"] = u.extensions || [];
  }), n)
    try {
      await n.getFile();
    } catch (u) {
      if (n = null, r)
        throw u;
    }
  const a = n || await window.showSaveFilePicker({ suggestedName: t[0].fileName, id: t[0].id, startIn: t[0].startIn, types: s, excludeAcceptAllOption: t[0].excludeAcceptAllOption || !1 });
  !n && o && o(a);
  const c = await a.createWritable();
  return "stream" in e ? (await e.stream().pipeTo(c), a) : "body" in e ? (await e.body.pipeTo(c), a) : (await c.write(await e), await c.close(), a);
}, OM = { __proto__: null, default: _M }, TM = async (e = [{}]) => (Array.isArray(e) || (e = [e]), new Promise((t, n) => {
  const r = document.createElement("input");
  r.type = "file";
  const o = [...e.map((c) => c.mimeTypes || []), ...e.map((c) => c.extensions || [])].join();
  r.multiple = e[0].multiple || !1, r.accept = o || "", r.style.display = "none", document.body.append(r);
  const s = (c) => {
    typeof i == "function" && i(), t(c);
  }, i = e[0].legacySetup && e[0].legacySetup(s, () => i(n), r), a = () => {
    window.removeEventListener("focus", a), r.remove();
  };
  r.addEventListener("click", () => {
    window.addEventListener("focus", a);
  }), r.addEventListener("change", () => {
    window.removeEventListener("focus", a), r.remove(), s(r.multiple ? Array.from(r.files) : r.files[0]);
  }), "showPicker" in HTMLInputElement.prototype ? r.showPicker() : r.click();
})), AM = { __proto__: null, default: TM }, LM = async (e = [{}]) => (Array.isArray(e) || (e = [e]), e[0].recursive = e[0].recursive || !1, new Promise((t, n) => {
  const r = document.createElement("input");
  r.type = "file", r.webkitdirectory = !0;
  const o = (i) => {
    typeof s == "function" && s(), t(i);
  }, s = e[0].legacySetup && e[0].legacySetup(o, () => s(n), r);
  r.addEventListener("change", () => {
    let i = Array.from(r.files);
    e[0].recursive ? e[0].recursive && e[0].skipDirectory && (i = i.filter((a) => a.webkitRelativePath.split("/").every((c) => !e[0].skipDirectory({ name: c, kind: "directory" })))) : i = i.filter((a) => a.webkitRelativePath.split("/").length === 2), o(i);
  }), "showPicker" in HTMLInputElement.prototype ? r.showPicker() : r.click();
})), kM = { __proto__: null, default: LM }, MM = async (e, t = {}) => {
  Array.isArray(t) && (t = t[0]);
  const n = document.createElement("a");
  let r = e;
  "body" in e && (r = await async function(i, a) {
    const c = i.getReader(), u = new ReadableStream({ start: (f) => async function h() {
      return c.read().then(({ done: v, value: g }) => {
        if (!v)
          return f.enqueue(g), h();
        f.close();
      });
    }() }), d = new Response(u), p = await d.blob();
    return c.releaseLock(), new Blob([p], { type: a });
  }(e.body, e.headers.get("content-type"))), n.download = t.fileName || "Untitled", n.href = URL.createObjectURL(await r);
  const o = () => {
    typeof s == "function" && s();
  }, s = t.legacySetup && t.legacySetup(o, () => s(), n);
  return n.addEventListener("click", () => {
    setTimeout(() => URL.revokeObjectURL(n.href), 3e4), o();
  }), n.click(), null;
}, $M = { __proto__: null, default: MM };
const NM = { NODE_ENV: "production", NPM_PACKAGE_VERSION: "1.0.0", STUDIO_NPM_PACKAGE_VERSION: "1.0.31" }.REACT_APP_VERSION ?? "1.0.0", RM = ce(function() {
  var n;
  const t = (n = window.grapesjs) == null ? void 0 : n.version;
  return /* @__PURE__ */ l.jsxs(R, { col: !0, space: "m", children: [
    /* @__PURE__ */ l.jsx(R, { justify: "center", children: /* @__PURE__ */ l.jsxs($, { className: B("relative"), children: [
      /* @__PURE__ */ l.jsx(cc, { className: B("w-24 opacity-50") }),
      t && /* @__PURE__ */ l.jsx(yt, { className: B(H.bgA, "absolute gs-utl-right-[-20px] bottom-0"), label: `v${t}`, s: "s", pill: !0 })
    ] }) }),
    /* @__PURE__ */ l.jsxs($, { children: [
      /* @__PURE__ */ l.jsxs("p", { children: [
        /* @__PURE__ */ l.jsx("b", { children: "GrapesJS Studio" }),
        " is an innovative experimental editor, initially created to improve and extend the customization capability of the",
        " ",
        /* @__PURE__ */ l.jsx("a", { className: B(yo.link), href: "https://grapesjs.com", children: "GrapesJS" }),
        " ",
        "library. Beyond pushing the evolution of the core library itself, this application aspires to empower individuals in creating and managing their web projects autonomously, free from subscriptions or dependency on the internet connection."
      ] }),
      /* @__PURE__ */ l.jsx("br", {}),
      /* @__PURE__ */ l.jsxs("p", { children: [
        "If you like the vision of this project and you're eager to play a role in its continued development, consider becoming a backer or sponsor through",
        " ",
        /* @__PURE__ */ l.jsx("a", { className: B(yo.link), href: "https://opencollective.com/grapesjs", children: "Open Collective" }),
        "."
      ] })
    ] }),
    /* @__PURE__ */ l.jsxs($, { className: B(H.txtLowEmphasis, "text-right"), children: [
      "GrapesJS Studio: v",
      NM
    ] })
  ] });
}), DM = ce(function() {
  return /* @__PURE__ */ l.jsxs(R, { col: !0, space: "m", children: [
    /* @__PURE__ */ l.jsx(R, { justify: "center", children: /* @__PURE__ */ l.jsx($, { className: L("relative"), children: /* @__PURE__ */ l.jsx(cc, { className: L("w-24 opacity-50") }) }) }),
    /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsxs("p", { children: [
      "We're excited to introduce the GrapesJS Studio SDK, an embeddable version of the Studio editor.",
      /* @__PURE__ */ l.jsx("br", {}),
      /* @__PURE__ */ l.jsx("br", {}),
      "The Studio SDK offers a powerful and flexible web editing experience that can be seamlessly integrated into your platform as a white-label editor. This enables your users to effortlessly create and manage content with advanced tools.",
      /* @__PURE__ */ l.jsx("br", {}),
      /* @__PURE__ */ l.jsx("br", {}),
      "You can try the initial release of the Studio SDK by creating a license and following the instructions on the",
      " ",
      /* @__PURE__ */ l.jsx("a", { className: L(yo.link), href: "/dashboard/sdk/licenses", target: "_blank", children: "Studio SDK license page" }),
      /* @__PURE__ */ l.jsx("br", {}),
      /* @__PURE__ */ l.jsx("br", {}),
      "If you have any questions or need assistance with specific use cases, please fill out this",
      " ",
      /* @__PURE__ */ l.jsx("a", { className: L(yo.link), href: "https://forms.gle/VUycp3rc8iCpbh9k8", target: "_blank", rel: "noreferrer", children: "form" }),
      " ",
      "and we'll get back to you as soon as possible."
    ] }) })
  ] });
});
function IM({ onCopy: e, getValue: t, value: n, title: r = "Copy", ...o }) {
  const [s, i] = U(!1), a = () => {
    Rx((t == null ? void 0 : t()) ?? n), i(!0), e == null || e();
  };
  return W(() => {
    if (!s)
      return;
    const c = setTimeout(() => i(!1), 3e3);
    return () => clearTimeout(c);
  }, [s]), /* @__PURE__ */ l.jsx(Bt, { onClick: a, title: r, type: "button", size: "lg", withBg: !0, ...o, children: /* @__PURE__ */ l.jsx(
    te,
    {
      className: B(s && H.tA),
      icon: s ? Q.check : Q.contentCopy,
      size: le.s
    }
  ) });
}
function Qp(e) {
  return e = e.replace(/\s*([\{\}\:\;\,])\s*/g, "$1"), e = e.replace(/;\s*;/g, ";"), e = e.replace(/\,[\s\.\#\d]*{/g, "{"), e = e.replace(/([^\s])\{([^\s])/g, `$1 {
	$2`), e = e.replace(/([^\s])\}([^\n]*)/g, `$1
}
$2`), e = e.replace(/([^\s]);([^\s\}])/g, `$1;
	$2`), e;
}
const r0 = ce(function() {
  const t = Pt(), n = Me(), { Styles: r } = t, { isDarkTheme: o } = an(), s = r.getSelected(), [i, a] = U(0), c = s ? Qp(s == null ? void 0 : s.toCSS({ allowEmpty: !0 })) : "", [u, d] = U(c);
  W(() => {
    const f = () => a((v) => ++v), h = r.events.custom;
    return t.on(h, f), () => {
      t.off(h, f);
    };
  }, [r, t]);
  const p = () => {
    if (u) {
      const f = t.Parser.parseCss(u)[0];
      f && (s == null || s.setStyle(f.style));
    }
  };
  return /* @__PURE__ */ l.jsxs(R, { className: L("relative"), col: !0, full: !0, children: [
    /* @__PURE__ */ l.jsx($, { grow: !0, children: s ? /* @__PURE__ */ l.jsx(
      Wr,
      {
        padding: 5,
        language: "css",
        value: c,
        onChange: d,
        isDarkTheme: o,
        clean: !0
      },
      i
    ) : n.t("noCode") }),
    /* @__PURE__ */ l.jsx(Xe, { className: L("absolute right-2 bottom-2 text-sm"), variant: "pr", size: "m2", onClick: p, children: n.t("update") })
  ] });
}), Rg = [
  {
    id: "html",
    label: "HTML"
  },
  {
    id: "mjml",
    label: "MJML"
  }
], VM = ce(function(t) {
  const n = Me(), r = ve(), { isProjectTypeEmail: o } = r, s = r.editor, [i, a] = U(Rg[0].id), [c, u] = U(), { isDarkTheme: d } = an(), [p] = U(() => Qp(s.getCss())), [f, h] = U(), v = (y) => n.t(`actions.showCode.${y}`), g = {
    ...t.options,
    ...o ? { export: !1 } : {}
  }, b = () => {
    s.runCommand("gjs-export-zip", {
      filenamePfx: "gjs-export",
      root: async (y) => {
        const x = await ol(y), w = {};
        for (const S in x) {
          const j = x[S], { filename: E, content: C } = j;
          if (j.path) {
            const P = j.path.split("/").filter(Boolean);
            let _ = w;
            for (const O of P)
              _[O] = _[O] || {}, _ = _[O];
            _[E] = C;
          } else
            w[E] = C;
        }
        return w;
      }
    });
  };
  W(() => {
    var y;
    if (o) {
      let x = s.getHtml();
      if (i !== "mjml")
        try {
          const w = s.runCommand("mjml-code-to-html");
          (y = w.errors) != null && y.length && console.warn(w.errors), x = w.html;
        } catch (w) {
          console.error(w);
        }
      u(x);
    } else
      (async () => {
        const S = (await ol(s, {
          page: s.Pages.getSelected(),
          skipProject: !0,
          styles: "skip"
        })).find((j) => j.mimeType === "text/html");
        S && u(S.content);
      })();
  }, [i]), W(() => {
    var y;
    f && ((y = f.getModel()) == null || y.setValue(c), Rv(f));
  }, [f, c]);
  const m = {
    padding: 5,
    isDarkTheme: d,
    clean: !0
  };
  return /* @__PURE__ */ l.jsxs(R, { col: !0, space: "m", children: [
    /* @__PURE__ */ l.jsxs(R, { className: L("h-96"), space: "m", children: [
      /* @__PURE__ */ l.jsxs($, { className: L("relative"), grow: !0, children: [
        o && /* @__PURE__ */ l.jsxs(R, { className: L("absolute top-3 right-3 z-10"), space: "s", nowrap: !0, children: [
          /* @__PURE__ */ l.jsx(
            _e,
            {
              value: i,
              onChange: a,
              options: Rg,
              className: L("min-w-24")
            }
          ),
          /* @__PURE__ */ l.jsx(IM, { getValue: () => f.getModel().getValue() })
        ] }),
        c !== void 0 && /* @__PURE__ */ l.jsx(Wr, { value: c, language: "html", onMount: h, ...m })
      ] }),
      !o && /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(Wr, { value: p, language: "css", ...m }) })
    ] }),
    g.export !== !1 && /* @__PURE__ */ l.jsx(R, { justify: "end", children: /* @__PURE__ */ l.jsx(Xe, { size: "m2", variant: "pr", onClick: b, children: v("exportButton") }) })
  ] });
}), HM = () => [
  {
    id: Fe.web,
    label: mr(Fe.web),
    content: /* @__PURE__ */ l.jsxs(R, { space: "s", children: [
      /* @__PURE__ */ l.jsx(te, { icon: Q.web, size: le.s }),
      /* @__PURE__ */ l.jsx("span", { children: mr(Fe.web) })
    ] })
  },
  {
    id: Fe.email,
    label: mr(Fe.email),
    content: /* @__PURE__ */ l.jsxs(R, { space: "s", children: [
      /* @__PURE__ */ l.jsx(te, { icon: Q.emailOutline, size: le.s }),
      /* @__PURE__ */ l.jsx("span", { children: mr(Fe.email) })
    ] })
  }
], o0 = (e) => {
  const t = "gs-utl-grid-cols-4", n = parseInt(`${e || 4}`, 10);
  return n === 1 ? "gs-utl-grid-cols-1" : n === 2 ? "gs-utl-grid-cols-2" : n === 3 ? "gs-utl-grid-cols-3" : n === 4 ? t : n === 5 ? "gs-utl-grid-cols-5" : t;
}, BM = (e) => !!(e && !Array.isArray(e) && typeof e == "object");
async function zM(e) {
  const t = e.map(({ id: i, src: a }) => ({ id: i, src: a })), n = e.reduce(
    (i, a) => (i[a.id] = a, i),
    {}
  ), r = [], o = [];
  return (await Vx(t)).forEach((i) => {
    i.status === "fulfilled" ? r.push(n[i.value]) : o.push(n[i.reason]);
  }), { loaded: r, failed: o };
}
const FM = async (e) => {
  const t = [...e], n = {};
  if (t.length) {
    const r = {}, o = [];
    if (t.forEach((s, i) => {
      BM(s) && (r[s.id] = { index: i }, o.push(s));
    }), o.length) {
      const { loaded: s } = await zM(o);
      s.forEach(({ id: i, options: a }) => {
        r[i].loaded = !0, n[i] = a || {};
      });
    }
    Object.keys(r).forEach((s) => {
      const i = r[s];
      i.loaded ? t[i.index] = s : t[i.index] = !1;
    });
  }
  return {
    plugins: t.filter(Boolean),
    pluginOptions: n
  };
}, UM = (e, t, n) => {
  e.loadData(t);
  let r = `${e.getHtml()}<style>${e.getCss()}</style>`;
  if (n === Fe.email)
    try {
      r = e.runCommand("mjml-code-to-html").html;
    } catch (o) {
      console.error(o);
    }
  return r.replace("<body", "<div data-body").replace("</body>", "</div>");
}, WM = async (e, t, n) => {
  const r = Eb(t, { appStore: n }), o = await FM(r);
  return e.init({
    headless: !0,
    projectData: {},
    noticeOnUnload: !1,
    storageManager: !1,
    plugins: [
      ...o.plugins,
      (s) => {
        s.Storage.setCurrent("");
      }
    ],
    pluginsOpts: o.pluginOptions,
    protectedCss: `
      * { box-sizing: border-box; }
      [data-body] {
        margin: 0;
        background-color: white;
        width: 100%;
        height: 100%;
        color: initial;
        font-family: initial;
        font-weight: initial;
        line-height: initial;
      }
      [data-body]:before {
        content: "";
        display: block;
        height: 0px;
        overflow: hidden;
      }
    `
  });
};
function ef({
  children: e,
  text: t,
  onConfirm: n,
  onCancel: r,
  className: o = "w-[200px]",
  confirmButtonProps: s = {},
  ...i
}) {
  const a = Me();
  return /* @__PURE__ */ l.jsx(Ar, { ...i, overlay: !0, title: !1, buttonAs: "span", handler: e, children: ({ close: c }) => /* @__PURE__ */ l.jsxs(R, { className: L(o), space: "m", col: !0, children: [
    /* @__PURE__ */ l.jsx($, { grow: !0, className: L("text-center"), children: t || a.t("confirmAction") }),
    /* @__PURE__ */ l.jsxs(R, { justify: "center", items: "center", space: "m", children: [
      /* @__PURE__ */ l.jsx(
        Xe,
        {
          variant: "pr",
          size: "m2",
          onClick: () => {
            c(), n == null || n();
          },
          ...s,
          children: a.t("confirm")
        }
      ),
      /* @__PURE__ */ l.jsx(
        Xe,
        {
          size: "m2",
          onClick: () => {
            c(), r == null || r();
          },
          children: a.t("cancel")
        }
      )
    ] })
  ] }) });
}
const Dg = /* @__PURE__ */ new Map(), Ig = /* @__PURE__ */ new Map(), GM = async ({ html: e = "", el: t }) => {
  const n = e, r = {};
  if (document.body.attachShadow) {
    const o = t.shadowRoot || t.attachShadow({ mode: "open" });
    o.innerHTML = n;
  }
  return r;
}, KM = ce(function({
  template: t,
  projectType: n,
  skipProjectNamePopover: r,
  className: o,
  onSelect: s,
  onRemove: i
}) {
  var E;
  const a = Me(), c = ve(), u = c.editor, [d, p] = U(""), f = G(null), h = a.t("projectManager.projectName"), v = !t.isTemplate && c.currentProjectId === ((E = t.data.custom) == null ? void 0 : E.id), g = n === Fe.web, b = !t.isTemplate || r, m = () => {
    b && (s == null || s({ editor: u, template: t, loadTemplate: y }));
  }, y = c.setProject, x = (C) => {
    C.preventDefault(), s({ editor: u, template: t, loadTemplate: y });
  };
  W(() => {
    const P = setTimeout(async () => {
      if (!f.current || !u)
        return;
      const _ = `${t.isTemplate ? "t-" : ""}${t.id}`;
      let O = Dg.get(_);
      if (!O) {
        let z = Ig.get(n);
        z || (z = await WM(u.config.grapesjs, n, c), Ig.set(n, z)), O = UM(z, t.data, n), Dg.set(_, O);
      }
      const k = f.current;
      GM({ el: k, html: O });
    });
    return () => clearTimeout(P);
  }, [f, u, n, t.data]);
  const { media: w, author: S } = t, j = /* @__PURE__ */ l.jsx(Xe, { className: B("text-sm"), size: "m2", variant: "pr", onClick: m, disabled: v, children: a.t("select") });
  return /* @__PURE__ */ l.jsx(Yt, { padding: !1, className: B("overflow-hidden max-w-full group", o), children: /* @__PURE__ */ l.jsxs(R, { col: !0, children: [
    /* @__PURE__ */ l.jsxs($, { className: B("relative group h-36 bg-checker max-w-full"), children: [
      /* @__PURE__ */ l.jsx(
        "div",
        {
          className: B(
            "gs-utl-relative",
            "gs-utl-h-full",
            "gs-utl-overflow-hidden",
            "gs-utl-flex",
            "gs-utl-justify-center"
          ),
          children: w ? /* @__PURE__ */ l.jsx("img", { src: w, alt: t.name, className: B("max-w-full") }) : /* @__PURE__ */ l.jsx(
            "div",
            {
              className: B(
                "gs-utl-w-[1200px]",
                "gs-utl-flex-shrink-0",
                "gs-utl-flex-grow-0",
                "gs-utl-origin-top",
                "gs-utl-bg-white",
                // height needs to be the inverse of scale
                "gs-utl-scale-[0.232]",
                "gs-utl-h-[431.034%]"
              ),
              ref: f
            }
          )
        }
      ),
      v && /* @__PURE__ */ l.jsx(yt, { className: B("absolute top-2 right-2", H.bgA2), label: a.t("current"), s: "s", pill: !0 }),
      /* @__PURE__ */ l.jsx(
        R,
        {
          justify: "center",
          items: "center",
          className: B(tt.coverAbs, H.bgH75, "group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),
          children: b ? j : /* @__PURE__ */ l.jsx(Ar, { overlay: !0, title: !1, buttonAs: "span", handler: j, children: () => /* @__PURE__ */ l.jsx("form", { onSubmit: x, children: /* @__PURE__ */ l.jsxs(R, { space: "m", col: !0, children: [
            /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(
              dt,
              {
                size: "s",
                value: d,
                onChange: p,
                placeholder: h,
                required: !0
              }
            ) }),
            /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(Xe, { type: "submit", variant: "pr", size: "m2", full: !0, children: a.t("load") }) })
          ] }) }) })
        }
      )
    ] }),
    /* @__PURE__ */ l.jsxs(R, { className: B("gjs-p-2 max-w-full", re.bt, H.br), col: !0, space: "s", children: [
      /* @__PURE__ */ l.jsxs(R, { className: B("text-sm w-full"), space: "s", nowrap: !0, children: [
        /* @__PURE__ */ l.jsx($, { className: B(tt.txtEllips, "max-w-full"), grow: !0, children: t.name }),
        !!S && /* @__PURE__ */ l.jsxs($, { children: [
          "by",
          " ",
          /* @__PURE__ */ l.jsx("a", { className: B(yo.link), href: S.link, rel: "noreferrer", target: "_blank", children: S.name })
        ] })
      ] }),
      /* @__PURE__ */ l.jsxs(R, { items: "center", children: [
        g && /* @__PURE__ */ l.jsxs($, { className: B("gjs-mr-auto"), children: [
          a.t("projectManager.pages"),
          ": ",
          t.data.pages.length
        ] }),
        !t.isTemplate && i && /* @__PURE__ */ l.jsx($, { className: B("gjs-ml-auto"), children: /* @__PURE__ */ l.jsx(ef, { onConfirm: () => i(t), className: "", children: /* @__PURE__ */ l.jsx(Bt, { title: a.t("delete"), children: /* @__PURE__ */ l.jsx(te, { icon: Q.delete, size: le.sx }) }) }) })
      ] })
    ] })
  ] }) });
}), s0 = ce(function({
  templates: e,
  projectType: t,
  content: n,
  skipProjectNamePopover: r,
  onSelect: o,
  onRemove: s
}) {
  const [i] = rc(), c = Me().tScoped("templates"), d = ve().editor, p = o0(n == null ? void 0 : n.itemsPerRow), f = o ?? (({ template: h, loadTemplate: v }) => v(h));
  return /* @__PURE__ */ l.jsx(l.Fragment, { children: d && e ? e.length === 0 ? /* @__PURE__ */ l.jsx(R, { justify: "center", children: c("notFound") }) : /* @__PURE__ */ l.jsx(
    lc,
    {
      data: e,
      listClassName: B("grid gap-2 gjs-pr-2", p),
      itemContent: (h, v) => /* @__PURE__ */ l.jsx(
        KM,
        {
          template: v,
          projectType: t,
          onSelect: f,
          onRemove: s,
          skipProjectNamePopover: r
        },
        v.id
      )
    },
    i
  ) : /* @__PURE__ */ l.jsx(Zi, {}) });
}), qM = ce(function() {
  var g;
  const t = ve(), n = xv(), { filteredTemplates: r, projectSourceFilter: o, projectTypeFilter: s } = n, i = Me(), a = Dn(), { sdkOptions: c } = t, u = i.tScoped("projectManager"), d = async ({ loadTemplate: b, template: m }) => {
    b(m), a.close();
  }, p = async (b) => {
    n.setProjectTypeFilter(b), await n.loadAllTemplates();
  }, f = (b) => {
    n.removeProject(b.id), n.loadProjects();
  }, h = oe(
    () => [
      {
        id: xi.Existing,
        label: u("existentProjects")
      },
      {
        id: xi.Templates,
        label: u("templates")
      }
    ],
    [i]
  ), v = ((g = c.project) == null ? void 0 : g.types) && Rd();
  return W(() => {
    n.loadAllTemplates();
  }, []), /* @__PURE__ */ l.jsxs(R, { col: !0, full: !0, space: "m", children: [
    v && /* @__PURE__ */ l.jsx(R, { items: "center", space: "m", children: /* @__PURE__ */ l.jsx($, { className: B("gjs-ml-auto"), children: /* @__PURE__ */ l.jsx(
      _e,
      {
        value: s,
        onChange: p,
        options: HM(),
        handlerSelected: (b) => /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
          /* @__PURE__ */ l.jsx("b", { children: u("projectType") }),
          ": ",
          b.label
        ] })
      }
    ) }) }),
    /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(To, { tabs: h, value: o, onChange: n.setProjectSourceFilter }) }),
    /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(
      s0,
      {
        templates: r,
        projectType: Fe[s],
        onSelect: d,
        onRemove: f,
        content: { itemsPerRow: 3 }
      }
    ) })
  ] });
}), YM = [
  { id: Hr.auto, label: "Auto" },
  { id: Hr.dark, label: "Dark" },
  { id: Hr.light, label: "Light" }
], XM = { size: "s" }, yu = ".grapesjs", ZM = (e, t) => {
  const n = e == null ? void 0 : e.settingsMenu;
  return n !== !1 && (n == null ? void 0 : n[t]) !== !1;
}, JM = ({
  actions: e,
  editor: t,
  buttons: n,
  sdkOptions: r
}) => {
  const o = r.actions;
  return o === !1 ? [] : pt(o) ? o({ actions: e, editor: t }) : o || (n ? pt(n) ? n({ items: e, editor: t }) : n : e);
}, QM = "gs-cmp-topbar-right", e4 = ce(function({ className: t, buttons: n, ...r }) {
  var F;
  const o = Pt(), { Commands: s, UndoManager: i, Components: a } = o, { theme: c, setTheme: u } = an(), d = ve(), { installEvent: p, appInstalled: f, isBrowserMode: h, setInstallEvent: v, sdkOptions: g, isProjectTypeEmail: b } = d, m = Dn(), y = Me(), x = (A) => y.t(`actions.${A}`), w = (F = g.commands) == null ? void 0 : F.options, S = o.Storage.events, j = s.events, E = "change:changesCount", C = (A, T) => () => {
    pt(A) ? A({ editor: o }) : s.isActive(A) ? s.stop(A) : s.run(A, T);
  }, P = (A) => ({
    [`${j.runCommand}${A}`]: ({ setState: T }) => T({ active: !0 }),
    [`${j.stopCommand}${A}`]: ({ setState: T }) => T({ active: !1 })
  }), _ = [
    {
      id: On.componentOutline,
      icon: Q.borderRadius,
      tooltip: x("componentOutline.title"),
      onClick: C("core:component-outline"),
      editorEvents: P("core:component-outline")
    },
    {
      id: On.preview,
      icon: Q.eye,
      tooltip: x("preview.title"),
      onClick: C("core:preview"),
      editorEvents: P("core:preview")
    },
    {
      id: On.fullscreen,
      icon: Q.fullscreen,
      tooltip: x("fullscreen.title"),
      onClick: C("core:fullscreen", { target: "body" }),
      editorEvents: P("core:fullscreen")
    },
    {
      id: On.showCode,
      icon: Q.xml,
      tooltip: x("showCode.title"),
      onClick: () => m.open({
        title: x("showCode.title"),
        content: () => /* @__PURE__ */ l.jsx(VM, { options: w == null ? void 0 : w[On.showCode] })
      })
    },
    {
      id: On.showImportCode,
      icon: Q.trayArrowDown,
      tooltip: x("importCode.title"),
      onClick: () => m.open({
        title: x("importCode.title"),
        content: () => /* @__PURE__ */ l.jsx(Dv, {})
      })
    },
    {
      id: On.clearCanvas,
      icon: Q.delete,
      tooltip: x("clearCanvas.title"),
      onClick: () => m.confirm({
        title: x("clearCanvas.title"),
        content: x("clearCanvas.content"),
        confirmButton: { variant: "danger", children: x("clearCanvas.title") },
        onConfirm: () => {
          var A;
          if (b) {
            const T = (A = a.getWrapper()) == null ? void 0 : A.findType("mjml")[0];
            T == null || T.components().forEach((D) => {
              D.components("");
            });
          } else
            o.Components.clear();
        }
      })
    },
    {
      id: On.store,
      tooltip: x("store.title"),
      onClick: async () => !d.isSaving && o.store(),
      editorEvents: {
        "change:changesCount": ({ setState: A }) => A({}),
        [S.startStore]: ({ setState: A }) => A({ disabled: !0 }),
        [S.endStore]: ({ setState: A }) => A({ disabled: !1 })
      },
      label: () => /* @__PURE__ */ l.jsxs("div", { className: L("relative"), children: [
        /* @__PURE__ */ l.jsx(te, { icon: Q.floppy, size: le.s }),
        !!o.getDirtyCount() && !d.isSaving && /* @__PURE__ */ l.jsx("div", { className: L("absolute right-0 gjs-p-0.5 bottom-0 gjs-rounded-full", H.bg), children: /* @__PURE__ */ l.jsx("div", { className: L(tt.dot, H.bgW) }) }),
        d.isSaving && /* @__PURE__ */ l.jsx("div", { className: L("absolute right-0 bottom-0 gjs-rounded-full", H.bg), children: /* @__PURE__ */ l.jsx(te, { icon: Q.refresh, size: "11px", className: L(tt.spin) }) })
      ] })
    },
    {
      id: On.undo,
      icon: Q.arrowULeftTop,
      disabled: !0,
      onClick: C("core:undo"),
      editorEvents: {
        [E]: ({ setState: A }) => A({ disabled: !i.hasUndo() })
      }
    },
    {
      id: On.redo,
      icon: Q.arrowURightTop,
      disabled: !0,
      onClick: C("core:redo"),
      editorEvents: {
        [E]: ({ setState: A }) => A({ disabled: !i.hasRedo() })
      }
    }
  ], O = JM({ actions: _, sdkOptions: g, editor: o, buttons: n }), k = [
    {
      id: "about",
      label: x("about.title"),
      icon: Q.helpCircle,
      action: () => m.open({
        size: "m",
        title: x("about.title"),
        content: () => /* @__PURE__ */ l.jsx(RM, {})
      })
    },
    {
      id: "embed",
      label: x("embed.title"),
      icon: Q.powerPlug,
      action: () => m.open({
        size: "m",
        title: x("embed.title"),
        content: () => /* @__PURE__ */ l.jsx(DM, {})
      })
    },
    {
      id: "openProject",
      label: x("open.title"),
      icon: Q.folder,
      action: async () => {
        const T = await (await yM({ extensions: [yu] })).text();
        d.loadProjectData(JSON.parse(T));
      }
    },
    {
      id: "saveProject",
      label: x("save.title"),
      icon: Q.contentSave,
      action: async () => {
        const A = o.getProjectData(), T = new Blob([JSON.stringify(A)]), D = `Untitled-${(/* @__PURE__ */ new Date()).toISOString().replace("T", "-").replace(/:|\./g, "").substring(0, 17)}`;
        await wM(T, {
          fileName: `${D}${yu}`,
          extensions: [yu]
        });
      }
    },
    // {
    //     id: 'shortcuts',
    //     label: 'Shortcuts',
    //     icon: IconNames.keyboard,
    //     action: () => alert('Open shortcuts'),
    // },
    {
      id: "loadProject",
      label: x("newProject.title"),
      icon: Q.newspaperVariantOutline,
      action: () => m.open({
        fullH: !0,
        title: x("newProject.title"),
        content: () => /* @__PURE__ */ l.jsx(qM, {})
      })
    },
    {
      id: "installApp",
      label: x(f ? "installApp.installed" : "installApp.title"),
      icon: Q.applicationBracketsOutline,
      action: async () => {
        if (f)
          return;
        p == null || p.prompt();
        const A = await (p == null ? void 0 : p.userChoice);
        (A == null ? void 0 : A.outcome) === "accepted" && v();
      }
    },
    ...g.customTheme ? [] : [
      {
        id: "theme",
        label: /* @__PURE__ */ l.jsxs(R, { items: "center", space: "m", children: [
          /* @__PURE__ */ l.jsx($, { children: "Theme" }),
          /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(
            To,
            {
              tabs: YM,
              onChange: (A) => u(A),
              value: c,
              variant: "pills"
            }
          ) })
        ] })
      }
    ]
  ].filter(({ id: A }) => !((!h || !p) && A === "installApp" || !ZM(g, A))), z = (A, T) => (D) => {
    pt(A) && (A(D), T());
  };
  return /* @__PURE__ */ l.jsxs(R, { space: "s", items: "center", justify: "end", className: L(QM, ke.xS, t), nowrap: !0, ...r, children: [
    O.map(({ id: A, ...T }) => /* @__PURE__ */ l.jsx(Zp, { size: "s", ...T }, A)),
    /* @__PURE__ */ l.jsx($, { children: g.settingsMenu !== !1 && k.length > 0 && /* @__PURE__ */ l.jsx(
      Ar,
      {
        placement: "bottom-end",
        title: !1,
        padding: !1,
        handler: /* @__PURE__ */ l.jsx(te, { icon: Q.cog, size: le.s }),
        buttonProps: XM,
        overlay: !0,
        children: ({ close: A }) => /* @__PURE__ */ l.jsx(l.Fragment, { children: k.map((T) => /* @__PURE__ */ l.jsx(
          Wl,
          {
            action: z(T.action, A),
            icon: T.icon,
            label: T.label
          },
          T.id
        )) })
      }
    ) })
  ] });
}), t4 = ({
  items: e,
  editor: t,
  customItems: n
}) => n === !1 ? [] : pt(n) ? n({ items: e, editor: t }) : n || e, Vg = (e) => ({
  icon: Q.plus,
  size: le.s,
  className: L("gs-utl-transition-transform", e && "gs-utl-rotate-45")
}), n4 = "gs-cmp-topbar-left", r4 = ce(function({
  buttons: t,
  className: n,
  style: r
}) {
  const o = ve(), s = Me(), { isOpen: i, toggleOpen: a } = Sv(), c = o.editor, d = s.tScoped("blockManager")("blocks"), p = t4({
    items: [
      {
        id: `blocks-${d}`,
        tooltip: d,
        size: e0.s,
        icon: Vg(i),
        variant: Qb.primary,
        editorEvents: {
          [zr.toggleBlocksPanel]: ({ fromEvent: f, setState: h }) => {
            h({ icon: Vg(f.isOpen) });
          }
        },
        onClick: () => a()
      }
    ],
    customItems: t,
    editor: c
  });
  return /* @__PURE__ */ l.jsx(R, { space: "s", items: "center", justify: "start", className: L(n4, ke.xS, n), style: r, nowrap: !0, children: p.map(({ id: f, ...h }) => /* @__PURE__ */ l.jsx(Zp, { ...h }, f)) });
});
function o4({ devices: e, selected: t, className: n, style: r, select: o }) {
  const s = e.map((i) => ({
    id: i.id,
    label: i.getName()
  }));
  return s.length ? /* @__PURE__ */ l.jsx(
    _e,
    {
      size: "xs",
      className: n,
      style: r,
      value: t,
      options: s,
      onChange: o
    }
  ) : null;
}
const s4 = "gs-devices", i0 = me(function({ className: t, style: n }) {
  return /* @__PURE__ */ l.jsx($5, { children: (r) => /* @__PURE__ */ l.jsx(o4, { className: Y(s4, t), style: n, ...r }) });
}), zs = "gs-cmp-editor-topbar", i4 = ce(function({
  className: t,
  height: n,
  style: r,
  children: o,
  leftContainer: s,
  rightContainer: i,
  devices: a
}) {
  const { topBarSize: c, isInPreview: u, editor: d, isTopSidebarOpen: p } = ve(), f = n ?? c, h = oe(
    () => ({
      ...r,
      minHeight: f,
      marginTop: u || !p ? `-${f}px` : 0
    }),
    [u, p, r]
  );
  return /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
    /* @__PURE__ */ l.jsx(
      $,
      {
        className: Y(zs, "gs-utl-transition-spacing gs-utl-w-full", re.bb, H.br, t),
        style: h,
        children: o ?? /* @__PURE__ */ l.jsxs(R, { className: Y(`${zs}__wrp`, "gs-utl-h-full"), items: "center", full: !0, nowrap: !0, children: [
          /* @__PURE__ */ l.jsx($, { className: Y(`${zs}__wrp-left`), grow: !0, children: s !== !1 && /* @__PURE__ */ l.jsx(r4, { ...s }) }),
          /* @__PURE__ */ l.jsx($, { className: Y(`${zs}__wrp-center`), children: a !== !1 && /* @__PURE__ */ l.jsx(i0, { ...a }) }),
          /* @__PURE__ */ l.jsx($, { className: Y(`${zs}__wrp-right`), grow: !0, children: i !== !1 && /* @__PURE__ */ l.jsx(Qr, { children: /* @__PURE__ */ l.jsx(e4, { ...i }) }) })
        ] })
      }
    ),
    /* @__PURE__ */ l.jsx(
      $,
      {
        className: Y(
          "gs-utl-transition-transform gs-utl-absolute gs-utl-top-0 gs-utl-left-0 gs-utl-z-10",
          !u && "-gs-utl-translate-y-full"
        ),
        children: /* @__PURE__ */ l.jsx(Xe, { className: Y("gs-utl-m-4", H.bg), size: "s", onClick: () => d == null ? void 0 : d.Commands.stop("core:preview"), children: /* @__PURE__ */ l.jsx(te, { icon: Q.eyeOff, size: le.s }) })
      }
    )
  ] });
}), a4 = "gs-sidebar-top", a0 = me(
  ce(function({ height: t, children: n, ...r }) {
    return /* @__PURE__ */ l.jsx(
      i4,
      {
        height: t,
        ...r,
        style: dc(r),
        className: Y(a4, "gs-utl-flex", uc(r)),
        children: n ? Vn(n) : void 0
      }
    );
  })
), l4 = "gs-canvas-sidebar-top", c4 = me(
  ce(function({ className: t, sidebarTop: n, ...r }) {
    return /* @__PURE__ */ l.jsxs(Lo, { className: Y(l4, "gs-utl-flex gs-utl-flex-col", t), grow: !0, ...r, children: [
      /* @__PURE__ */ l.jsx(a0, { ...n }),
      /* @__PURE__ */ l.jsx(t0, { grow: !0 })
    ] });
  })
), u4 = "gs-cmp-column", d4 = me(function({ className: t, children: n, full: r, ...o }) {
  return /* @__PURE__ */ l.jsx(
    Lo,
    {
      className: Y(u4, H.bg, "gs-utl-flex gs-utl-flex-col", r && "gs-utl-h-full", t),
      ...o,
      children: Vn(n)
    }
  );
});
function p4({ children: e, accept: t, onChange: n, multiple: r = !0, ...o }) {
  const s = Me(), i = G(null), a = () => {
    const { current: c } = i;
    c && (c.value = "", c.click());
  };
  return /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
    /* @__PURE__ */ l.jsx(
      "input",
      {
        className: L("hidden"),
        ref: i,
        type: "file",
        multiple: r,
        accept: t,
        onChange: n
      }
    ),
    /* @__PURE__ */ l.jsx(Xe, { variant: "pr", size: "m2", ...o, onClick: a, children: e || s.t("upload") })
  ] });
}
const f4 = ce(p4), h4 = ce(function({
  editor: t,
  assetProps: n,
  itemLayout: r,
  onSelect: o,
  onRemove: s
}) {
  const i = Ki();
  return Vn(
    r({
      asset: i.toAsset(n),
      assetProps: n,
      onSelect: (a) => o(i.toAssetProps(a)),
      onDelete: s && ((a) => s(i.toAssetProps(a))),
      editor: t
    })
  );
}), g4 = "gs-cmp-asset-card", m4 = ce(function(t) {
  var p;
  const { assetProps: n, onSelect: r, onRemove: o, className: s, itemLayout: i } = t, a = Me(), { editor: c } = ve();
  if (i)
    return c ? /* @__PURE__ */ l.jsx(h4, { ...t, editor: c, itemLayout: i }) : null;
  const { src: u } = n, d = n.name || ((p = u.split("/").pop()) == null ? void 0 : p.split("?").shift());
  return /* @__PURE__ */ l.jsx(Yt, { padding: !1, className: B(g4, "overflow-hidden max-w-full group", s), children: /* @__PURE__ */ l.jsxs(R, { col: !0, children: [
    /* @__PURE__ */ l.jsxs($, { className: B("relative group h-24 cursor-pointer bg-checker"), onClick: () => r(n), children: [
      /* @__PURE__ */ l.jsx(
        "div",
        {
          className: B("w-full h-full bg-contain bg-no-repeat bg-center"),
          style: { backgroundImage: `url("${u}")` }
        }
      ),
      /* @__PURE__ */ l.jsx(
        R,
        {
          justify: "center",
          items: "center",
          className: B(tt.coverAbs, H.bgH75, "group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),
          children: /* @__PURE__ */ l.jsx(Xe, { className: B("text-sm"), size: "m2", variant: "pr", children: a.t("select") })
        }
      )
    ] }),
    /* @__PURE__ */ l.jsxs(R, { className: B("gjs-p-1 max-w-full"), space: "s", items: "center", nowrap: !0, children: [
      /* @__PURE__ */ l.jsx($, { className: B(tt.txtEllips, "text-sm gjs-mr-auto"), children: d }),
      o && /* @__PURE__ */ l.jsx(
        ef,
        {
          onConfirm: () => o == null ? void 0 : o(n),
          text: /* @__PURE__ */ l.jsxs(R, { col: !0, space: "m", items: "stretch", children: [
            /* @__PURE__ */ l.jsx("p", { className: B("text-center", H.txtHighEmphasis), children: a.t("assetManager.deleteConfirmQuestion") }),
            /* @__PURE__ */ l.jsx("p", { className: B("text-center"), children: a.t("assetManager.deleteConfirmExplanation") })
          ] }),
          confirmButtonProps: { variant: "danger" },
          children: /* @__PURE__ */ l.jsx(Bt, { title: a.t("delete"), children: /* @__PURE__ */ l.jsx(te, { icon: Q.delete, size: le.sx }) })
        }
      )
    ] })
  ] }) });
}), xu = "gs-asset-manager", v4 = {
  search: !0,
  addUrl: !0,
  upload: !0
}, b4 = ce(function({
  assetProps: t,
  typeFilterOptions: n,
  providerFilterOptions: r,
  typeFilter: o,
  providerFilter: s,
  searchValue: i,
  isLoading: a,
  optionalType: c,
  itemLayout: u,
  content: d,
  onSelect: p,
  onChangeTypeFilter: f,
  onChangeProviderFilter: h,
  onChangeSearchValue: v,
  onChangeUpload: g,
  onAddUrl: b,
  onRemove: m,
  onEndReached: y
}) {
  const x = ve(), { editor: w } = x, S = Me(), j = o0(d == null ? void 0 : d.itemsPerRow), [E] = rc(), [C, P] = U(""), _ = (d == null ? void 0 : d.header) === !1 ? !1 : { ...v4, ...rs(d == null ? void 0 : d.header) ? d.header : {} };
  if (!w)
    return;
  const O = t.filter((k) => !(i && !qo(k.src, i) && !qo(k.name ?? "", i)));
  return /* @__PURE__ */ l.jsxs(R, { className: L(xu, "relative gs-utl-h-full", a && tt.disabled), nowrap: !0, col: !0, space: "m", children: [
    _ !== !1 && /* @__PURE__ */ l.jsxs(R, { className: L(`${xu}__header`, "gs-utl-gap-4"), justify: "between", items: "center", children: [
      /* @__PURE__ */ l.jsxs(R, { items: "center", space: "m", children: [
        _.search && /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(
          dt,
          {
            size: "s",
            type: "search",
            value: i,
            onInput: v,
            placeholder: `${S.t("search")}...`
          }
        ) }),
        n.length > (c ? 0 : 1) && /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(
          _e,
          {
            className: L("items-center"),
            size: "m",
            options: n,
            value: o,
            onChange: f,
            emptyState: S.t("assetManager.assetTypes.all"),
            includeEmpty: c
          }
        ) }),
        r.length > 0 && /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(
          _e,
          {
            className: L("items-center"),
            size: "m",
            options: r,
            value: s,
            onChange: h,
            emptyState: S.t("assetManager.noProvider"),
            includeEmpty: !0
          }
        ) })
      ] }),
      /* @__PURE__ */ l.jsxs(R, { items: "center", space: "m", children: [
        _.upload && /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(f4, { onChange: g }) }),
        _.addUrl && !!b && /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(
          Ar,
          {
            overlay: !0,
            placement: "bottom-end",
            title: !1,
            buttonAs: "span",
            handler: /* @__PURE__ */ l.jsx(Xe, { variant: "pr", size: "m2", children: S.t("assetManager.addUrl") }),
            children: ({ close: k }) => /* @__PURE__ */ l.jsxs(R, { space: "m", children: [
              /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(
                dt,
                {
                  type: "url",
                  size: "s",
                  value: C,
                  onChange: P,
                  placeholder: S.t("assetManager.inputPlh")
                }
              ) }),
              /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(
                Xe,
                {
                  variant: "pr",
                  size: "m2",
                  onClick: () => {
                    b(C), k();
                  },
                  children: S.t("add")
                }
              ) })
            ] })
          }
        ) })
      ] })
    ] }),
    /* @__PURE__ */ l.jsx(R, { className: L(`${xu}__content`, "gs-utl-h-[75vh] gs-utl-flex-grow"), space: "m", col: !0, nowrap: !0, children: O.length ? /* @__PURE__ */ l.jsx(
      lc,
      {
        data: O,
        listClassName: L("gs-utl-grid gs-utl-gap-2", j),
        endReached: y,
        itemContent: (k, z) => /* @__PURE__ */ l.jsx(
          m4,
          {
            assetProps: z,
            onSelect: p,
            onRemove: m,
            itemLayout: u
          },
          z.id
        ),
        components: { Footer: y ? y4 : void 0 }
      },
      E
    ) : /* @__PURE__ */ l.jsx(R, { justify: "center", children: S.t("noItems") }) }),
    a && /* @__PURE__ */ l.jsx(Zi, { abs: !0 })
  ] });
}), y4 = () => /* @__PURE__ */ l.jsx(
  "div",
  {
    style: {
      padding: "2rem",
      display: "flex",
      justifyContent: "center",
      height: 200
    }
  }
), l0 = ce(function({
  panelId: t,
  content: n,
  assets: r,
  types: o,
  providers: s,
  typeId: i,
  providerId: a,
  optionalType: c,
  onSelect: u,
  close: d
}) {
  const { appEditorStore: p, i18nStore: f } = Dt(), { editor: h } = p, v = Ki(), { customOnLoad: g } = v, b = gv(t);
  W(() => {
    const S = (E) => Lt(E) ? { id: E, label: f.t(`assetManager.assetTypes.${E}`) || E } : E;
    b.setCustomTypes(o == null ? void 0 : o.map(S)), b.setCustomProviders(Lt(s) ? [s] : s), i ? b.setTypeFilter(i) : b.initTypeFilter(), a ? b.setProviderFilter(a) : b.initProviderFilter(), c ? b.setOptionalType(c) : b.initOptionalType();
    const j = setTimeout(() => b.loadAssets());
    return () => clearTimeout(j);
  }, [o, s, i, a, c]);
  const m = (S) => {
    v.addToProjectAssets([{ id: S, src: S }]);
  }, y = (S) => {
    h && (u == null || u({ asset: v.toAsset(S), assetProps: S, editor: h }), d == null || d());
  }, x = r == null ? void 0 : r.map(v.toAssetProps), w = b.isUsingPagination ? () => b.loadAssets(!1) : void 0;
  return /* @__PURE__ */ l.jsx(
    b4,
    {
      assetProps: x ?? b.assetProps,
      typeFilter: b.typeFilter,
      typeFilterOptions: b.typeFilterOptions,
      providerFilter: b.providerFilter,
      providerFilterOptions: b.providerFilterOptions,
      searchValue: b.searchValue,
      onChangeTypeFilter: (S) => {
        b.setTypeFilter(S), b.loadAssets();
      },
      onChangeProviderFilter: (S) => {
        b.setProviderFilter(S), b.loadAssets();
      },
      onChangeSearchValue: b.setSearchValue,
      onSelect: y,
      onAddUrl: g ? void 0 : m,
      onChangeUpload: (S) => v.uploadFile(S.nativeEvent),
      onRemove: x ? void 0 : b.handleDelete,
      onEndReached: w,
      isLoading: b.isLoading,
      itemLayout: b.itemLayout,
      content: n,
      optionalType: b.optionalType
    }
  );
});
var x4 = globalThis && globalThis.__extends || function() {
  var e = function(t, n) {
    return e = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, o) {
      r.__proto__ = o;
    } || function(r, o) {
      for (var s in o)
        Object.prototype.hasOwnProperty.call(o, s) && (r[s] = o[s]);
    }, e(t, n);
  };
  return function(t, n) {
    e(t, n);
    function r() {
      this.constructor = t;
    }
    t.prototype = n === null ? Object.create(n) : (r.prototype = n.prototype, new r());
  };
}(), gt = globalThis && globalThis.__assign || function() {
  return gt = Object.assign || function(e) {
    for (var t, n = 1, r = arguments.length; n < r; n++) {
      t = arguments[n];
      for (var o in t)
        Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
    }
    return e;
  }, gt.apply(this, arguments);
}, Hg = {
  width: "100%",
  height: "10px",
  top: "0px",
  left: "0px",
  cursor: "row-resize"
}, Bg = {
  width: "10px",
  height: "100%",
  top: "0px",
  left: "0px",
  cursor: "col-resize"
}, ka = {
  width: "20px",
  height: "20px",
  position: "absolute"
}, w4 = {
  top: gt(gt({}, Hg), { top: "-5px" }),
  right: gt(gt({}, Bg), { left: void 0, right: "-5px" }),
  bottom: gt(gt({}, Hg), { top: void 0, bottom: "-5px" }),
  left: gt(gt({}, Bg), { left: "-5px" }),
  topRight: gt(gt({}, ka), { right: "-10px", top: "-10px", cursor: "ne-resize" }),
  bottomRight: gt(gt({}, ka), { right: "-10px", bottom: "-10px", cursor: "se-resize" }),
  bottomLeft: gt(gt({}, ka), { left: "-10px", bottom: "-10px", cursor: "sw-resize" }),
  topLeft: gt(gt({}, ka), { left: "-10px", top: "-10px", cursor: "nw-resize" })
}, S4 = (
  /** @class */
  function(e) {
    x4(t, e);
    function t() {
      var n = e !== null && e.apply(this, arguments) || this;
      return n.onMouseDown = function(r) {
        n.props.onResizeStart(r, n.props.direction);
      }, n.onTouchStart = function(r) {
        n.props.onResizeStart(r, n.props.direction);
      }, n;
    }
    return t.prototype.render = function() {
      return He.createElement("div", { className: this.props.className || "", style: gt(gt({ position: "absolute", userSelect: "none" }, w4[this.props.direction]), this.props.replaceStyles || {}), onMouseDown: this.onMouseDown, onTouchStart: this.onTouchStart }, this.props.children);
    }, t;
  }(He.PureComponent)
), j4 = globalThis && globalThis.__extends || function() {
  var e = function(t, n) {
    return e = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, o) {
      r.__proto__ = o;
    } || function(r, o) {
      for (var s in o)
        Object.prototype.hasOwnProperty.call(o, s) && (r[s] = o[s]);
    }, e(t, n);
  };
  return function(t, n) {
    e(t, n);
    function r() {
      this.constructor = t;
    }
    t.prototype = n === null ? Object.create(n) : (r.prototype = n.prototype, new r());
  };
}(), Gn = globalThis && globalThis.__assign || function() {
  return Gn = Object.assign || function(e) {
    for (var t, n = 1, r = arguments.length; n < r; n++) {
      t = arguments[n];
      for (var o in t)
        Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
    }
    return e;
  }, Gn.apply(this, arguments);
}, C4 = {
  width: "auto",
  height: "auto"
}, Ma = function(e, t, n) {
  return Math.max(Math.min(e, n), t);
}, zg = function(e, t, n) {
  var r = Math.round(e / t);
  return r * t + n * (r - 1);
}, Io = function(e, t) {
  return new RegExp(e, "i").test(t);
}, $a = function(e) {
  return !!(e.touches && e.touches.length);
}, P4 = function(e) {
  return !!((e.clientX || e.clientX === 0) && (e.clientY || e.clientY === 0));
}, Fg = function(e, t, n) {
  n === void 0 && (n = 0);
  var r = t.reduce(function(s, i, a) {
    return Math.abs(i - e) < Math.abs(t[s] - e) ? a : s;
  }, 0), o = Math.abs(t[r] - e);
  return n === 0 || o < n ? t[r] : e;
}, wu = function(e) {
  return e = e.toString(), e === "auto" || e.endsWith("px") || e.endsWith("%") || e.endsWith("vh") || e.endsWith("vw") || e.endsWith("vmax") || e.endsWith("vmin") ? e : e + "px";
}, Na = function(e, t, n, r) {
  if (e && typeof e == "string") {
    if (e.endsWith("px"))
      return Number(e.replace("px", ""));
    if (e.endsWith("%")) {
      var o = Number(e.replace("%", "")) / 100;
      return t * o;
    }
    if (e.endsWith("vw")) {
      var o = Number(e.replace("vw", "")) / 100;
      return n * o;
    }
    if (e.endsWith("vh")) {
      var o = Number(e.replace("vh", "")) / 100;
      return r * o;
    }
  }
  return e;
}, E4 = function(e, t, n, r, o, s, i) {
  return r = Na(r, e.width, t, n), o = Na(o, e.height, t, n), s = Na(s, e.width, t, n), i = Na(i, e.height, t, n), {
    maxWidth: typeof r > "u" ? void 0 : Number(r),
    maxHeight: typeof o > "u" ? void 0 : Number(o),
    minWidth: typeof s > "u" ? void 0 : Number(s),
    minHeight: typeof i > "u" ? void 0 : Number(i)
  };
}, _4 = function(e) {
  return Array.isArray(e) ? e : [e, e];
}, O4 = [
  "as",
  "ref",
  "style",
  "className",
  "grid",
  "gridGap",
  "snap",
  "bounds",
  "boundsByDirection",
  "size",
  "defaultSize",
  "minWidth",
  "minHeight",
  "maxWidth",
  "maxHeight",
  "lockAspectRatio",
  "lockAspectRatioExtraWidth",
  "lockAspectRatioExtraHeight",
  "enable",
  "handleStyles",
  "handleClasses",
  "handleWrapperStyle",
  "handleWrapperClass",
  "children",
  "onResizeStart",
  "onResize",
  "onResizeStop",
  "handleComponent",
  "scale",
  "resizeRatio",
  "snapGap"
], Ug = "__resizable_base__", T4 = (
  /** @class */
  function(e) {
    j4(t, e);
    function t(n) {
      var r, o, s, i, a = e.call(this, n) || this;
      return a.ratio = 1, a.resizable = null, a.parentLeft = 0, a.parentTop = 0, a.resizableLeft = 0, a.resizableRight = 0, a.resizableTop = 0, a.resizableBottom = 0, a.targetLeft = 0, a.targetTop = 0, a.appendBase = function() {
        if (!a.resizable || !a.window)
          return null;
        var c = a.parentNode;
        if (!c)
          return null;
        var u = a.window.document.createElement("div");
        return u.style.width = "100%", u.style.height = "100%", u.style.position = "absolute", u.style.transform = "scale(0, 0)", u.style.left = "0", u.style.flex = "0 0 100%", u.classList ? u.classList.add(Ug) : u.className += Ug, c.appendChild(u), u;
      }, a.removeBase = function(c) {
        var u = a.parentNode;
        u && u.removeChild(c);
      }, a.state = {
        isResizing: !1,
        width: (o = (r = a.propsSize) === null || r === void 0 ? void 0 : r.width) !== null && o !== void 0 ? o : "auto",
        height: (i = (s = a.propsSize) === null || s === void 0 ? void 0 : s.height) !== null && i !== void 0 ? i : "auto",
        direction: "right",
        original: {
          x: 0,
          y: 0,
          width: 0,
          height: 0
        },
        backgroundStyle: {
          height: "100%",
          width: "100%",
          backgroundColor: "rgba(0,0,0,0)",
          cursor: "auto",
          opacity: 0,
          position: "fixed",
          zIndex: 9999,
          top: "0",
          left: "0",
          bottom: "0",
          right: "0"
        },
        flexBasis: void 0
      }, a.onResizeStart = a.onResizeStart.bind(a), a.onMouseMove = a.onMouseMove.bind(a), a.onMouseUp = a.onMouseUp.bind(a), a;
    }
    return Object.defineProperty(t.prototype, "parentNode", {
      get: function() {
        return this.resizable ? this.resizable.parentNode : null;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "window", {
      get: function() {
        return !this.resizable || !this.resizable.ownerDocument ? null : this.resizable.ownerDocument.defaultView;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "propsSize", {
      get: function() {
        return this.props.size || this.props.defaultSize || C4;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "size", {
      get: function() {
        var n = 0, r = 0;
        if (this.resizable && this.window) {
          var o = this.resizable.offsetWidth, s = this.resizable.offsetHeight, i = this.resizable.style.position;
          i !== "relative" && (this.resizable.style.position = "relative"), n = this.resizable.style.width !== "auto" ? this.resizable.offsetWidth : o, r = this.resizable.style.height !== "auto" ? this.resizable.offsetHeight : s, this.resizable.style.position = i;
        }
        return { width: n, height: r };
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "sizeStyle", {
      get: function() {
        var n = this, r = this.props.size, o = function(a) {
          var c;
          if (typeof n.state[a] > "u" || n.state[a] === "auto")
            return "auto";
          if (n.propsSize && n.propsSize[a] && (!((c = n.propsSize[a]) === null || c === void 0) && c.toString().endsWith("%"))) {
            if (n.state[a].toString().endsWith("%"))
              return n.state[a].toString();
            var u = n.getParentSize(), d = Number(n.state[a].toString().replace("px", "")), p = d / u[a] * 100;
            return p + "%";
          }
          return wu(n.state[a]);
        }, s = r && typeof r.width < "u" && !this.state.isResizing ? wu(r.width) : o("width"), i = r && typeof r.height < "u" && !this.state.isResizing ? wu(r.height) : o("height");
        return { width: s, height: i };
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.getParentSize = function() {
      if (!this.parentNode)
        return this.window ? { width: this.window.innerWidth, height: this.window.innerHeight } : { width: 0, height: 0 };
      var n = this.appendBase();
      if (!n)
        return { width: 0, height: 0 };
      var r = !1, o = this.parentNode.style.flexWrap;
      o !== "wrap" && (r = !0, this.parentNode.style.flexWrap = "wrap"), n.style.position = "relative", n.style.minWidth = "100%", n.style.minHeight = "100%";
      var s = {
        width: n.offsetWidth,
        height: n.offsetHeight
      };
      return r && (this.parentNode.style.flexWrap = o), this.removeBase(n), s;
    }, t.prototype.bindEvents = function() {
      this.window && (this.window.addEventListener("mouseup", this.onMouseUp), this.window.addEventListener("mousemove", this.onMouseMove), this.window.addEventListener("mouseleave", this.onMouseUp), this.window.addEventListener("touchmove", this.onMouseMove, {
        capture: !0,
        passive: !1
      }), this.window.addEventListener("touchend", this.onMouseUp));
    }, t.prototype.unbindEvents = function() {
      this.window && (this.window.removeEventListener("mouseup", this.onMouseUp), this.window.removeEventListener("mousemove", this.onMouseMove), this.window.removeEventListener("mouseleave", this.onMouseUp), this.window.removeEventListener("touchmove", this.onMouseMove, !0), this.window.removeEventListener("touchend", this.onMouseUp));
    }, t.prototype.componentDidMount = function() {
      if (!(!this.resizable || !this.window)) {
        var n = this.window.getComputedStyle(this.resizable);
        this.setState({
          width: this.state.width || this.size.width,
          height: this.state.height || this.size.height,
          flexBasis: n.flexBasis !== "auto" ? n.flexBasis : void 0
        });
      }
    }, t.prototype.componentWillUnmount = function() {
      this.window && this.unbindEvents();
    }, t.prototype.createSizeForCssProperty = function(n, r) {
      var o = this.propsSize && this.propsSize[r];
      return this.state[r] === "auto" && this.state.original[r] === n && (typeof o > "u" || o === "auto") ? "auto" : n;
    }, t.prototype.calculateNewMaxFromBoundary = function(n, r) {
      var o = this.props.boundsByDirection, s = this.state.direction, i = o && Io("left", s), a = o && Io("top", s), c, u;
      if (this.props.bounds === "parent") {
        var d = this.parentNode;
        d && (c = i ? this.resizableRight - this.parentLeft : d.offsetWidth + (this.parentLeft - this.resizableLeft), u = a ? this.resizableBottom - this.parentTop : d.offsetHeight + (this.parentTop - this.resizableTop));
      } else
        this.props.bounds === "window" ? this.window && (c = i ? this.resizableRight : this.window.innerWidth - this.resizableLeft, u = a ? this.resizableBottom : this.window.innerHeight - this.resizableTop) : this.props.bounds && (c = i ? this.resizableRight - this.targetLeft : this.props.bounds.offsetWidth + (this.targetLeft - this.resizableLeft), u = a ? this.resizableBottom - this.targetTop : this.props.bounds.offsetHeight + (this.targetTop - this.resizableTop));
      return c && Number.isFinite(c) && (n = n && n < c ? n : c), u && Number.isFinite(u) && (r = r && r < u ? r : u), { maxWidth: n, maxHeight: r };
    }, t.prototype.calculateNewSizeFromDirection = function(n, r) {
      var o = this.props.scale || 1, s = _4(this.props.resizeRatio || 1), i = s[0], a = s[1], c = this.state, u = c.direction, d = c.original, p = this.props, f = p.lockAspectRatio, h = p.lockAspectRatioExtraHeight, v = p.lockAspectRatioExtraWidth, g = d.width, b = d.height, m = h || 0, y = v || 0;
      return Io("right", u) && (g = d.width + (n - d.x) * i / o, f && (b = (g - y) / this.ratio + m)), Io("left", u) && (g = d.width - (n - d.x) * i / o, f && (b = (g - y) / this.ratio + m)), Io("bottom", u) && (b = d.height + (r - d.y) * a / o, f && (g = (b - m) * this.ratio + y)), Io("top", u) && (b = d.height - (r - d.y) * a / o, f && (g = (b - m) * this.ratio + y)), { newWidth: g, newHeight: b };
    }, t.prototype.calculateNewSizeFromAspectRatio = function(n, r, o, s) {
      var i = this.props, a = i.lockAspectRatio, c = i.lockAspectRatioExtraHeight, u = i.lockAspectRatioExtraWidth, d = typeof s.width > "u" ? 10 : s.width, p = typeof o.width > "u" || o.width < 0 ? n : o.width, f = typeof s.height > "u" ? 10 : s.height, h = typeof o.height > "u" || o.height < 0 ? r : o.height, v = c || 0, g = u || 0;
      if (a) {
        var b = (f - v) * this.ratio + g, m = (h - v) * this.ratio + g, y = (d - g) / this.ratio + v, x = (p - g) / this.ratio + v, w = Math.max(d, b), S = Math.min(p, m), j = Math.max(f, y), E = Math.min(h, x);
        n = Ma(n, w, S), r = Ma(r, j, E);
      } else
        n = Ma(n, d, p), r = Ma(r, f, h);
      return { newWidth: n, newHeight: r };
    }, t.prototype.setBoundingClientRect = function() {
      var n = 1 / (this.props.scale || 1);
      if (this.props.bounds === "parent") {
        var r = this.parentNode;
        if (r) {
          var o = r.getBoundingClientRect();
          this.parentLeft = o.left * n, this.parentTop = o.top * n;
        }
      }
      if (this.props.bounds && typeof this.props.bounds != "string") {
        var s = this.props.bounds.getBoundingClientRect();
        this.targetLeft = s.left * n, this.targetTop = s.top * n;
      }
      if (this.resizable) {
        var i = this.resizable.getBoundingClientRect(), a = i.left, c = i.top, u = i.right, d = i.bottom;
        this.resizableLeft = a * n, this.resizableRight = u * n, this.resizableTop = c * n, this.resizableBottom = d * n;
      }
    }, t.prototype.onResizeStart = function(n, r) {
      if (!(!this.resizable || !this.window)) {
        var o = 0, s = 0;
        if (n.nativeEvent && P4(n.nativeEvent) ? (o = n.nativeEvent.clientX, s = n.nativeEvent.clientY) : n.nativeEvent && $a(n.nativeEvent) && (o = n.nativeEvent.touches[0].clientX, s = n.nativeEvent.touches[0].clientY), this.props.onResizeStart && this.resizable) {
          var i = this.props.onResizeStart(n, r, this.resizable);
          if (i === !1)
            return;
        }
        this.props.size && (typeof this.props.size.height < "u" && this.props.size.height !== this.state.height && this.setState({ height: this.props.size.height }), typeof this.props.size.width < "u" && this.props.size.width !== this.state.width && this.setState({ width: this.props.size.width })), this.ratio = typeof this.props.lockAspectRatio == "number" ? this.props.lockAspectRatio : this.size.width / this.size.height;
        var a, c = this.window.getComputedStyle(this.resizable);
        if (c.flexBasis !== "auto") {
          var u = this.parentNode;
          if (u) {
            var d = this.window.getComputedStyle(u).flexDirection;
            this.flexDir = d.startsWith("row") ? "row" : "column", a = c.flexBasis;
          }
        }
        this.setBoundingClientRect(), this.bindEvents();
        var p = {
          original: {
            x: o,
            y: s,
            width: this.size.width,
            height: this.size.height
          },
          isResizing: !0,
          backgroundStyle: Gn(Gn({}, this.state.backgroundStyle), { cursor: this.window.getComputedStyle(n.target).cursor || "auto" }),
          direction: r,
          flexBasis: a
        };
        this.setState(p);
      }
    }, t.prototype.onMouseMove = function(n) {
      var r = this;
      if (!(!this.state.isResizing || !this.resizable || !this.window)) {
        if (this.window.TouchEvent && $a(n))
          try {
            n.preventDefault(), n.stopPropagation();
          } catch {
          }
        var o = this.props, s = o.maxWidth, i = o.maxHeight, a = o.minWidth, c = o.minHeight, u = $a(n) ? n.touches[0].clientX : n.clientX, d = $a(n) ? n.touches[0].clientY : n.clientY, p = this.state, f = p.direction, h = p.original, v = p.width, g = p.height, b = this.getParentSize(), m = E4(b, this.window.innerWidth, this.window.innerHeight, s, i, a, c);
        s = m.maxWidth, i = m.maxHeight, a = m.minWidth, c = m.minHeight;
        var y = this.calculateNewSizeFromDirection(u, d), x = y.newHeight, w = y.newWidth, S = this.calculateNewMaxFromBoundary(s, i);
        this.props.snap && this.props.snap.x && (w = Fg(w, this.props.snap.x, this.props.snapGap)), this.props.snap && this.props.snap.y && (x = Fg(x, this.props.snap.y, this.props.snapGap));
        var j = this.calculateNewSizeFromAspectRatio(w, x, { width: S.maxWidth, height: S.maxHeight }, { width: a, height: c });
        if (w = j.newWidth, x = j.newHeight, this.props.grid) {
          var E = zg(w, this.props.grid[0], this.props.gridGap ? this.props.gridGap[0] : 0), C = zg(x, this.props.grid[1], this.props.gridGap ? this.props.gridGap[1] : 0), P = this.props.snapGap || 0, _ = P === 0 || Math.abs(E - w) <= P ? E : w, O = P === 0 || Math.abs(C - x) <= P ? C : x;
          w = _, x = O;
        }
        var k = {
          width: w - h.width,
          height: x - h.height
        };
        if (v && typeof v == "string") {
          if (v.endsWith("%")) {
            var z = w / b.width * 100;
            w = z + "%";
          } else if (v.endsWith("vw")) {
            var F = w / this.window.innerWidth * 100;
            w = F + "vw";
          } else if (v.endsWith("vh")) {
            var A = w / this.window.innerHeight * 100;
            w = A + "vh";
          }
        }
        if (g && typeof g == "string") {
          if (g.endsWith("%")) {
            var z = x / b.height * 100;
            x = z + "%";
          } else if (g.endsWith("vw")) {
            var F = x / this.window.innerWidth * 100;
            x = F + "vw";
          } else if (g.endsWith("vh")) {
            var A = x / this.window.innerHeight * 100;
            x = A + "vh";
          }
        }
        var T = {
          width: this.createSizeForCssProperty(w, "width"),
          height: this.createSizeForCssProperty(x, "height")
        };
        this.flexDir === "row" ? T.flexBasis = T.width : this.flexDir === "column" && (T.flexBasis = T.height);
        var D = this.state.width !== T.width, M = this.state.height !== T.height, N = this.state.flexBasis !== T.flexBasis, V = D || M || N;
        V && tm(function() {
          r.setState(T);
        }), this.props.onResize && V && this.props.onResize(n, f, this.resizable, k);
      }
    }, t.prototype.onMouseUp = function(n) {
      var r, o, s = this.state, i = s.isResizing, a = s.direction, c = s.original;
      if (!(!i || !this.resizable)) {
        var u = {
          width: this.size.width - c.width,
          height: this.size.height - c.height
        };
        this.props.onResizeStop && this.props.onResizeStop(n, a, this.resizable, u), this.props.size && this.setState({ width: (r = this.props.size.width) !== null && r !== void 0 ? r : "auto", height: (o = this.props.size.height) !== null && o !== void 0 ? o : "auto" }), this.unbindEvents(), this.setState({
          isResizing: !1,
          backgroundStyle: Gn(Gn({}, this.state.backgroundStyle), { cursor: "auto" })
        });
      }
    }, t.prototype.updateSize = function(n) {
      var r, o;
      this.setState({ width: (r = n.width) !== null && r !== void 0 ? r : "auto", height: (o = n.height) !== null && o !== void 0 ? o : "auto" });
    }, t.prototype.renderResizer = function(n) {
      var r = this, o = this.props, s = o.enable, i = o.handleStyles, a = o.handleClasses, c = o.handleWrapperStyle, u = o.handleWrapperClass, d = o.handleComponent;
      if (!s)
        return null;
      var p = n.filter(function(f) {
        return s[f] !== !1;
      }).map(function(f) {
        return s[f] !== !1 ? He.createElement(S4, { key: f, direction: f, onResizeStart: r.onResizeStart, replaceStyles: i && i[f], className: a && a[f] }, d && d[f] ? d[f] : null) : null;
      });
      return He.createElement("div", { className: u, style: c }, p);
    }, t.prototype.render = function() {
      var n = this, r = Object.keys(this.props).reduce(function(i, a) {
        return O4.indexOf(a) !== -1 || (i[a] = n.props[a]), i;
      }, {}), o = Gn(Gn(Gn({ position: "relative", userSelect: this.state.isResizing ? "none" : "auto" }, this.props.style), this.sizeStyle), { maxWidth: this.props.maxWidth, maxHeight: this.props.maxHeight, minWidth: this.props.minWidth, minHeight: this.props.minHeight, boxSizing: "border-box", flexShrink: 0 });
      this.state.flexBasis && (o.flexBasis = this.state.flexBasis);
      var s = this.props.as || "div";
      return He.createElement(
        s,
        Gn({ style: o, className: this.props.className }, r, {
          // `ref` is after `extendsProps` to ensure this one wins over a version
          // passed in
          ref: function(i) {
            i && (n.resizable = i);
          }
        }),
        this.state.isResizing && He.createElement("div", { style: this.state.backgroundStyle }),
        this.renderResizer(["topLeft", "top", "topRight", "left"]),
        this.props.children,
        this.renderResizer(["right", "bottomLeft", "bottom", "bottomRight"])
      );
    }, t.defaultProps = {
      as: "div",
      onResizeStart: function() {
      },
      onResize: function() {
      },
      onResizeStop: function() {
      },
      enable: {
        top: !0,
        right: !0,
        bottom: !0,
        left: !0,
        topRight: !0,
        bottomRight: !0,
        bottomLeft: !0,
        topLeft: !0
      },
      style: {},
      grid: [1, 1],
      gridGap: [0, 0],
      lockAspectRatio: !1,
      lockAspectRatioExtraWidth: 0,
      lockAspectRatioExtraHeight: 0,
      scale: 1,
      resizeRatio: 1,
      snapGap: 0
    }, t;
  }(He.PureComponent)
);
function pc({
  className: e,
  children: t,
  top: n,
  bottom: r,
  right: o,
  left: s,
  width: i,
  height: a,
  minHeight: c,
  minWidth: u,
  maxHeight: d,
  maxWidth: p,
  style: f,
  onResize: h,
  onResizeStop: v
}) {
  const g = {
    top: n || !1,
    right: o || !1,
    bottom: r || !1,
    left: s || !1,
    topRight: !1,
    bottomRight: !1,
    bottomLeft: !1,
    topLeft: !1
  }, b = {
    width: i || "auto",
    height: a || "auto"
  }, m = L("z-10", H.hBgAct), y = {
    bottom: m,
    right: m,
    left: m
  }, x = {
    bottom: { bottom: 0, height: 2 },
    right: { right: -1, width: 2 },
    left: { left: -1, width: 2 }
  };
  return /* @__PURE__ */ l.jsx(
    T4,
    {
      className: e,
      enable: g,
      defaultSize: b,
      handleStyles: x,
      handleClasses: y,
      onResize: h,
      onResizeStop: v,
      minHeight: c,
      minWidth: u,
      maxHeight: d,
      maxWidth: p,
      style: f,
      children: t
    }
  );
}
const Fs = "gs-studio-panel", c0 = (e, t = {}) => ({
  ...t,
  ...e === !0 ? {} : e || void 0
}), In = me(function({
  children: t,
  header: n,
  resizable: r,
  className: o,
  classNameAccordion: s,
  classNameAccordionContent: i,
  ...a
}) {
  const c = /* @__PURE__ */ l.jsx(Lo, { className: Y(Fs, o), ...a, children: t }), u = r ? r === !0 ? {
    top: !0,
    right: !0,
    bottom: !0,
    left: !0
  } : r : void 0, d = u ? /* @__PURE__ */ l.jsx(pc, { className: Y([`${Fs}__resizer`]), ...u, children: c }) : c, p = n === !0 ? { collapsible: !0 } : n || void 0;
  return p ? /* @__PURE__ */ l.jsx(
    Oo,
    {
      classNameWrap: Y(`${Fs}__accordion`, s),
      className: Y(`${Fs}__accordion-header`, ke.xy, p.className),
      classNameContent: Y(`${Fs}__accordion-content`, i),
      disabled: p.collapsible === !1,
      style: p.style,
      handler: /* @__PURE__ */ l.jsxs(R, { space: "s", items: "center", children: [
        !!p.icon && /* @__PURE__ */ l.jsx(te, { icon: p.icon, size: le.s }),
        /* @__PURE__ */ l.jsx($, { grow: !0, children: p.label })
      ] }),
      open: n ? p.collapsed !== !0 : !0,
      children: d
    }
  ) : d;
}), A4 = "gs-panel-assets", L4 = me(
  ce(function({
    className: t,
    onSelect: n,
    content: r,
    assets: o,
    types: s,
    providers: i,
    typeId: a,
    providerId: c,
    optionalType: u,
    ...d
  }) {
    const p = ve(), f = Ki(), h = p.editor, [v] = U(() => d.id || Qm());
    return W(() => (f.createAssetManager(v), () => {
      f.removeAssetManager(v);
    }), [v]), gv(v) ? /* @__PURE__ */ l.jsx(
      In,
      {
        className: Y(A4, "gs-utl-overflow-hidden gs-utl-h-full", t),
        classNameAccordion: Y("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        classNameAccordionContent: Y("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        ...d,
        children: h && /* @__PURE__ */ l.jsx(
          l0,
          {
            panelId: v,
            assets: o,
            types: s,
            providers: i,
            onSelect: n,
            typeId: a,
            providerId: c,
            content: r,
            optionalType: u
          }
        )
      }
    ) : null;
  })
), k4 = "gs-panel-blocks", M4 = me(
  ce(function({ className: t, symbols: n, search: r, ...o }) {
    const s = ve().sdkProps.children, i = {
      search: r,
      symbols: n,
      isOpen: !0
    };
    return /* @__PURE__ */ l.jsx(
      In,
      {
        className: Y(k4, "gs-utl-overflow-hidden", t),
        classNameAccordion: Y("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        classNameAccordionContent: Y("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        ...o,
        children: /* @__PURE__ */ l.jsxs(Qr, { children: [
          Wt(s, Yb),
          /* @__PURE__ */ l.jsx(Lb, { className: Y("gs-utl-overflow-hidden gs-utl-flex-nowrap"), ...i }),
          Wt(s, qb)
        ] })
      }
    );
  })
), $4 = (e, { t, id: n }) => t(`fields.${n}.label`) || mr(`${e}`.replace(/-/g, " ")), u0 = (e, { t, id: n }) => {
  const r = Lt(e) ? { id: e, label: e } : e;
  return {
    ...r,
    label: t(`fields.${n}.options.${r.id}`) || r.label
  };
}, d0 = (e) => e.get("defaultValue") || "", fc = (e) => e.get("field"), p0 = (e) => `${e.get("value") || d0(e) || ""}`, N4 = (e, t) => e || d0(t) || "", vl = ({
  record: e,
  value: t,
  partial: n
}) => {
  e.set({ value: N4(t, e) }, { partial: n }), e.em.refreshCanvas({ tools: !0 });
}, bl = (e, t) => ({
  className: "gs-utl-w-full",
  size: "s",
  value: p0(e),
  label: $4(e.get("label") || e.id || "", t),
  onChange: (n, r) => vl({ record: e, value: n, partial: r })
}), R4 = (e, t) => {
  const n = fc(e), r = rs(n) ? n : void 0, o = (r == null ? void 0 : r.units) || [], s = yA(p0(e)), i = s.number, a = s.unit || o[0] || "";
  return {
    ...bl(e, t),
    value: i,
    valueUnit: a,
    min: r == null ? void 0 : r.min,
    max: r == null ? void 0 : r.max,
    step: r == null ? void 0 : r.step,
    units: r == null ? void 0 : r.units,
    onChange: (c, u) => {
      vl({ value: c ? `${c}${a}` : "", record: e, partial: u });
    },
    onChangeUnit: (c) => {
      vl({ value: i ? `${i}${c}` : "", record: e });
    }
  };
}, f0 = (e, t) => {
  var s;
  const n = fc(e), r = rs(n) ? n : void 0, o = ((s = r == null ? void 0 : r.options) == null ? void 0 : s.map((i) => u0(i, t))) || [];
  return {
    ...bl(e, t),
    options: o,
    onChange: (i) => vl({ value: i, record: e })
  };
}, D4 = (e, t) => {
  var s;
  const n = fc(e), r = rs(n) ? n : void 0, o = ((s = r == null ? void 0 : r.options) == null ? void 0 : s.map((i) => u0(i, t))) || [];
  return {
    ...f0(e, t),
    size: "s",
    options: o
  };
};
function I4(e, t) {
  const n = fc(e);
  switch (Lt(n) ? n : n == null ? void 0 : n.type) {
    case "radio":
      return /* @__PURE__ */ l.jsx(Vt, { ...D4(e, t) });
    case "select":
      return /* @__PURE__ */ l.jsx(_e, { ...f0(e, t) });
    case "number":
      return /* @__PURE__ */ l.jsx(Ae, { ...R4(e, t) });
    case "color":
      return /* @__PURE__ */ l.jsx(Er, { ...bl(e, t) });
    default:
      return /* @__PURE__ */ l.jsx(dt, { ...bl(e, t) });
  }
}
const Wg = "gs-cmp-global-style-field", V4 = ce(function({ record: t }) {
  const n = ve(), o = Me().tScoped("globalStyleManager"), [, s] = U(0), i = n.editor, a = t.id, c = { t: o, id: a };
  return W(() => {
    if (!i)
      return;
    const u = `data:path:${t.getPath("value")}`, d = () => s((p) => ++p);
    return i.on(u, d), () => {
      i.off(u, d);
    };
  }, [i]), /* @__PURE__ */ l.jsx(R, { className: Y(Wg, `${Wg}__${a}`), children: I4(t, c) });
}), li = "gs-cmp-global-style-manager", Gg = ({ items: e, category: t, className: n }) => {
  const r = Y(
    t ? `${li}__cat-fields--${t.id}` : `${li}__uncat-fields`,
    "gs-utl-gap-2",
    ke.xy,
    n
  );
  return /* @__PURE__ */ l.jsx(R, { className: r, nowrap: !0, col: !0, children: e.map((o) => /* @__PURE__ */ l.jsx(V4, { record: o }, o.id)) });
}, H4 = ce(function() {
  const t = PO(), { recordsByCategory: n, openCategories: r } = t, s = Me().tScoped("globalStyleManager");
  return /* @__PURE__ */ l.jsx(R, { col: !0, full: !0, nowrap: !0, className: Y(li, "gs-utl-flex-grow gs-utl-overflow-hidden"), children: /* @__PURE__ */ l.jsx(R, { col: !0, nowrap: !0, className: Y(`${li}__fields`, tt.scrollY, "gs-utl-select-none"), children: n.length ? n.map(
    ({ category: i, items: a }, c) => i ? /* @__PURE__ */ l.jsx(
      Oo,
      {
        sticky: !0,
        open: r.get(i.id) ?? i.open,
        handler: s(`categories.${i.id}.label`) || i.label || i.id,
        onChange: ({ open: u }) => t.setCategoryOpen(i.id, u),
        className: (u) => Y(
          `${li}__cat-fields`,
          zd.itemList({ index: c, open: u, length: n.length }),
          c === 0 && re.bt
        ),
        children: /* @__PURE__ */ l.jsx(Gg, { category: i, items: a })
      },
      i.id
    ) : /* @__PURE__ */ l.jsx(
      Gg,
      {
        items: a,
        className: Y(n.length !== 1 && [re.bt, H.br])
      },
      c
    )
  ) : /* @__PURE__ */ l.jsx(R, { className: Y("gs-utl-text-center"), justify: "center", children: s("notFound") }) }) });
}), B4 = "gs-panel-global-styles", z4 = me(
  ce(function({ className: t, ...n }) {
    return /* @__PURE__ */ l.jsx(
      In,
      {
        className: Y(B4, "gs-utl-overflow-auto", t),
        classNameAccordion: Y("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        classNameAccordionContent: Y("gs-utl-overflow-auto"),
        ...n,
        children: /* @__PURE__ */ l.jsx(Qr, { children: /* @__PURE__ */ l.jsx(H4, {}) })
      }
    );
  })
), F4 = { maxWidth: `${qx}px` }, U4 = "gs-cmp-layer-item";
function h0({ component: e, draggingCmp: t, dragParent: n, ...r }) {
  const o = Pt(), { Layers: s } = o, i = G(null), [a, c] = U(!1), [u, d] = U(s.getLayerData(e)), { open: p, selected: f, hovered: h, components: v, visible: g, locked: b, name: m } = u, y = v.map((M) => M.cid), x = t === e, w = y.join("-"), S = r.level + 1, j = h || n === e;
  W(() => {
    S === 0 && d(s.getLayerData(e)), i.current && (i.current.__cmp = e);
  }, [e]), W(() => {
    const M = i.current;
    if (!M)
      return;
    const { select: N } = o.Components.events, V = (K) => K === e && M.scrollIntoView({ block: "nearest" });
    return o.on(N, V), () => {
      o.off(N, V);
    };
  }, [e, i.current]), W(() => {
    const M = (V) => {
      V === e && d(s.getLayerData(V));
    }, N = s.events.component;
    return o.on(N, M), () => {
      o.off(N, M);
    };
  }, [o, s, e]);
  const E = oe(() => v.map((M) => /* @__PURE__ */ l.jsx(h0, { component: M, level: S, draggingCmp: t, dragParent: n }, M.cid)), [w, t, n]), C = (M) => {
    s.setLayerData(e, { name: M }), c(!1);
  }, P = (M) => {
    M.stopPropagation(), s.setLayerData(e, { open: !p });
  }, _ = (M) => {
    M.stopPropagation(), s.setLayerData(e, { visible: !g });
  }, O = (M) => {
    M.stopPropagation(), s.setLayerData(e, { locked: !b });
  }, k = (M) => {
    M.stopPropagation(), s.setLayerData(e, { selected: !0 }, { event: M });
  }, z = (M) => {
    M.preventDefault(), o.runCommand(ye.contextMenuComponent, {
      source: jp.layers,
      component: e,
      event: M.nativeEvent,
      x: M.clientX,
      y: M.clientY
    });
  }, F = (M) => {
    (!M || !t) && s.setLayerData(e, { hovered: M });
  }, A = kl(e), T = L(
    "layer-item",
    (f || A.isSymbol) && A.bgSoftX,
    (!g || x) && "opacity-50"
  ), D = L(ke.xyS, re.b, j ? A.border : re.bT, f && A.bgSoft);
  return /* @__PURE__ */ l.jsx("div", { className: U4, children: /* @__PURE__ */ l.jsxs(R, { col: !0, className: T, children: [
    /* @__PURE__ */ l.jsx(
      $,
      {
        onClick: k,
        onContextMenu: z,
        onMouseEnter: () => F(!0),
        onMouseLeave: () => F(!1),
        className: L("group max-w-full"),
        "data-layer-item": !0,
        ref: i,
        children: /* @__PURE__ */ l.jsxs(R, { items: "center", space: "xs", className: D, children: [
          /* @__PURE__ */ l.jsx(
            $,
            {
              style: { marginLeft: `${S * 10}px` },
              className: L("cursor-pointer", !v.length && "pointer-events-none opacity-0"),
              onClick: P,
              children: /* @__PURE__ */ l.jsx(te, { icon: Q.menuDown, size: le.sx, rotate: p ? 0 : -90 })
            }
          ),
          /* @__PURE__ */ l.jsx($, { children: uv(e) }),
          /* @__PURE__ */ l.jsx($, { className: L("truncate"), onDoubleClick: () => c(!0), style: F4, grow: !0, children: a ? /* @__PURE__ */ l.jsx(Gp, { value: m, onChange: C }) : /* @__PURE__ */ l.jsx(l.Fragment, { children: m }) }),
          !a && /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
            /* @__PURE__ */ l.jsx(
              $,
              {
                className: L("group-hover:gs-utl-opacity-100 cursor-pointer", b ? "opacity-100" : "opacity-0"),
                onClick: O,
                children: /* @__PURE__ */ l.jsx(te, { icon: b ? Q.lock : Q.lockOpenVariant, size: le.s3x })
              }
            ),
            /* @__PURE__ */ l.jsx(
              $,
              {
                className: L("group-hover:gs-utl-opacity-100 cursor-pointer", g ? "opacity-0" : "opacity-100"),
                onClick: _,
                children: /* @__PURE__ */ l.jsx(te, { icon: g ? Q.eyeOutline : Q.eyeOffOutline, size: le.sx })
              }
            )
          ] })
        ] })
      }
    ),
    !!(p && v.length) && /* @__PURE__ */ l.jsx($, { className: L("max-w-full", !p && "hidden"), children: E })
  ] }) });
}
const W4 = {
  touchAction: "none"
}, Kg = 5, G4 = (e) => {
  const t = document.elementFromPoint(e.clientX, e.clientY), n = t == null ? void 0 : t.closest("[data-layer-item]");
  return {
    el: n,
    cmp: n == null ? void 0 : n.__cmp
  };
};
function g0({ root: e, header: t }) {
  const n = Pt(), { Components: r } = n, [o, s] = U(!1), [i, a] = U({}), [c, u] = U(), [d, p] = U(), [f, h] = U(), [v, g] = U(), b = G(null), m = (C) => {
    C.button === 0 && s(!0);
  }, y = (C) => {
    if (!o)
      return;
    const { cmp: P, el: _ } = G4(C);
    if (!_ || !P)
      return;
    const O = _.getBoundingClientRect(), k = _.offsetHeight, z = _.offsetTop, F = C.clientY, A = F < O.y + k / 2, T = d || P, D = P.parent(), M = P.index() + (A ? 0 : 1);
    !d && p(P), u(P);
    const N = r.canMove(D, T, M), V = r.canMove(P, T), K = {
      ...N,
      canMoveInside: V,
      index: M
    };
    let J = !1;
    V.result && F > O.y + Kg && F < O.y + k - Kg && (J = !0, K.target = P, delete K.index), h(J ? P : void 0), a(K), g({
      pointerInside: J,
      y: z + (A ? 0 : k),
      h: k
    });
  }, x = () => {
    var C;
    i != null && i.result && ((C = i.source) == null || C.move(i.target, { at: i.index })), a({}), s(!1), p(void 0), u(void 0), h(void 0), g(void 0);
  }, w = (c ? c.parents() : []).length, S = !!(d && v && (i != null && i.result) && !v.pointerInside), j = S ? { top: v.y, left: 0, marginLeft: w * 10 + 20 } : {};
  W(() => {
    const C = window.document, P = (_) => {
      _.key === "Escape" && (a({ ...i, result: !1 }), x());
    };
    return C.addEventListener("keydown", P), () => {
      C.removeEventListener("keydown", P);
    };
  }, []);
  const E = t && (t == null ? void 0 : t.label) || "Layers";
  return /* @__PURE__ */ l.jsxs(R, { col: !0, full: !0, nowrap: !0, className: L("gs-layer-manager flex-grow overflow-hidden"), children: [
    t !== !1 && /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsxs(R, { space: "s", items: "center", className: L([ke.xy, re.bb, H.br]), children: [
      /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(te, { icon: Q.layers, size: le.s }) }),
      /* @__PURE__ */ l.jsx($, { grow: !0, children: E })
    ] }) }),
    /* @__PURE__ */ l.jsxs(
      $,
      {
        className: L("overflow-y-auto overflow-x-hidden text-sm select-none relative"),
        style: W4,
        onPointerDown: m,
        onPointerMove: y,
        onPointerUp: x,
        grow: !0,
        children: [
          !!e && /* @__PURE__ */ l.jsx(h0, { component: e, level: -1, draggingCmp: d, dragParent: f }),
          S && /* @__PURE__ */ l.jsx("div", { ref: b, className: L("absolute w-full gs-utl-h-0.5", H.cmp), style: j })
        ]
      }
    )
  ] });
}
const m0 = Mt(function({ children: t, className: n, ...r }, o) {
  return /* @__PURE__ */ l.jsx("div", { className: Y(B("gs-layer-manager-after"), n), ref: o, ...r, children: t });
}), v0 = Mt(function({ children: t, className: n, ...r }, o) {
  return /* @__PURE__ */ l.jsx("div", { className: Y(B("gs-layer-manager-before"), n), ref: o, ...r, children: t });
}), K4 = "gs-panel-layers", b0 = me(
  ce(function({ className: t, ...n }) {
    const r = ve().sdkProps.children;
    return /* @__PURE__ */ l.jsx(
      In,
      {
        className: Y(K4, "gs-utl-overflow-auto", t),
        classNameAccordion: Y("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        classNameAccordionContent: Y("gs-utl-overflow-auto"),
        ...n,
        children: /* @__PURE__ */ l.jsx(Gv, { children: (o) => /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
          Wt(r, v0),
          /* @__PURE__ */ l.jsx(g0, { ...o, header: !1 }),
          Wt(r, m0)
        ] }) })
      }
    );
  })
), y0 = I.forwardRef(function({ size: t = "m", className: n, border: r = !0, children: o, ...s }, i) {
  const a = B(
    H.bg,
    H.br,
    r && `${re.b} ${re.rnd}`,
    t === "m" && ke.xy,
    t === "s" && "gjs-px-3 gjs-py-1",
    n
  );
  return /* @__PURE__ */ l.jsx(R, { className: a, items: "center", space: "x2s", ...s, ref: i, children: /* @__PURE__ */ l.jsx($, { grow: !0, children: o }) });
}), q4 = "gs-field-textarea";
function qg(e) {
  const { className: t, value: n, label: r, size: o, description: s, placeholder: i, readOnly: a, disabled: c, required: u, onChange: d } = e, p = $p(e);
  return /* @__PURE__ */ l.jsxs("div", { className: L(q4, t), children: [
    !!r && /* @__PURE__ */ l.jsx(kt, { size: o, children: r }),
    !!s && /* @__PURE__ */ l.jsx(kt, { size: o, as: "span", className: L(H.txtLowEmphasis), capitalize: !1, children: s }),
    /* @__PURE__ */ l.jsx(y0, { size: o, children: /* @__PURE__ */ l.jsx(
      "textarea",
      {
        className: L(p),
        value: n,
        placeholder: i,
        readOnly: a,
        disabled: c,
        required: u,
        onChange: (f) => d == null ? void 0 : d(f.target.value)
      }
    ) })
  ] });
}
const hc = "gs-page-settings", Y4 = `${hc}-header`, X4 = `${hc}-content`, Z4 = `${hc}-footer`, Yg = "", x0 = ce(function({
  className: t,
  classNameHeader: n,
  classNameContent: r,
  classNameFooter: o,
  page: s,
  size: i = Zl.m
}) {
  const a = ve(), { isDarkTheme: c } = an(), u = Me(), [d, p] = U(s), [f, h] = U(() => ch(d, a)), [v, g] = U(() => u.t("update")), b = u.tScoped("pageManager.settings"), m = u.tScoped("pageManager.settings.fields"), y = a.editor, x = {
    containerClassName: B("min-h-80"),
    size: i,
    padding: 5,
    isDarkTheme: c,
    clean: !0
  }, w = (O) => h((k) => ({ ...k, ...O })), S = (O) => {
    O.preventDefault();
    const { name: k, ...z } = f;
    z.customCodeHead = zx(z.customCodeHead), z.customCodeBody = Bx(z.customCodeBody), d ? (nO(d, z), d.setName(k)) : a.setProjectDataCustom({
      globalPageSettings: z
    }), g(u.t("updated")), setTimeout(() => g(u.t("update")), 2e3), eO(y), y.trigger(zr.pageSettingsUpdate, { page: d, data: { name: k, ...z } });
  }, j = { tooltip: u.t("clear") }, E = (d == null ? void 0 : d.getId()) ?? Yg, C = (O) => {
    const k = y.Pages.get(O);
    p(k), h(ch(k, a));
  }, P = tO(d), _ = [
    {
      id: Yg,
      label: b("global")
    },
    ...y.Pages.getAll().map((O) => ({
      id: O.getId(),
      label: O.getName()
    }))
  ];
  return /* @__PURE__ */ l.jsx("form", { onSubmit: S, className: B(hc, "h-full", t), children: /* @__PURE__ */ l.jsxs(R, { col: !0, full: !0, className: B("gap-1 gs-utl-overflow-hidden"), nowrap: !0, children: [
    /* @__PURE__ */ l.jsx($, { className: B(Y4, n, H.br, re.bb), children: /* @__PURE__ */ l.jsx(
      _e,
      {
        value: E,
        onChange: C,
        options: _,
        handlerSelected: (O) => /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
          /* @__PURE__ */ l.jsx("b", { children: u.t("pageManager.page") }),
          ": ",
          O.label
        ] })
      }
    ) }),
    /* @__PURE__ */ l.jsxs(R, { col: !0, className: B(X4, "gap-5 overflow-y-auto", r), nowrap: !0, children: [
      !!E && /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
        /* @__PURE__ */ l.jsx(
          dt,
          {
            size: i,
            value: f.name,
            onChange: (O) => w({ name: O }),
            label: m("name.label"),
            description: m("name.description"),
            required: !0
          }
        ),
        !P && /* @__PURE__ */ l.jsx(
          dt,
          {
            size: i,
            value: f.slug,
            onChange: (O) => w({ slug: Dd(O) }),
            label: m("slug.label"),
            description: m("slug.description"),
            required: !0
          }
        )
      ] }),
      /* @__PURE__ */ l.jsx(
        dt,
        {
          size: i,
          value: f.title,
          onChange: (O) => w({ title: O }),
          label: m("title.label"),
          description: m("title.description")
        }
      ),
      /* @__PURE__ */ l.jsx(
        qg,
        {
          size: i,
          value: f.description,
          onChange: (O) => w({ description: O }),
          label: m("description.label"),
          description: m("description.description")
        }
      ),
      /* @__PURE__ */ l.jsx(
        Pi,
        {
          size: i,
          clear: j,
          value: f.favicon,
          onChange: (O) => w({ favicon: O }),
          onOpen: () => {
            y.Assets.open({
              select(O) {
                w({ favicon: O.getSrc() }), y.Assets.close();
              }
            });
          },
          label: m("favicon.label"),
          description: m("favicon.description")
        }
      ),
      /* @__PURE__ */ l.jsx(
        dt,
        {
          size: i,
          value: f.keywords,
          onChange: (O) => w({ keywords: O }),
          label: m("keywords.label"),
          description: m("keywords.description")
        }
      ),
      /* @__PURE__ */ l.jsx(
        dt,
        {
          size: i,
          value: f.socialTitle,
          onChange: (O) => w({ socialTitle: O }),
          label: m("socialTitle.label"),
          description: m("socialTitle.description")
        }
      ),
      /* @__PURE__ */ l.jsx(
        Pi,
        {
          size: i,
          clear: j,
          value: f.socialImage,
          onChange: (O) => w({ socialImage: O }),
          onOpen: () => {
            y.Assets.open({
              select(O) {
                w({ socialImage: O.getSrc() }), y.Assets.close();
              }
            });
          },
          label: m("socialImage.label"),
          description: m("socialImage.description")
        }
      ),
      /* @__PURE__ */ l.jsx(
        qg,
        {
          size: i,
          value: f.socialDescription,
          onChange: (O) => w({ socialDescription: O }),
          label: m("socialDescription.label"),
          description: m("socialDescription.description")
        }
      ),
      /* @__PURE__ */ l.jsx(
        Wr,
        {
          language: "html",
          value: f.customCodeHead,
          onChange: (O) => w({ customCodeHead: O }),
          label: m("customCodeHead.label"),
          description: m("customCodeHead.description"),
          ...x
        },
        `head-${E}`
      ),
      /* @__PURE__ */ l.jsx(
        Wr,
        {
          language: "html",
          value: f.customCodeBody,
          onChange: (O) => w({ customCodeBody: O }),
          label: m("customCodeBody.label"),
          description: m("customCodeBody.description"),
          ...x
        },
        `body-${E}`
      )
    ] }),
    /* @__PURE__ */ l.jsx(R, { className: B(Z4, "mt-auto", o, H.br, re.bt), children: /* @__PURE__ */ l.jsx(Xe, { type: "submit", variant: "pr", size: "m2", full: !0, children: v }) })
  ] }) });
}), J4 = "gs-panel-page-settings", Q4 = me(
  ce(function({ className: t, page: n, ...r }) {
    return /* @__PURE__ */ l.jsx(
      In,
      {
        className: Y(J4, "gs-utl-overflow-hidden", t),
        classNameAccordion: Y("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        classNameAccordionContent: Y("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        ...r,
        children: /* @__PURE__ */ l.jsx(Qr, { children: /* @__PURE__ */ l.jsx(
          x0,
          {
            className: Y("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
            page: n,
            size: Zl.s,
            classNameHeader: ke.s,
            classNameContent: ke.s,
            classNameFooter: ke.s
          }
        ) })
      }
    );
  })
), Su = "gs-page-item", e$ = ce(function({ page: t, rename: n, setRename: r, commandItems: o }) {
  const s = ve(), i = Me(), a = s.editor, { Pages: c } = a, { sdkPagesConfig: u } = s, d = u == null ? void 0 : u.settings, p = (x) => i.t(`pageManager.${x}`), f = (x) => c.select(x), h = (x) => c.getSelected() === x, v = (x) => x === n, g = (x) => x.getName() || x.getId(), b = (x) => {
    n == null || n.set({ name: x }), r(void 0);
  }, m = B("group-hover:gs-utl-opacity-100 opacity-0 cursor-pointer transition-opacity"), y = () => a.runCommand(ye.setPageSettings, { page: t, isOpen: !0 });
  return /* @__PURE__ */ l.jsxs(
    R,
    {
      space: "s",
      items: "center",
      onClick: () => f(t),
      className: B([
        Su,
        "group cursor-default",
        ke.xy,
        h(t) && H.bgH,
        !h(t) && H.hBgH2
      ]),
      children: [
        /* @__PURE__ */ l.jsx($, { className: B(`${Su}__name truncate`), grow: !0, children: v(t) ? /* @__PURE__ */ l.jsx(Gp, { value: g(t), onChange: b }) : /* @__PURE__ */ l.jsx(l.Fragment, { children: g(t) }) }),
        /* @__PURE__ */ l.jsxs(R, { className: `${Su}__actions`, space: "xs", onClick: gi, items: "center", children: [
          !n && d !== !1 && /* @__PURE__ */ l.jsx(
            Bt,
            {
              className: m,
              size: "xs",
              border: !1,
              title: p("settings.label"),
              onClick: y,
              block: !0,
              children: /* @__PURE__ */ l.jsx(te, { icon: Q.cog, size: le.s3x })
            }
          ),
          h(t) && !!o.length && /* @__PURE__ */ l.jsx(
            Ar,
            {
              placement: "right-start",
              handler: /* @__PURE__ */ l.jsx(te, { icon: Q.dotsVertical, size: le.s }),
              title: !1,
              padding: !1,
              fixed: !0,
              overlay: !0,
              children: ({ close: x }) => o.map((w) => /* @__PURE__ */ l.jsx(
                Wl,
                {
                  label: pt(w.label) ? w.label({ editor: a }) : w.label,
                  action: () => {
                    var S;
                    x(), (S = w.cmd) == null || S.call(w, { page: t, editor: a });
                  }
                },
                w.id
              ))
            }
          )
        ] })
      ]
    },
    t.getId()
  );
}), t$ = ({
  items: e,
  editor: t,
  sdkPageConfig: n
}) => {
  const r = n == null ? void 0 : n.commandItems;
  return r === !1 ? [] : pt(r) ? r({ items: e, editor: t }) : r || e;
}, ju = "gs-panel-page-manager", w0 = ce(function({
  pages: t,
  select: n,
  add: r,
  remove: o,
  header: s,
  resizable: i = { bottom: !0 },
  height: a = 200
}) {
  const c = ve(), u = Dn(), d = Me(), { sdkPagesConfig: p } = c, f = c.editor, [h, v] = U(), g = (k) => d.t(`pageManager.${k}`), b = p == null ? void 0 : p.add, m = p == null ? void 0 : p.duplicate, y = p == null ? void 0 : p.remove, x = (k) => {
    if (gi(k), b)
      return b({ editor: f, rename: v });
    const z = t.length + 1, F = r(
      {
        name: `${g("page")} ${z}`,
        component: `<div>${g("newPage")} ${z}</div>`
      },
      { select: !0 }
    );
    F && v(F);
  }, w = ({ page: k }) => {
    if (y)
      return y({ editor: f, page: k });
    u.confirm({
      title: g("deletePage"),
      content: g("confirmDelete"),
      confirmButton: { variant: "danger", children: g("deletePage") },
      onConfirm: () => {
        const z = t.indexOf(k), F = t[z + 1] || t[0];
        n(F), o(k);
      }
    });
  }, S = ({ page: k }) => {
    if (m)
      return m({ editor: f, page: k, rename: v });
    const z = k.getMainComponent(), F = r(
      {
        name: `${k.getName()} (${g("copy")})`,
        component: z.clone()
      },
      { select: !0 }
    );
    F && v(F);
  }, j = [
    { id: "rename", label: g("rename"), cmd: ({ page: k }) => v(k) },
    m !== !1 && { id: "duplicate", label: g("duplicate"), cmd: S },
    t.length > 1 && y !== !1 && { id: "remove", label: g("delete"), cmd: w }
  ].filter(Boolean), E = t$({ items: j, editor: f, sdkPageConfig: p }), C = c0(s, {
    collapsible: !0,
    label: g("pages"),
    icon: Q.textBoxMultiple
  }), P = i ? i === !0 ? {
    top: !0,
    right: !0,
    bottom: !0,
    left: !0
  } : i : void 0, _ = t.map((k) => /* @__PURE__ */ l.jsx(e$, { page: k, commandItems: E, rename: h, setRename: v }, k.getId())), O = P ? /* @__PURE__ */ l.jsx(
    pc,
    {
      className: L([`${ju}__content`, "text-sm overflow-auto", re.bt, H.br]),
      height: a,
      ...P,
      children: _
    }
  ) : _;
  return /* @__PURE__ */ l.jsx(
    Oo,
    {
      classNameWrap: ju,
      className: L(`${ju}__header`, ke.xy, s === !1 && "gs-utl-hidden"),
      disabled: C && C.collapsible === !1,
      handler: /* @__PURE__ */ l.jsxs(R, { space: "s", items: "center", children: [
        !!C.icon && /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(te, { icon: C.icon, size: le.s }) }),
        /* @__PURE__ */ l.jsx($, { grow: !0, children: C.label }),
        b !== !1 && /* @__PURE__ */ l.jsx(mt, { title: g("add"), children: /* @__PURE__ */ l.jsx(R, { onClick: x, className: L("cursor-pointer"), children: /* @__PURE__ */ l.jsx(te, { icon: Q.plus, size: le.s }) }) })
      ] }),
      open: C ? C.collapsed !== !0 : !0,
      children: O
    }
  );
}), S0 = Mt(function({ children: t, className: n, ...r }, o) {
  return /* @__PURE__ */ l.jsx("div", { className: Y(B("gs-page-manager-after"), n), ref: o, ...r, children: t });
}), j0 = Mt(function({ children: t, className: n, ...r }, o) {
  return /* @__PURE__ */ l.jsx("div", { className: Y(B("gs-page-manager-before"), n), ref: o, ...r, children: t });
}), n$ = "gs-panel-pages", C0 = me(
  ce(function({ className: t, header: n, height: r, resizable: o, ...s }) {
    const i = ve().sdkProps.children;
    return /* @__PURE__ */ l.jsx(Lo, { className: Y(n$, t), ...s, children: /* @__PURE__ */ l.jsx(Kv, { children: (a) => /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
      Wt(i, j0),
      /* @__PURE__ */ l.jsx(w0, { header: n, height: r, resizable: o, ...a }),
      Wt(i, S0)
    ] }) }) });
  })
), r$ = "gs-panel-pages-layers", o$ = me(
  ce(function({
    className: t,
    panelPagesProps: n,
    panelLayersProps: r,
    ...o
  }) {
    const { showPages: s } = ve(), i = Me(), { className: a, ...c } = n || {}, u = c0(r == null ? void 0 : r.header, {
      icon: Q.layers,
      collapsible: !1,
      label: i.t("layerManager.layers"),
      className: Y(re.bb, H.br)
    });
    return /* @__PURE__ */ l.jsxs(In, { className: Y(r$, "gs-utl-flex gs-utl-flex-col gs-utl-h-full", t), ...o, children: [
      s && /* @__PURE__ */ l.jsx(C0, { className: Y(a, re.bb, H.br), ...c }),
      /* @__PURE__ */ l.jsx(b0, { ...r, header: u })
    ] });
  })
), s$ = ce(function({ trait: t, editor: n }) {
  const [, r] = U(0), o = t.get("component"), s = t.target, i = !!(s && o);
  return W(() => {
    if (s) {
      const a = () => r((c) => ++c);
      return s.on("change", a), () => {
        s.off("change", a);
      };
    }
  }, [s]), i && /* @__PURE__ */ l.jsx(o, { trait: t, component: s, editor: n });
});
function P0({
  className: e,
  options: t,
  value: n,
  name: r,
  label: o,
  border: s,
  hideCaret: i,
  size: a = "s",
  autoFocus: c,
  open: u,
  allowNew: d,
  onChange: p,
  onBlur: f,
  placeholder: h
}) {
  const [v, g] = U(null), [b, m] = U(null), { styles: y, attributes: x } = bs(v, b, Pp), [w, S] = U(""), j = $p(), E = w === "" ? t : t.filter((F) => F.label.toLowerCase().includes(w.toLowerCase())), C = (F) => S(F.target.value), P = (F) => F == null ? void 0 : F.label, _ = d && w.length > 0 && !E.some((F) => F.label === w), O = pt(d) ? d(w) : d, k = {
    minWidth: `${v == null ? void 0 : v.offsetWidth}px`,
    maxHeight: 200
  }, z = () => f == null ? void 0 : f();
  return /* @__PURE__ */ l.jsxs("div", { className: L("w-full", e), children: [
    !!o && /* @__PURE__ */ l.jsx(kt, { size: a, children: o }),
    /* @__PURE__ */ l.jsxs(Do, { value: n, onChange: p, name: r, nullable: !0, children: [
      /* @__PURE__ */ l.jsx(y0, { size: a, ref: g, border: s, children: /* @__PURE__ */ l.jsxs(R, { nowrap: !0, children: [
        /* @__PURE__ */ l.jsx(
          Do.Input,
          {
            autoFocus: c,
            className: j,
            displayValue: P,
            onChange: C,
            onBlur: z,
            placeholder: h
          }
        ),
        !i && /* @__PURE__ */ l.jsx(Do.Button, { children: /* @__PURE__ */ l.jsx(te, { icon: Q.chevronDown, size: le.sx }) })
      ] }) }),
      /* @__PURE__ */ l.jsx(
        Do.Options,
        {
          static: u,
          className: iv,
          ref: m,
          style: y.popper,
          ...x.popper,
          children: /* @__PURE__ */ l.jsxs(Yt, { className: L("h-full"), padding: !1, style: k, children: [
            _ && /* @__PURE__ */ l.jsx(Do.Option, { value: { id: null, label: w }, children: ({ active: F }) => /* @__PURE__ */ l.jsx(rh, { option: { id: null, label: O }, active: F, selected: n }) }),
            !_ && E.length === 0 && /* @__PURE__ */ l.jsx("div", { className: L(ke.xy), children: "No items found" }),
            E.map((F) => /* @__PURE__ */ l.jsx(Do.Option, { value: F, children: ({ active: A }) => /* @__PURE__ */ l.jsx(rh, { option: F, active: A, selected: n }) }, F.id))
          ] })
        }
      )
    ] })
  ] });
}
const i$ = "page://", E0 = "#", Fa = "mailto:", Cu = "subject=", xd = "tel:", Xg = (e) => e.startsWith(xd) ? "phone" : e.startsWith(Fa) ? "email" : e.startsWith(i$) ? "pages" : e.startsWith(E0) ? "elements" : "url", Zg = (e) => `${e.getName()} - #${e.getId()}`, a$ = ce(function({ trait: t }) {
  const n = t.getValue(), r = ve(), { isSelectingTarget: o } = r, [, s] = U(0), [i, a] = U(() => Xg(n)), [c, u] = U(""), [d, p] = U(""), [f, h] = U(""), [v, g] = U(!0), [b, m] = U([]), y = Pt(), x = Me(), w = y.Pages.getAll(), S = x.tScoped("traitManager.traits.labels"), j = () => s((T) => ++T), E = (T) => {
    t.setValue(T);
  }, C = (T) => {
    a(T), u(""), p(""), h(""), E("");
  }, P = (T) => {
    E(T), j();
  }, _ = (T) => {
    T && (E(T.id), j());
  }, O = (T) => {
    E(`${xd}${T}`), h(T);
  }, k = (T) => {
    E(`${Fa}${T}${d ? `?${Cu}${d}` : ""}`), u(T);
  }, z = (T) => {
    E(`${Fa}${c}${T ? `?${Cu}${T}` : ""}`), p(T);
  }, F = () => {
    r.setSelectingTarget(!o);
  }, A = (T) => {
    const D = T.replace(E0, ""), M = y.Components.componentsById[D];
    return {
      id: T,
      label: M ? Zg(M) : T
    };
  };
  return W(() => {
    var D;
    const T = [];
    if (v) {
      const M = ["path", "br", "b", "u", "i", "strike"], N = (D = y.Pages.getSelected()) == null ? void 0 : D.getMainComponent();
      N == null || N.forEachChild((V) => {
        !V.is("comment") && !V.is("textnode") && !M.includes(V.get("tagName")) && T.push({ id: `#${V.getId()}`, label: Zg(V) });
      });
    }
    m(T);
  }, [v]), W(() => {
    let T = () => {
    };
    const D = () => {
      T(), y.stopCommand(sl);
    };
    return o && (T = Dx(D), y.runCommand(sl, {
      onSelect: (M) => E(`#${M.getId()}`)
    })), D;
  }, [o]), W(() => {
    if (!n)
      return;
    const T = Xg(n);
    switch (T) {
      case "phone":
        h(n.replace(xd, ""));
        break;
      case "email": {
        const [D, M = ""] = n.replace(Fa, "").split("?");
        u(D), p(M.replace(Cu, ""));
        break;
      }
    }
    a(T);
  }, [n]), /* @__PURE__ */ l.jsx(
    To,
    {
      onChange: C,
      classNamePanel: L("gjs-p-1"),
      value: i,
      tabs: [
        {
          id: "url",
          label: /* @__PURE__ */ l.jsx(te, { icon: Q.link, size: le.s }),
          content: /* @__PURE__ */ l.jsx(
            dt,
            {
              placeholder: "eg. https://google.com",
              value: n,
              label: "URL",
              onChange: E,
              size: "s",
              type: "url"
            }
          )
        },
        {
          id: "pages",
          label: /* @__PURE__ */ l.jsx(te, { icon: Q.textBoxMultiple, size: le.s }),
          content: /* @__PURE__ */ l.jsx(
            _e,
            {
              size: "s",
              options: w.map((T) => ({ id: `page://${T.getId()}`, label: T.getName() })),
              value: n,
              onChange: P,
              label: "Page"
            }
          )
        },
        {
          id: "elements",
          label: /* @__PURE__ */ l.jsx(te, { icon: Q.viewDayOutline, size: le.s }),
          content: /* @__PURE__ */ l.jsxs(R, { space: "s", col: !0, children: [
            /* @__PURE__ */ l.jsx(kt, { size: "s", children: "Element ID" }),
            /* @__PURE__ */ l.jsxs(R, { space: "xs", nowrap: !0, children: [
              v ? /* @__PURE__ */ l.jsx(
                P0,
                {
                  options: b,
                  onChange: _,
                  value: A(n),
                  placeholder: x.t("selectList")
                }
              ) : /* @__PURE__ */ l.jsx(
                dt,
                {
                  size: "s",
                  placeholder: "eg. #my-element-in-page",
                  value: n,
                  onChange: E,
                  className: L("flex-1")
                }
              ),
              /* @__PURE__ */ l.jsx(
                Bt,
                {
                  title: x.t("selectTarget"),
                  size: "m2",
                  active: o,
                  onClick: F,
                  className: L("h-7"),
                  children: /* @__PURE__ */ l.jsx(te, { icon: Q.target, size: le.sx })
                }
              )
            ] }),
            /* @__PURE__ */ l.jsx(cl, { value: v, onChange: g, label: S("showList") })
          ] })
        },
        {
          id: "email",
          label: /* @__PURE__ */ l.jsx(te, { icon: Q.email, size: le.s }),
          content: /* @__PURE__ */ l.jsxs(R, { space: "s", col: !0, children: [
            /* @__PURE__ */ l.jsx(
              dt,
              {
                placeholder: "eg. mail@gmail.com",
                value: c,
                onChange: k,
                size: "s",
                label: "Email",
                type: "email"
              }
            ),
            /* @__PURE__ */ l.jsx(
              dt,
              {
                placeholder: "eg. My subject",
                value: d,
                onChange: z,
                label: "Subject",
                size: "s"
              }
            )
          ] })
        },
        {
          id: "phone",
          label: /* @__PURE__ */ l.jsx(te, { icon: Q.phone, size: le.s }),
          content: /* @__PURE__ */ l.jsx(
            dt,
            {
              size: "s",
              type: "tel",
              label: "Phone",
              placeholder: "eg. +55123456789",
              value: f,
              onChange: O
            }
          )
        }
      ]
    },
    i
  );
});
function l$({ trait: e }) {
  const [t, n] = U(), r = e.get("properties"), o = e.get("addItem"), s = e.get("labelItem"), i = e.getValue(), a = i.findIndex((c) => c.id === (t == null ? void 0 : t.id));
  return /* @__PURE__ */ l.jsx(
    pr,
    {
      items: i,
      selected: a > -1 ? t : null,
      add: () => {
        const c = i.length + 1, u = o ? o(c) : { id: `opt${c}`, label: `New option ${c}` };
        e.setValue([...i, u]);
      },
      select: n,
      move: (c, u) => {
        const d = e.getValue().filter((p) => p.id !== c.id);
        d.splice(u, 0, c), e.setValue(d);
      },
      remove: (c) => {
        const u = e.getValue().filter((d) => d.id !== c.id);
        e.setValue(u, { removed: c });
      },
      label: e.getLabel({ locale: !0 }),
      renderItem: (c) => s ? s(c) : c.label,
      children: /* @__PURE__ */ l.jsx(R, { space: "m", col: !0, children: !!t && r.map((c) => {
        const { name: u, getValue: d } = c, p = c.setValue, f = c.label || u, h = i[a];
        if (!h)
          return null;
        const v = h[u], g = d ? d(v) : v, b = (y) => {
          const x = { ...h };
          h[u] = p ? p(y, g) : y, e.setValue([...i], { item: h, previous: x }), u === "id" && n(h);
        };
        let m = /* @__PURE__ */ l.jsx(dt, { label: f, value: g, onChange: b });
        switch (c.type) {
          case "select":
            m = /* @__PURE__ */ l.jsx(_e, { label: f, options: c.options, value: g, onChange: b });
        }
        return /* @__PURE__ */ l.jsx(bt, { children: m }, u);
      }) })
    }
  );
}
const gc = (e) => mr(e.replace(/-/g, " ")), _0 = (e) => ({
  size: "s",
  tip: e.get("tip")
}), _i = (e, t) => ({
  ..._0(e),
  type: e.getType(),
  value: e.getValue(),
  label: e.get("label") !== !1 && gc(e.getLabel({ locale: !0 })),
  placeholder: (t == null ? void 0 : t.t(`traitManager.traits.attributes.${e.getId()}.placeholder`)) || e.get("placeholder") || "",
  onChange: (n, r) => e.setValue(n, { partial: r })
}), Jg = (e) => {
  const t = e.get("labelToTitle");
  return {
    ..._i(e),
    options: e.getOptions().map((n) => {
      const r = n.labelReact || n.name || n.label || n.value;
      return Lt(n) ? { id: n, label: n } : {
        id: n.id || n.value,
        title: t ? r : n.title,
        icon: n.icon,
        label: t ? "" : r
      };
    }),
    onChange: (n) => e.setValue(n)
  };
}, c$ = (e) => ({
  ..._i(e),
  min: e.get("min"),
  max: e.get("max"),
  step: e.get("step"),
  units: e.get("units"),
  onChange: (t, n) => {
    e.setValue(n ? t : parseFloat(t), { partial: n });
  }
}), u$ = (e) => ({
  children: gc(e.getLabel() || e.get("text")),
  onClick: () => {
    const t = e.em.Editor, n = e.get("command");
    Lt(n) ? t.runCommand(n) : n == null || n(t, e);
  },
  full: !0
}), d$ = (e) => ({
  ..._0(e),
  value: !!e.getValue(),
  label: gc(e.getLabel()),
  onChange: (t) => e.setValue(t)
}), p$ = (e) => ({
  language: "css",
  ...e.get("typeProps") || {},
  value: e.getValue(),
  label: gc(e.getLabel()),
  onChange: (n) => e.setValue(n)
}), f$ = (e, t) => {
  const n = e.get("typeProps") || {};
  return {
    ..._i(e, t),
    isContain: !0,
    onOpen() {
      const r = t == null ? void 0 : t.Assets;
      r == null || r.open({
        select(o) {
          e.setValue(o.getSrc()), r.close();
        }
      });
    },
    btnLabel: e.get("text"),
    ...n
  };
};
function h$(e, t, n = {}) {
  var o;
  const r = e.get("visible");
  if (pt(r) && r({ component: e.target, trait: e }) === !1)
    return null;
  switch (e.getType()) {
    case "select":
      return /* @__PURE__ */ l.jsx(_e, { ...Jg(e) });
    case "number":
      return /* @__PURE__ */ l.jsx(Ae, { ...c$(e) });
    case "checkbox":
      return /* @__PURE__ */ l.jsx(cl, { ...d$(e) });
    case "color":
      return /* @__PURE__ */ l.jsx(Er, { ..._i(e) });
    case "button":
      return /* @__PURE__ */ l.jsx(Xe, { ...u$(e) });
    case "radio":
      return /* @__PURE__ */ l.jsx(Vt, { ...Jg(e) });
    case "code":
      return /* @__PURE__ */ l.jsx(Wr, { ...p$(e), ...n }, ((o = t == null ? void 0 : t.getSelected()) == null ? void 0 : o.getId()) || "");
    case "image":
    case "file":
      return /* @__PURE__ */ l.jsx(Pi, { ...f$(e, t) });
    case "stack":
      return /* @__PURE__ */ l.jsx(l$, { trait: e });
    case "href":
      return /* @__PURE__ */ l.jsx(a$, { trait: e });
    case "custom":
      return /* @__PURE__ */ l.jsx(s$, { editor: t, trait: e });
    default:
      return /* @__PURE__ */ l.jsx(dt, { ..._i(e, t) });
  }
}
const wd = "gs-trait-manager", Qg = ({ trait: e, isDarkTheme: t }) => /* @__PURE__ */ l.jsx($, { className: L(`${wd}-field gs-utl-mb-2 gs-utl-w-full`), children: h$(e, e.em.getEditor(), { isDarkTheme: t }) });
function g$({ traits: e, className: t }) {
  var c;
  const n = Pt(), { isDarkTheme: r } = an(), o = n.Traits.getTraitsByCategory(e), s = (c = o.find((u) => !u.category)) == null ? void 0 : c.items, i = o.filter((u) => u.category), a = L("gs-utl-text-center");
  return /* @__PURE__ */ l.jsx(R, { className: L(wd, t), col: !0, children: n.getSelected() ? e.length ? /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
    s == null ? void 0 : s.map((u) => /* @__PURE__ */ l.jsx(Qg, { trait: u, isDarkTheme: r }, u.id)),
    i.map(({ category: u, items: d }, p) => /* @__PURE__ */ l.jsx(
      Oo,
      {
        open: !!(u != null && u.get("open")),
        onChange: ({ open: f }) => u == null ? void 0 : u.set({ open: f }),
        handler: u == null ? void 0 : u.getLabel(),
        handlerIcon: u == null ? void 0 : u.get("icon"),
        classNameContent: "gs-utl-p-2",
        classNameWrap: `${wd}-category -gs-utl-mx-2`,
        className: (f) => L(
          zd.itemList({
            index: p + (s ? 1 : 0),
            open: f,
            length: i.length
          })
        ),
        children: d.map((f) => /* @__PURE__ */ l.jsx(Qg, { trait: f, isDarkTheme: r }, f.id))
      },
      u == null ? void 0 : u.id
    ))
  ] }) : /* @__PURE__ */ l.jsx($, { className: a, children: "No properties available" }) : /* @__PURE__ */ l.jsx($, { className: a, children: n.t("traitManager.empty") }) });
}
const Sd = ce(g$), m$ = "gs-panel-properties", v$ = me(
  ce(function({ className: t, ...n }) {
    return /* @__PURE__ */ l.jsx(
      In,
      {
        className: Y(m$, "gs-utl-overflow-auto gs-utl-h-full", t),
        classNameAccordion: Y("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        classNameAccordionContent: Y("gs-utl-overflow-auto"),
        ...n,
        children: /* @__PURE__ */ l.jsx(od, { children: (r) => /* @__PURE__ */ l.jsx(Sd, { ...r }) })
      }
    );
  })
), b$ = async ({ html: e = "", css: t = "", el: n }) => {
  const r = `<span style="color: initial; display: inline-block;"><style> body { margin: 0; } ${t}</style>${e}</span>`, o = {};
  if (document.body.attachShadow) {
    const s = n.shadowRoot || n.attachShadow({ mode: "open" });
    s.innerHTML = r;
  }
  return o;
}, y$ = ce(function({ rule: t, onSelect: n, onRemove: r, className: o }) {
  const s = G(null), a = ve().editor, c = Me(), u = t.getDevice(), d = t.getState(), { isDarkTheme: p } = an(), [f, h] = U(t.toCSS({ allowEmpty: !0 })), [v, g] = U(f), b = t.selectorsToString(), m = () => {
    a.select(), setTimeout(() => a.Selectors.select(t)), n == null || n();
  }, y = () => {
    a.Css.remove(t), r == null || r();
  }, x = () => {
    if (v) {
      const w = a.Parser.parseCss(v)[0];
      w && (t.setStyle(w.style), h(v));
    }
  };
  return W(() => {
    if (s.current) {
      const w = s.current;
      b$({
        el: w,
        html: '<div class="prv-rule">Preview</div>',
        css: `
        .prv-rule {
          background-color: #fff;
          padding: 5px;
        }
        .prv-rule, ${f}
        `
      });
    }
  }, [s, f]), /* @__PURE__ */ l.jsx(Yt, { padding: !1, className: B("overflow-hidden max-w-full group", o), children: /* @__PURE__ */ l.jsxs(R, { col: !0, space: "xs", children: [
    /* @__PURE__ */ l.jsx(R, { className: B("bg-checker gjs-p-3 overflow-auto overflow-x-hidden h-20"), justify: "center", items: "center", children: /* @__PURE__ */ l.jsx("div", { ref: s, className: B("relative flex items-center justify-center") }) }),
    /* @__PURE__ */ l.jsxs(R, { className: B("gjs-p-1 w-full"), col: !0, space: "s", children: [
      /* @__PURE__ */ l.jsxs(R, { nowrap: !0, items: "center", space: "xs", full: !0, children: [
        /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx("pre", { className: B("text-xs bg-white/10", H.txt, re.rnd, ke.xyS), children: b }) }),
        !!u && u.getWidthMedia() && /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(
          mt,
          {
            title: /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
              c.t("deviceManager.device"),
              ": ",
              /* @__PURE__ */ l.jsx("b", { children: u.getName() })
            ] }),
            children: /* @__PURE__ */ l.jsx(te, { icon: Q.cellphoneLink, size: le.sx })
          }
        ) }),
        !!d && /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(
          mt,
          {
            title: /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
              c.t("selectorManager.state"),
              ": ",
              /* @__PURE__ */ l.jsx("b", { children: d.getLabel() })
            ] }),
            children: /* @__PURE__ */ l.jsx(te, { icon: Q.flare, size: le.sx })
          }
        ) })
      ] }),
      /* @__PURE__ */ l.jsxs(R, { nowrap: !0, className: B(tt.txtEllips), space: "s", children: [
        /* @__PURE__ */ l.jsx($, { className: B("group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"), grow: !0, children: /* @__PURE__ */ l.jsx(Xe, { onClick: m, className: B("text-sm gjs-mr-auto"), size: "m2", full: !0, children: c.t("select") }) }),
        /* @__PURE__ */ l.jsx(
          Ar,
          {
            overlay: !0,
            title: !1,
            padding: !1,
            buttonAs: "span",
            handler: /* @__PURE__ */ l.jsx(Bt, { title: c.t("selectorManager.showCSS"), children: /* @__PURE__ */ l.jsx(te, { icon: Q.codeBraces, size: le.sx }) }),
            children: ({ close: w }) => /* @__PURE__ */ l.jsxs(R, { className: B("relative w-80 h-48"), col: !0, children: [
              /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(
                Wr,
                {
                  value: Qp(f),
                  onChange: g,
                  language: "css",
                  padding: 5,
                  isDarkTheme: p,
                  clean: !0
                }
              ) }),
              /* @__PURE__ */ l.jsx(
                Xe,
                {
                  className: B("absolute right-2 bottom-2 text-sm"),
                  variant: "pr",
                  size: "m2",
                  onClick: () => {
                    x(), w();
                  },
                  children: c.t("update")
                }
              )
            ] })
          }
        ),
        /* @__PURE__ */ l.jsx(ef, { onConfirm: y, className: B("w-48"), children: /* @__PURE__ */ l.jsx(Bt, { title: c.t("selectorManager.deleteStyle"), children: /* @__PURE__ */ l.jsx(te, { icon: Q.delete, size: le.sx }) }) })
      ] })
    ] })
  ] }, t.cid) });
}), x$ = ce(function() {
  const [t] = rc(), n = Dn(), r = Me(), [o, s] = U(""), [i, a] = U(""), u = ve().editor, [d, p] = U(u.Css.getRules("")), f = u.Devices.getDevices().map((g) => ({
    id: g.id,
    label: g.getName()
  })), h = d.filter((g) => {
    var b;
    return !(o && !qo(g.selectorsToString(), o) || i && ((b = g.getDevice()) == null ? void 0 : b.id) !== i);
  }), v = () => p(u.Css.getRules(""));
  return /* @__PURE__ */ l.jsxs(R, { col: !0, space: "m", children: [
    /* @__PURE__ */ l.jsxs(R, { items: "center", space: "m", children: [
      /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(
        dt,
        {
          size: "s",
          type: "search",
          value: o,
          onInput: s,
          placeholder: `${r.t("selectorManager.searchStyle")}...`
        }
      ) }),
      /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(
        _e,
        {
          includeEmpty: !0,
          size: "s",
          value: i,
          options: f,
          onChange: a,
          emptyState: r.t("deviceManager.allDevices"),
          handlerSelected: (g) => /* @__PURE__ */ l.jsxs(R, { space: "s", items: "center", children: [
            /* @__PURE__ */ l.jsx(te, { icon: Q.cellphoneLink, size: le.sx }),
            /* @__PURE__ */ l.jsx("span", { children: g.label })
          ] })
        }
      ) })
    ] }),
    /* @__PURE__ */ l.jsx($, { className: B("gs-utl-h-[75vh] w-full overflow-auto"), children: h.length ? /* @__PURE__ */ l.jsx(
      lc,
      {
        data: h,
        listClassName: B("grid grid-cols-4 gap-2 gjs-pr-2"),
        itemContent: (g, b) => /* @__PURE__ */ l.jsx(y$, { rule: b, onRemove: v, onSelect: n.close }, b.cid)
      },
      t
    ) : /* @__PURE__ */ l.jsx(R, { justify: "center", children: r.t("modals.styleCatalog.noStyles") }) })
  ] });
}), w$ = ce(function({ selector: t, className: n, removable: r, toggleable: o }) {
  const s = Me(), i = ve(), [a, c] = U(), [u, d] = U(t.getActive()), p = i.editor, { Selectors: f } = p, h = t.getLabel(), v = /* @__PURE__ */ l.jsx(te, { icon: Q.dotsVertical, size: le.sx }), g = () => {
    f.removeSelected(t);
  }, b = (j) => {
    a && f.rename(a, j), c(void 0);
  }, m = () => {
    f.duplicateSelected(t);
  }, y = () => {
    const j = !t.getActive();
    d(j), t.setActive(j);
  }, w = [
    { id: "rename", label: s.t("rename"), action: () => c(t) },
    { id: "duplicate", label: s.t("duplicate"), action: m },
    r && { id: "delete", label: s.t("delete"), action: g },
    o && { id: "active", label: s.t(u ? "disable" : "enable"), action: y }
  ].filter(Boolean), S = (j, E) => (C) => {
    j(), pt(E) && E(C);
  };
  return /* @__PURE__ */ l.jsx(yt, { className: B(["gjs-ml-1 gjs-my-1 group overflow-hidden cursor-default relative", H.sel, n]), s: "s", children: /* @__PURE__ */ l.jsxs(R, { items: "center", children: [
    /* @__PURE__ */ l.jsx($, { className: B("gjs-mr-4", !a && !u && "opacity-50 line-through"), children: /* @__PURE__ */ l.jsx(Ab, { value: h, onChange: b, active: !!a, unstyled: !0 }) }),
    /* @__PURE__ */ l.jsx(R, { className: B("absolute h-full right-0 transition-opacity", H.sel, H.selBr, re.bl), children: /* @__PURE__ */ l.jsx(Ar, { handler: v, title: !1, padding: !1, fixed: !0, overlay: !0, children: ({ close: j }) => w.map((E) => /* @__PURE__ */ l.jsx(
      Wl,
      {
        className: B(H.txt),
        label: E.label,
        action: S(j, E.action)
      },
      E.id
    )) }) })
  ] }) });
}), S$ = (e) => {
  var r, o;
  let t = (r = e == null ? void 0 : e.selectorsToString) == null ? void 0 : r.call(e);
  const n = (o = e == null ? void 0 : e.getAtRule) == null ? void 0 : o.call(e);
  return t && n && (t = `${n} {
	${t}
}`), t;
}, O0 = ce(function({
  selectedState: t,
  states: n,
  addSelector: r,
  setState: o,
  styleCatalog: s,
  stateSelector: i
}) {
  var X, ne, fe;
  const a = Pt(), c = Me(), u = Dn(), { toggleCssPanel: d, isCssPanelActive: p } = ve(), { Selectors: f, Styles: h } = a, [v, g] = U(!1), b = f.getComponentFirst(), m = f.getSelectedAll(), y = f.getAll({ array: !0 }), x = a.getSelectedAll(), w = n.map((se) => ({ id: se.getName(), label: se.getLabel() })), S = a.getModel(), j = h.getSelected(), E = (X = j == null ? void 0 : j.getDevice) == null ? void 0 : X.call(j), C = (ne = j == null ? void 0 : j.getState) == null ? void 0 : ne.call(j), P = m.reduce((se, q) => {
    const ee = se.indexOf(q);
    return ee >= 0 && se.splice(ee, 1), se;
  }, y), _ = L("overflow-hidden gjs-mb-2", re.b, re.rnd, H.br), O = L(H.bA), k = L("flex h-full cursor-pointer gjs-p-2", re.br, H.br), z = `${H.bgA}`, F = S$(j), A = m.length > 0, T = x.length > 0, D = A || T, M = b && T || !b && !A, N = M ? "Components" : "Selectors", V = (se) => c.t(`selectorManager.${se}`), K = c.t("modals.styleCatalog.title"), J = () => u.open({ title: K, content: /* @__PURE__ */ l.jsx(x$, {}) }), ie = P.filter((se) => se.isClass()).map((se) => ({
    id: se,
    label: se.getLabel()
  }));
  return /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
    /* @__PURE__ */ l.jsxs(R, { items: "center", className: L("gjs-mb-2"), children: [
      /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsxs(R, { items: "center", space: "s", children: [
        /* @__PURE__ */ l.jsx($, { children: V("selection") }),
        s !== !1 && /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(mt, { className: L("cursor-pointer"), onClick: J, title: K, children: /* @__PURE__ */ l.jsx(te, { icon: Q.paletteSwatch, size: le.s }) }) })
      ] }) }),
      !!j && i !== !1 && /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(
        _e,
        {
          size: "s",
          value: t,
          options: w,
          includeEmpty: !0,
          onChange: o,
          emptyState: `- ${V("state")} -`,
          className: L([t && H.bA])
        }
      ) })
    ] }),
    D ? /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
      /* @__PURE__ */ l.jsxs(R, { items: "stretch", space: "xs", className: L(_, !M && O), children: [
        /* @__PURE__ */ l.jsx(
          mt,
          {
            title: V(A ? "applyOnSelector" : "noSelectors"),
            className: L(k, !M && z),
            onClick: () => A && f.setComponentFirst(!1),
            children: /* @__PURE__ */ l.jsx(R, { className: L("h-full"), items: "center", children: /* @__PURE__ */ l.jsx(te, { icon: Q.tag, size: le.sx }) })
          }
        ),
        /* @__PURE__ */ l.jsx($, { grow: !0, children: /* @__PURE__ */ l.jsx(R, { className: L("h-full gjs-pr-1"), items: "center", children: v ? /* @__PURE__ */ l.jsx(
          P0,
          {
            autoFocus: !0,
            open: !0,
            hideCaret: !0,
            border: !1,
            options: ie,
            allowNew: V("addNewSelector"),
            onBlur: () => setTimeout(() => g(!1), 100),
            onChange: (se) => {
              se && (r(se.id || se.label), g(!1));
            }
          }
        ) : /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
          T && /* @__PURE__ */ l.jsx(mt, { title: V("addNewSelector"), children: /* @__PURE__ */ l.jsx(Xe, { variant: "out", size: "s", onClick: () => g(!0), children: /* @__PURE__ */ l.jsx(te, { icon: Q.plus, size: le.s }) }) }),
          m.map((se) => /* @__PURE__ */ l.jsx(
            w$,
            {
              selector: se,
              removable: T,
              toggleable: T && m.filter((q) => q.getActive() || q === se).length > 1
            },
            se.toString()
          ))
        ] }) }) })
      ] }),
      /* @__PURE__ */ l.jsxs(R, { items: "stretch", space: "xs", className: L(_, M && O), children: [
        /* @__PURE__ */ l.jsx(
          mt,
          {
            title: V(T ? "applyOnComponents" : "noComponents"),
            onClick: () => T && f.setComponentFirst(!0),
            className: L(k, M && z),
            children: /* @__PURE__ */ l.jsx(R, { className: L("h-full"), items: "center", children: /* @__PURE__ */ l.jsx(te, { icon: Q.targetVariant, size: le.sx }) })
          }
        ),
        /* @__PURE__ */ l.jsx($, { grow: !0, className: L("gjs-py-0.5"), children: /* @__PURE__ */ l.jsx(R, { className: L("h-full gjs-pr-1"), items: "center", children: x.map((se) => /* @__PURE__ */ l.jsx(
          yt,
          {
            s: "s",
            className: L(["gjs-ml-1 gjs-my-0.5 cursor-default", H.cmp]),
            onPointerEnter: () => S.setHovered(se),
            onPointerOut: () => S.setHovered(),
            label: se.getName()
          },
          se.getId()
        )) }) })
      ] }),
      /* @__PURE__ */ l.jsxs(R, { space: "s", items: "center", justify: "between", children: [
        /* @__PURE__ */ l.jsx(
          mt,
          {
            title: /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
              /* @__PURE__ */ l.jsx("div", { children: V("selected") }),
              /* @__PURE__ */ l.jsx(
                "pre",
                {
                  className: L(
                    "gs-utl-text-xs gs-utl-mt-1 gs-utl-bg-white/10 gs-utl-text-gray-400",
                    re.rnd,
                    ke.xyS
                  ),
                  children: F
                }
              ),
              /* @__PURE__ */ l.jsx("div", { className: L("gs-utl-text-xs gs-utl-mt-1.5"), children: V("currentSelection") })
            ] }),
            children: /* @__PURE__ */ l.jsx(yt, { className: L(re.b, re.rnd, H.br), s: "xs", nopad: !0, block: !0, children: /* @__PURE__ */ l.jsx(te, { icon: Q.target, size: le.sx }) })
          }
        ),
        /* @__PURE__ */ l.jsx($, { className: L("text-sm"), children: /* @__PURE__ */ l.jsx(yt, { className: L(re.b, re.rnd, H.br), s: "xs", nopad: !0, children: /* @__PURE__ */ l.jsxs(R, { space: "xs", items: "center", nowrap: !0, children: [
          !!E && E.getWidthMedia() && /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
            /* @__PURE__ */ l.jsx(
              mt,
              {
                title: /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
                  V("device"),
                  ": ",
                  /* @__PURE__ */ l.jsx("b", { children: E.getName() })
                ] }),
                children: /* @__PURE__ */ l.jsx(te, { icon: Q.cellphoneLink, size: le.sx })
              }
            ),
            /* @__PURE__ */ l.jsx($, { className: L("opacity-30"), children: "|" })
          ] }),
          /* @__PURE__ */ l.jsx(
            mt,
            {
              title: /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
                V("target"),
                ": ",
                /* @__PURE__ */ l.jsx("b", { children: N }),
                /* @__PURE__ */ l.jsxs("span", { className: L("text-xs opacity-75"), children: [
                  " ",
                  (fe = j == null ? void 0 : j.selectorsToString) == null ? void 0 : fe.call(j, { skipState: 1 })
                ] })
              ] }),
              children: /* @__PURE__ */ l.jsx(te, { icon: M ? Q.targetVariant : Q.tag, size: le.sx })
            }
          ),
          !!C && /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
            /* @__PURE__ */ l.jsx($, { className: L("opacity-30"), children: "|" }),
            /* @__PURE__ */ l.jsx(
              mt,
              {
                title: /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
                  V("state"),
                  ": ",
                  /* @__PURE__ */ l.jsx("b", { children: C.getLabel() })
                ] }),
                children: /* @__PURE__ */ l.jsx(te, { icon: Q.flare, size: le.sx })
              }
            )
          ] })
        ] }) }) }),
        /* @__PURE__ */ l.jsx(
          Bt,
          {
            title: c.t("toggleCss"),
            onClick: d,
            active: p,
            size: "s",
            children: /* @__PURE__ */ l.jsx(te, { icon: Q.codeBraces, size: le.sx })
          }
        )
      ] })
    ] }) : /* @__PURE__ */ l.jsxs(R, { className: L("text-sm leading-6 gjs-my-5"), col: !0, children: [
      /* @__PURE__ */ l.jsx($, { children: V("noSelecton") }),
      /* @__PURE__ */ l.jsxs("ul", { className: L("list-disc gjs-pl-5 gjs-mt-2"), children: [
        /* @__PURE__ */ l.jsx("li", { children: V("selectFromCanvas") }),
        /* @__PURE__ */ l.jsx("li", { children: V("selectFromList") })
      ] })
    ] })
  ] });
}), j$ = "gs-panel-selectors", C$ = me(
  ce(function({
    className: t,
    styleCatalog: n,
    stateSelector: r,
    ...o
  }) {
    return /* @__PURE__ */ l.jsx(In, { className: Y(j$, t), ...o, children: /* @__PURE__ */ l.jsx(qv, { children: (s) => /* @__PURE__ */ l.jsx(O0, { ...s, styleCatalog: n, stateSelector: r }) }) });
  })
), P$ = Mt(function({ children: t, className: n, content: r, ...o }, s) {
  return /* @__PURE__ */ l.jsx("div", { className: Y(B("gs-design-manager-tab"), n), ref: s, ...o, children: t });
}), Pu = L("overflow-y-auto overflow-x-hidden max-w-full"), T0 = ce(function() {
  var x, w, S;
  const {
    isCssPanelActive: t,
    selectedDesignerTab: n,
    showSelectors: r,
    setSelectedDesignerTab: o,
    sdkProps: s,
    sdkOptions: i,
    isProjectTypeEmail: a
  } = ve(), c = Me(), u = L(t && "hidden"), p = (((x = Wt(s.children, P$)) == null ? void 0 : x.filter(Boolean)) || []).map(({ props: j }, E) => ({
    id: j.id,
    label: j.label,
    content: /* @__PURE__ */ l.jsx(Qr, { children: j.children }),
    order: j.order ?? 2 + E + 1
  })), f = (w = i.designPanel) == null ? void 0 : w.propsInStyles, h = (S = i.designPanel) == null ? void 0 : S.hideTabs, v = f === !0 || a && f !== !1, g = h === !0 || a && h !== !1, b = c.t("traitManager.panelLabel"), y = [
    {
      id: "style",
      label: c.t("styleManager.panelLabel"),
      order: 1,
      content: /* @__PURE__ */ l.jsxs(R, { col: !0, full: !0, children: [
        !!r && /* @__PURE__ */ l.jsx($, { className: L(ke.s, re.bb, H.br), children: /* @__PURE__ */ l.jsx(qv, { children: (j) => /* @__PURE__ */ l.jsx(O0, { ...j }) }) }),
        v && /* @__PURE__ */ l.jsx($, { className: Pu, children: /* @__PURE__ */ l.jsx(Oo, { handler: b, className: Sb(!1), sticky: !0, open: !0, children: /* @__PURE__ */ l.jsx(od, { children: (j) => /* @__PURE__ */ l.jsx(Sd, { ...j, className: L("gjs-p-2", H.br, re.bb) }) }) }) }),
        /* @__PURE__ */ l.jsx($, { className: Pu, grow: !0, children: /* @__PURE__ */ l.jsx(Yv, { children: (j) => /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
          t && /* @__PURE__ */ l.jsx(r0, {}),
          /* @__PURE__ */ l.jsx(jb, { className: u, ...j })
        ] }) }) })
      ] })
    },
    !v && {
      id: "props",
      label: b,
      order: 2,
      content: /* @__PURE__ */ l.jsx(R, { col: !0, full: !0, children: /* @__PURE__ */ l.jsx($, { className: L(ke.s, Pu), children: /* @__PURE__ */ l.jsx(od, { children: (j) => /* @__PURE__ */ l.jsx(Sd, { ...j }) }) }) })
    },
    ...p
  ].filter(Boolean).sort((j, E) => j.order - E.order);
  return /* @__PURE__ */ l.jsx(R, { col: !0, full: !0, nowrap: !0, children: /* @__PURE__ */ l.jsx(
    To,
    {
      value: n,
      onChange: o,
      tabs: y,
      className: L(g && "hidden")
    }
  ) });
}), E$ = "gs-panel-sidebar-tabs", _$ = me(
  ce(function({ className: t, ...n }) {
    return /* @__PURE__ */ l.jsx(In, { className: Y(E$, "gs-utl-h-full", t), ...n, children: /* @__PURE__ */ l.jsx(T0, {}) });
  })
), O$ = "gs-panel-styles", T$ = me(
  ce(function({ className: t, ...n }) {
    const { isCssPanelActive: r } = ve(), o = Y(r && " gs-utl-hidden");
    return /* @__PURE__ */ l.jsx(
      In,
      {
        className: Y(O$, "gs-utl-overflow-auto gs-utl-h-full", t),
        classNameAccordion: Y("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        classNameAccordionContent: Y("gs-utl-overflow-auto"),
        ...n,
        children: /* @__PURE__ */ l.jsx(Yv, { children: (s) => /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
          r && /* @__PURE__ */ l.jsx(r0, {}),
          /* @__PURE__ */ l.jsx(jb, { className: o, ...s })
        ] }) })
      }
    );
  })
), A$ = "gs-panel-templates", L$ = me(
  ce(function({
    className: t,
    templates: n,
    content: r,
    onSelect: o,
    ...s
  }) {
    const i = xv(), { projectTypeFilter: a } = i;
    let c = n ?? i.templates;
    return c = c == null ? void 0 : c.map((u) => ({ ...u, isTemplate: !0 })), W(() => {
      n || i.loadTemplates();
    }, [n]), /* @__PURE__ */ l.jsx(
      In,
      {
        className: Y(A$, "gs-utl-overflow-hidden gs-utl-h-full", t),
        classNameAccordion: Y("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        classNameAccordionContent: Y("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),
        ...s,
        children: /* @__PURE__ */ l.jsx(R, { className: B("relative gs-utl-h-full"), nowrap: !0, col: !0, space: "m", children: /* @__PURE__ */ l.jsx(R, { className: B("gs-utl-h-[75vh] gs-utl-flex-grow"), nowrap: !0, col: !0, space: "m", children: /* @__PURE__ */ l.jsx(
          s0,
          {
            templates: c,
            projectType: Fe[a],
            content: r,
            onSelect: o,
            skipProjectNamePopover: !0
          }
        ) }) })
      }
    );
  })
), k$ = "gs-cmp-row", M$ = me(function({ className: t, children: n, full: r, ...o }) {
  return /* @__PURE__ */ l.jsx(Lo, { className: Y(k$, H.bg, "gs-utl-flex", r && "gs-utl-w-full", t), ...o, children: Vn(n) });
}), $$ = "gs-sidebar-bottom", N$ = me(
  ce(function({ children: t, className: n, style: r, height: o, ...s }) {
    const { isInPreview: i, isBottomSidebarOpen: a } = ve(), c = o ?? 35, u = oe(
      () => ({
        height: c,
        marginBottom: i || !a ? `-${c}px` : 0,
        ...r
      }),
      [i, a, r]
    );
    return /* @__PURE__ */ l.jsx(
      Lo,
      {
        className: Y($$, "gs-utl-flex gs-utl-transition-spacing", re.bt, H.br, n),
        style: u,
        ...s,
        children: t ? Vn(t) : void 0
      }
    );
  })
), R$ = ce(function(t) {
  const { leftSidebarSize: n, setLeftSidebarSize: r, editor: o, isInPreview: s, isLeftSidebarOpen: i, sdkProps: a, showPages: c } = ve(), u = a.children, d = t.width, p = d ?? n, f = oe(
    () => ({
      marginLeft: s || !i ? `-${p}px` : 0,
      ...t.style
    }),
    [p, s, i, t.style]
  ), h = () => {
    o == null || o.refresh();
  }, v = (b, m, y) => {
    r(y.getBoundingClientRect().width);
  }, g = t.resizable !== !1;
  return /* @__PURE__ */ l.jsx(
    pc,
    {
      className: Y(L(["h-full transition-spacing", re.br, H.br]), t.className),
      right: g,
      style: f,
      height: "100%",
      width: p,
      minWidth: d ?? 200,
      maxWidth: d ?? 400,
      onResize: h,
      onResizeStop: v,
      children: t.children ?? /* @__PURE__ */ l.jsxs(R, { full: !0, col: !0, children: [
        c && /* @__PURE__ */ l.jsx($, { className: L(["w-full", re.bb, H.br]), children: /* @__PURE__ */ l.jsx(Kv, { children: (b) => /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
          Wt(u, j0),
          /* @__PURE__ */ l.jsx(w0, { ...b }),
          Wt(u, S0)
        ] }) }) }),
        /* @__PURE__ */ l.jsx($, { className: L(["w-full overflow-hidden flex flex-col"]), grow: !0, children: /* @__PURE__ */ l.jsx(Gv, { children: (b) => /* @__PURE__ */ l.jsxs(l.Fragment, { children: [
          Wt(u, v0),
          /* @__PURE__ */ l.jsx(g0, { ...b }),
          Wt(u, m0)
        ] }) }) })
      ] })
    }
  );
}), D$ = "gs-sidebar-left", I$ = me(
  ce(function({ children: t, width: n, resizable: r, ...o }) {
    return /* @__PURE__ */ l.jsx(
      R$,
      {
        className: Y(D$, "gs-utl-flex gs-utl-flex-col gs-utl-flex-nowrap", uc(o)),
        width: n,
        resizable: r,
        style: dc(o),
        children: t ? Vn(t) : void 0
      }
    );
  })
), V$ = ce(function(t) {
  const { rightSidebarSize: n, setRightSidebarSize: r, editor: o, isInPreview: s, isRightSidebarOpen: i } = ve(), a = oe(
    () => ({
      marginRight: s || !i ? `-${n}px` : 0,
      ...t.style
    }),
    [n, s, i, t.style]
  ), c = () => {
    o == null || o.refresh();
  }, u = (d, p, f) => {
    r(f.getBoundingClientRect().width);
  };
  return /* @__PURE__ */ l.jsx(
    pc,
    {
      className: Y(L(["h-full transition-spacing", re.bl, H.br]), t.className),
      left: !0,
      style: a,
      height: "100%",
      width: n,
      minWidth: 200,
      maxWidth: 400,
      onResize: c,
      onResizeStop: u,
      children: t.children ?? /* @__PURE__ */ l.jsx(T0, {})
    }
  );
}), H$ = "gs-sidebar-right", B$ = me(
  ce(function({ children: t, ...n }) {
    return /* @__PURE__ */ l.jsx(
      V$,
      {
        className: Y(H$, "gs-utl-flex gs-utl-flex-col gs-utl-flex-nowrap", uc(n)),
        style: dc(n),
        children: t ? Vn(t) : void 0
      }
    );
  })
), z$ = ce(function({
  className: t,
  variant: n,
  value: r,
  tabs: o,
  style: s,
  editorEvents: i,
  onChange: a
}) {
  const { editor: c } = ve(), [u, d] = U(() => ({
    tabs: o,
    style: s,
    value: r,
    variant: n,
    className: t
  })), p = oe(
    () => {
      var h;
      return ((h = u.tabs) == null ? void 0 : h.map((v) => ({
        ...v,
        content: Vn(v.children)
      }))) || [];
    },
    [u.tabs]
  ), f = (h) => {
    a && c ? a({
      value: h,
      editor: c,
      state: u,
      setState: (v) => d((g) => ({ ...g, ...v }))
    }) : d((v) => ({ ...v, value: h }));
  };
  return mc({
    editor: c,
    editorEvents: i,
    localState: u,
    setLocalState: d
  }), /* @__PURE__ */ l.jsx(
    To,
    {
      tabs: p,
      className: Y(u.className),
      variant: u.variant,
      value: u.value,
      style: u.style,
      onChange: f
    }
  );
}), F$ = "gs-cmp-text", U$ = me(function({ className: t, content: n, children: r, ...o }) {
  return /* @__PURE__ */ l.jsx(Lo, { className: Y(F$, t), ...o, children: r || n });
}), W$ = "gs-cmp-button-group-field", G$ = me(
  ce(function({
    className: t,
    label: n,
    name: r,
    value: o,
    options: s,
    size: i,
    required: a,
    disabled: c,
    onChange: u,
    editorEvents: d
  }) {
    const { editor: p } = ve(), [f, h] = U(() => ({
      className: t,
      label: n,
      name: r,
      value: o,
      options: s,
      size: i,
      required: a,
      disabled: c
    })), v = (g) => {
      u({
        value: g,
        editor: p,
        state: f,
        setState: (b) => h((m) => ({ ...m, ...b }))
      });
    };
    return mc({
      editor: p,
      editorEvents: d,
      localState: f,
      setLocalState: h
    }), /* @__PURE__ */ l.jsx(
      Vt,
      {
        className: Y(W$, f.className),
        label: f.label,
        name: f.name,
        value: f.value,
        options: f.options ?? [],
        size: f.size,
        required: f.required,
        disabled: f.disabled,
        onChange: v
      }
    );
  })
), K$ = "gs-cmp-select-field", q$ = me(
  ce(function({
    className: t,
    style: n,
    label: r,
    name: o,
    value: s,
    options: i,
    size: a,
    onChange: c,
    required: u,
    disabled: d,
    emptyState: p,
    editorEvents: f
  }) {
    const { editor: h } = ve(), [v, g] = U(() => ({
      required: u,
      disabled: d,
      style: n,
      className: t,
      label: r,
      name: o,
      value: s,
      options: i,
      size: a,
      emptyState: p
    })), b = (m) => {
      c({
        value: m,
        editor: h,
        state: v,
        setState: (y) => g((x) => ({ ...x, ...y }))
      });
    };
    return mc({
      editor: h,
      editorEvents: f,
      localState: v,
      setLocalState: g
    }), /* @__PURE__ */ l.jsx(
      _e,
      {
        classNameContainer: Y(K$, v.className),
        style: v.style,
        label: v.label,
        name: v.name,
        value: v.value ?? "",
        options: v.options ?? [],
        size: v.size,
        required: v.required,
        disabled: v.disabled,
        emptyState: v.emptyState,
        onChange: b
      }
    );
  })
), Y$ = "gs-cmp-input-field", X$ = me(
  ce(function({
    className: t,
    style: n,
    label: r,
    name: o,
    value: s,
    size: i,
    disabled: a,
    inputType: c,
    readOnly: u,
    required: d,
    placeholder: p,
    onChange: f,
    editorEvents: h
  }) {
    const { editor: v } = ve(), [g, b] = U(() => ({
      className: t,
      style: n,
      label: r,
      name: o,
      value: s,
      size: i,
      readOnly: u,
      disabled: a,
      required: d,
      placeholder: p
    })), m = (y) => {
      f({
        value: y,
        editor: v,
        state: g,
        setState: (x) => b((w) => ({ ...w, ...x }))
      });
    };
    return mc({
      editor: v,
      editorEvents: h,
      localState: g,
      setLocalState: b
    }), /* @__PURE__ */ l.jsx(
      dt,
      {
        type: c,
        className: Y(Y$, g.className),
        style: g.style,
        label: g.label,
        name: g.name,
        value: g.value,
        size: g.size,
        required: g.required,
        disabled: g.disabled,
        readOnly: g.readOnly,
        placeholder: g.placeholder,
        onChange: m
      }
    );
  })
);
var jd = /* @__PURE__ */ ((e) => (e.text = "text", e.row = "row", e.column = "column", e.button = "button", e.buttonGroupField = "buttonGroupField", e.inputField = "inputField", e.selectField = "selectField", e.tabs = "tabs", e.devices = "devices", e.custom = "custom", e.panelLayers = "panelLayers", e.panelPages = "panelPages", e.panelSelectors = "panelSelectors", e.panelStyles = "panelStyles", e.panelProperties = "panelProperties", e.panelSidebarTabs = "panelSidebarTabs", e.panelPagesLayers = "panelPagesLayers", e.panelBlocks = "panelBlocks", e.panelPageSettings = "panelPageSettings", e.panelGlobalStyles = "panelGlobalStyles", e.panelAssets = "panelAssets", e.panelTemplates = "panelTemplates", e.sidebarLeft = "sidebarLeft", e.sidebarRight = "sidebarRight", e.sidebarTop = "sidebarTop", e.sidebarBottom = "sidebarBottom", e.canvas = "canvas", e.canvasSidebarTop = "canvasSidebarTop", e))(jd || {});
const Z$ = {
  row: M$,
  column: d4,
  text: U$,
  tabs: z$,
  button: Zp,
  buttonGroupField: G$,
  inputField: X$,
  selectField: q$,
  devices: i0,
  panelPages: C0,
  panelPageSettings: Q4,
  panelLayers: b0,
  panelPagesLayers: o$,
  panelBlocks: M4,
  panelGlobalStyles: z4,
  panelSelectors: C$,
  panelStyles: T$,
  panelProperties: v$,
  panelSidebarTabs: _$,
  panelAssets: L4,
  panelTemplates: L$,
  sidebarRight: B$,
  sidebarLeft: I$,
  sidebarTop: a0,
  sidebarBottom: N$,
  canvas: t0,
  canvasSidebarTop: c4
}, Vn = (e) => {
  const t = Array.isArray(e) ? e : e ? [e] : [], n = cO();
  return t.filter(Boolean).map((r, o) => {
    const { id: s = "", type: i, ...a } = Lt(r) ? { type: jd.text, content: r } : r || {}, c = Z$[i], u = n.layoutChildren.get(s), d = s || o;
    return u ? /* @__PURE__ */ l.jsx(td, { id: s, ...u }, d) : i === jd.custom ? /* @__PURE__ */ l.jsx(td, { id: s, ...a }, d) : c ? /* @__PURE__ */ l.jsx(c, { id: s, ...a }, d) : null;
  });
}, mc = (e) => {
  const { editorEvents: t, editor: n, localState: r, setLocalState: o } = e;
  W(() => {
    if (!t || !n)
      return;
    const s = Object.keys(t).reduce(
      (a, c) => (a[c] = (u = {}) => {
        const d = t[c];
        d({
          fromEvent: u,
          editor: n,
          state: r,
          setState: (p) => o((f) => ({ ...f, ...p }))
        });
      }, a),
      {}
    ), i = Object.keys(s);
    return i.forEach((a) => n.on(a, s[a])), () => {
      i.forEach((a) => n.off(a, s[a]));
    };
  }, [n, r]);
}, Vo = "gs-layout-panel", J$ = me(
  ce(function({ className: t, layout: n, children: r }) {
    const o = Tp(), s = Dn(), [i, a] = U(!1), [c, u] = U(null), { id: d, header: p, layout: f, props: h, full: v = !0, style: g, toRemove: b, disablePropagation: m } = n, y = () => {
      a(!1), setTimeout(() => o.remove(d, { force: !0 }), 150);
    }, x = n.placer || { type: Bo.absolute, position: Ho.left }, w = x.type === Bo.absolute ? x : null, S = x.type === Bo.popover ? x : null, j = x.type === Bo.static ? x : null, E = x.type === Bo.dialog ? x : null, C = (w == null ? void 0 : w.position) === Ho.left, P = (w == null ? void 0 : w.position) === Ho.right, _ = (w == null ? void 0 : w.position) === Ho.top, O = (w == null ? void 0 : w.position) === Ho.bottom, k = j || E, z = Lt(f) ? { type: f } : f, F = !!w, { x: A, y: T } = S || {}, D = (S == null ? void 0 : S.w) || (S == null ? void 0 : S.width), M = (S == null ? void 0 : S.h) || (S == null ? void 0 : S.height), N = oe(
      () => ({
        // avoid popper loop bug
        clientWidth: 0,
        clientHeight: 0,
        getBoundingClientRect: () => new DOMRect(A, T, D, M)
      }),
      [A, T, D, M, i]
    ), V = bs(N, c, {
      ...av,
      placement: "auto",
      ...S == null ? void 0 : S.options
    }), K = Y(
      Vo,
      H.br,
      H.bg,
      H.txt,
      "gs-utl-z-10",
      F && "gs-utl-absolute gs-utl-transition",
      (C || _) && "gs-utl-top-0 gs-utl-left-0",
      P && "gs-utl-top-0 gs-utl-right-0",
      O && "gs-utl-bottom-0 gs-utl-left-0",
      F && v && (C || P ? "gs-utl-h-full" : "gs-utl-w-full"),
      !i && F ? "gs-utl-opacity-0" : "gs-utl-opacity-100",
      !i && C && "-gs-utl-translate-x-full",
      !i && P && "gs-utl-translate-x-full",
      !i && _ && "-gs-utl-translate-y-full",
      !i && O && "gs-utl-translate-y-full",
      S && re.rnd,
      S && re.b,
      n.className,
      t
    );
    W(() => {
      const ne = setTimeout(() => a(!0));
      return () => clearTimeout(ne);
    }, []), W(() => {
      b && y();
    }, [b]);
    const J = {
      ...g,
      width: (g == null ? void 0 : g.width) || (C || P ? 240 : void 0)
    };
    nv(
      { current: c },
      {
        onTrigger: y,
        enabled: (S == null ? void 0 : S.closeOnClickAway) && i
      }
    );
    const ie = (ne) => {
      m && ne.nativeEvent.stopImmediatePropagation();
    }, X = /* @__PURE__ */ l.jsxs(R, { className: K, style: J, col: !0, nowrap: !0, onPointerDown: ie, onMouseDown: ie, children: [
      p !== !1 && /* @__PURE__ */ l.jsx($, { className: Y(`${Vo}__header`, p == null ? void 0 : p.className), style: p == null ? void 0 : p.style, children: /* @__PURE__ */ l.jsx(
        Kp,
        {
          onClose: y,
          className: B(ke.s),
          title: /* @__PURE__ */ l.jsxs(R, { className: `${Vo}__title`, space: "s", items: "center", children: [
            !!(p != null && p.icon) && /* @__PURE__ */ l.jsx(te, { icon: p.icon, size: le.s }),
            !!(p != null && p.label) && /* @__PURE__ */ l.jsx($, { grow: !0, children: p.label })
          ] })
        }
      ) }),
      /* @__PURE__ */ l.jsx($, { className: Y(`${Vo}__content`, "gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"), grow: !0, children: f || d ? Vn({ ...h, id: d, ...z }) : r })
    ] });
    return W(() => {
      if (i) {
        if (j) {
          const ne = o.layoutsById.get(j.layoutId);
          if (ne)
            return ne.setState({ children: X }), () => {
              ne.setState({ children: null });
            };
        } else if (E)
          return s.open({
            // use function to avoid mobx errors
            content: () => X,
            disablePropagation: m,
            title: E.title,
            size: E.size,
            onClose: y
          }), () => {
            s.close();
          };
      }
    }, [i]), k ? null : S ? /* @__PURE__ */ l.jsx(
      "div",
      {
        className: B(Vo, `${Vo}-popover`, "gs-utl-z-20"),
        ref: u,
        style: V.styles.popper,
        ...V.attributes.popper,
        children: /* @__PURE__ */ l.jsx(tr, { show: i, ...$i, unmount: !1, children: X })
      }
    ) : X;
  })
), Q$ = ce(function({
  className: t,
  ...n
}) {
  const { layouts: r } = Tp();
  return /* @__PURE__ */ l.jsx("div", { className: Y("gs-layout-panel-container", t), ...n, children: r.map((o) => /* @__PURE__ */ l.jsx(J$, { layout: o }, o.id)) });
}), dr = "gs-cmp-modal";
function A0({
  open: e = !1,
  title: t,
  disablePropagation: n,
  isDarkTheme: r,
  description: o,
  children: s,
  onClose: i,
  closable: a = !0,
  fullH: c,
  buttons: u = [],
  size: d
}) {
  const p = () => a && i(), f = Y(
    Xm,
    `${dr} gs-utl-fixed gs-utl-z-20 gs-utl-inset-0 gs-utl-overflow-y-auto`,
    r && nd
  ), h = Y(
    `${dr}-wrapper gs-utl-relative gs-utl-flex gs-utl-justify-center gs-utl-min-h-screen`,
    c ? "gs-utl-items-stretch" : "gs-utl-items-center"
  ), v = Y(
    `${dr}-container`,
    "gs-utl-relative gs-utl-w-full gs-utl-p-5 gs-utl-my-8 gs-utl-overflow-hidden gs-utl-shadow-xl gs-utl-rounded-xl gs-utl-flex gs-utl-flex-col",
    re.b,
    H.br,
    H.bg,
    H.txt,
    d === "lg" ? "gs-utl-max-w-lg" : d === "l" ? "gs-utl-max-w-5xl" : d === "s" ? "gs-utl-max-w-sm" : "gs-utl-max-w-md"
  ), g = Y(
    `${dr}-overlay gs-utl-absolute gs-utl-inset-0 gs-utl-bg-black/50 gs-utl-transition-opacity`
  ), b = Y(`${dr}-close gs-utl-absolute gs-utl-top-0 gs-utl-right-0 gs-utl-m-3`), m = Y(`${dr}-title gs-utl-text-lg gs-utl-font-medium gs-utl-leading-6 gs-utl-m-0`), y = Y(`${dr}-desc gs-utl-m-0`), x = Y(`${dr}-content gs-utl-mt-4 gs-utl-h-full`), w = Y(`${dr}-buttons gs-utl-mt-4`), S = (j) => {
    n && j.nativeEvent.stopImmediatePropagation();
  };
  return /* @__PURE__ */ l.jsx(tr, { show: e, as: bt, children: /* @__PURE__ */ l.jsx($s, { onClose: p, className: f, onPointerDown: S, onMouseDown: S, children: /* @__PURE__ */ l.jsxs("div", { className: h, children: [
    /* @__PURE__ */ l.jsx(tr.Child, { as: bt, ...$i, children: /* @__PURE__ */ l.jsx($s.Overlay, { className: g }) }),
    /* @__PURE__ */ l.jsx(tr.Child, { as: bt, ...Hd, children: /* @__PURE__ */ l.jsxs("div", { className: v, children: [
      a && /* @__PURE__ */ l.jsx("div", { className: b, children: /* @__PURE__ */ l.jsx(Bt, { block: !0, border: !1, onClick: p, children: /* @__PURE__ */ l.jsx(te, { icon: Q.close, size: 1 }) }) }),
      /* @__PURE__ */ l.jsx($s.Title, { as: "h3", className: m, children: t }),
      /* @__PURE__ */ l.jsx($s.Description, { className: y, children: o }),
      /* @__PURE__ */ l.jsx("div", { className: x, children: s }),
      u.length > 0 && /* @__PURE__ */ l.jsx(R, { className: w, space: "m", items: "center", justify: "end", children: u.map((j, E) => /* @__PURE__ */ l.jsx(Xe, { ...j }, E)) })
    ] }) }),
    /* @__PURE__ */ l.jsx($s, { onClose: () => {
    }, open: !1 })
  ] }) }) });
}
const eN = ce(function() {
  const { isOpen: t, close: n, content: r, modalProps: o } = Dn(), { isDarkTheme: s } = an();
  return /* @__PURE__ */ l.jsx(A0, { open: t, onClose: n, isDarkTheme: s, ...o, children: pt(r) ? r() : r });
}), tN = "gs-panel-page-settings-cnt", nN = ce(function() {
  const t = Me(), n = ve(), { panelPageSettings: r } = n, o = t.tScoped("pageManager.settings"), { isOpen: s, page: i, width: a } = r, c = L(
    tN,
    "absolute left-0 top-0 h-full transition-transform z-10",
    !s && "-translate-x-full",
    re.br,
    H.br,
    H.bg
  ), u = L(ke.s), d = () => n.setPanelPageSettings({ isOpen: !1 });
  return /* @__PURE__ */ l.jsxs(R, { className: c, style: { width: a }, col: !0, nowrap: !0, children: [
    /* @__PURE__ */ l.jsx($, { children: /* @__PURE__ */ l.jsx(Kp, { title: o("title"), onClose: d, className: u }) }),
    /* @__PURE__ */ l.jsx(Qr, { children: /* @__PURE__ */ l.jsx($, { className: L("overflow-hidden"), grow: !0, children: r.isOpen && /* @__PURE__ */ l.jsx(
      x0,
      {
        page: i,
        size: Zl.s,
        classNameHeader: u,
        classNameContent: u,
        classNameFooter: u
      }
    ) }) })
  ] });
}), em = "gs-cmp-custom-rte", rN = ce(function({ items: t }) {
  const n = (r) => r.nativeEvent.stopImmediatePropagation();
  return /* @__PURE__ */ l.jsx(
    Yt,
    {
      className: Y(em, "gs-utl-m-2"),
      size: "s",
      onPointerDown: n,
      onMouseDown: n,
      classNameBody: Y(`${em}__body`, "gs-utl-flex gs-utl-gap-1 gs-utl-items-center"),
      children: Vn(t)
    }
  );
});
function oN({ children: e }) {
  const t = Ap(), [n, r] = U({
    enabled: !1,
    actions: [],
    Container: () => null
  });
  W(() => {
    if (!t)
      return;
    const c = t.RichTextEditor, u = c.events.custom, d = (p) => {
      let f;
      const h = c.customRte, v = h == null ? void 0 : h.toolbar, g = c.model.attributes.currentView;
      v && (g != null && g.model) && (f = v({
        editor: t,
        view: g,
        component: g.model,
        el: g.getChildrenContainer()
      }));
      const b = c.getAll().map((m) => ({
        id: m.name,
        icon: m.icon,
        run: () => c.run(m),
        state: m.currentState
      }));
      r({
        customRte: h,
        customToolbar: f,
        enabled: p.enabled,
        Container: Jb(p.container),
        actions: b
      });
    };
    return t.on(u, d), () => {
      t.off(u, d);
    };
  }, [t]);
  const { Container: o, customToolbar: s, customRte: i } = n, a = s ? /* @__PURE__ */ l.jsx(rN, { items: s }) : null;
  return t && o ? /* @__PURE__ */ l.jsx(o, { children: i ? a : e(n) }) : null;
}
function sN() {
  return /* @__PURE__ */ l.jsx(oN, { children: ({ actions: e }) => /* @__PURE__ */ l.jsx(R, { className: L(H.bg, re.b, re.rnd, H.br, "gjs-m-2"), nowrap: !0, children: e.map((t, n) => /* @__PURE__ */ l.jsx(
    Xe,
    {
      border: !1,
      rounded: !1,
      active: t.state === 1,
      disabled: t.state === -1,
      className: L("w-6", H.br, n !== 0 && re.bl),
      dangerouslySetInnerHTML: { __html: t.icon },
      onClick: t.run
    },
    t.id
  )) }) });
}
const iN = ce((e) => {
  const { select: t, close: n, Container: r } = e, o = Ki(), { editor: s } = ve();
  if (!s)
    return /* @__PURE__ */ l.jsx(r, { children: null });
  const { providers: i, onSelect: a, typeId: c, providerId: u, types: d, optionalType: p } = s.Assets.__customData().options;
  return /* @__PURE__ */ l.jsx(r, { children: /* @__PURE__ */ l.jsx(
    l0,
    {
      panelId: o.mainPanelId,
      onSelect: a ?? (({ asset: f }) => t(f)),
      close: n,
      types: d,
      providers: i,
      typeId: c,
      providerId: u,
      optionalType: p
    }
  ) });
}), aN = ce(function() {
  var m, y;
  const t = ve(), n = Ki(), { projectType: r, editorKey: o, setEditor: s, sdkProps: i, sdkOptions: a, sdkCurrentLayout: c } = t, { isDarkTheme: u } = an(), d = !!((y = (m = a.gjsOptions) == null ? void 0 : m.assetManager) != null && y.custom), p = Wp(), [f, h] = oe(
    () => [kL(r, a), p.getPluginsToLoad(r, t)],
    [r, o]
  ), v = (x) => {
    var w, S;
    s(x), (w = i.onEditor) == null || w.call(i, x), (S = a.onEditor) == null || S.call(a, x), n.onEditor(), x.on("destroy", () => {
      var j;
      s(), (j = a.onDestroy) == null || j.call(a, x), t.setIsReady(!1);
    });
  }, g = (x) => {
    var w, S;
    (w = i.onReady) == null || w.call(i, x), (S = a.onReady) == null || S.call(a, x), t.setIsReady(!0);
  }, b = (x, w) => {
    var S, j;
    (S = i.onUpdate) == null || S.call(i, x, w), (j = a.onUpdate) == null || j.call(a, x, w);
  };
  return /* @__PURE__ */ l.jsxs(
    H5,
    {
      className: L("gs-editor-gjs h-full w-full", re.b, H.br),
      grapesjs: a.gjsScript,
      grapesjsCss: a.gjsStyle,
      options: f,
      plugins: h,
      onEditor: v,
      onReady: g,
      onUpdate: b,
      children: [
        Vn(c),
        /* @__PURE__ */ l.jsx(Q$, {}),
        /* @__PURE__ */ l.jsx(Jk, {}),
        /* @__PURE__ */ l.jsx(nN, {}),
        !d && /* @__PURE__ */ l.jsx(k5, { children: (x) => /* @__PURE__ */ l.jsx(iN, { ...x }) }),
        /* @__PURE__ */ l.jsx(B5, { children: ({ open: x, title: w, close: S, content: j }) => /* @__PURE__ */ l.jsx(A0, { open: x, onClose: S, title: w, isDarkTheme: u, size: "l", children: j }) }),
        /* @__PURE__ */ l.jsx(dM, {}),
        /* @__PURE__ */ l.jsx(sN, {}),
        /* @__PURE__ */ l.jsx(eN, {})
      ]
    },
    o
  );
}), L0 = "0.22.5", lN = `https://unpkg.com/grapesjs@${L0}/dist/grapes.min.js`, cN = `https://unpkg.com/grapesjs@${L0}/dist/css/grapes.min.css`, uN = !1, dN = ce(function() {
  const t = ve(), { updateAppShell: n } = an(), { editor: r, editorKey: o, sdkLicenseError: s, sdkMisconfigurationError: i, isReady: a, licenseCheckStarted: c, rootElWidth: u } = t, d = Dn(), p = Me(), f = Wp();
  wv();
  const h = !!o && !!u;
  return W(() => {
    n && document.querySelector("body").classList.add(...B(H.bg, "overflow-hidden").split(" "));
  }, []), W(() => {
    if (a && !c && !Rd()) {
      const v = setTimeout(() => t.loadLicense(), 100);
      return () => clearTimeout(v);
    }
  }, [a, c]), W(() => {
    i && console.error(i);
  }, [i]), W(() => {
    if (!r)
      return;
    "launchQueue" in window && "LaunchParams" in window && window.launchQueue.setConsumer(async (b) => {
      if (!b.files.length)
        return;
      const x = await (await b.files[0].getFile()).text();
      t.loadProjectData(JSON.parse(x));
    });
    const { plg: v } = t.queryParams;
    v && !f.selectedShown && d.open({
      fullH: !0,
      title: p.t("pluginManager.plugins"),
      content: () => /* @__PURE__ */ l.jsx(Kb, { selectedId: v })
    });
    const g = Wi(() => t.refreshEditorCanvas(), 100);
    return window.addEventListener("scroll", g, !0), () => window.removeEventListener("scroll", g, !0);
  }, [r]), W(() => {
  }, []), /* @__PURE__ */ l.jsxs(R, { className: B("relative transition-colors h-full", H.bg, H.txt), justify: "center", items: "center", col: !0, children: [
    h && (s ? /* @__PURE__ */ l.jsxs(R, { col: !0, justify: "center", items: "center", children: [
      /* @__PURE__ */ l.jsx("div", { children: "SDK License Error" }),
      /* @__PURE__ */ l.jsx("span", { className: B("text-sm"), children: s })
    ] }) : i ? /* @__PURE__ */ l.jsx(R, { col: !0, justify: "center", items: "center", children: /* @__PURE__ */ l.jsx("div", { children: "SDK Misconfiguration Error" }) }) : /* @__PURE__ */ l.jsx(aN, {})),
    /* @__PURE__ */ l.jsx(tr, { show: !h, as: bt, ...$i, children: /* @__PURE__ */ l.jsx(Zi, { className: B("z-10", H.bg), abs: !0 }) })
  ] });
}), Cd = {
  licenseKey: "",
  settingsMenu: {
    // These were made mainly for the standalone editor, probably not suitable for the embedded one.
    // Need to revesit the interface to allow custom setting menu items.
    about: !1,
    embed: !1,
    openProject: !1,
    saveProject: !1,
    loadProject: !1,
    installApp: !1
  }
}, pN = Mt(function(t, n) {
  var c;
  const { options: r = Cd } = t, o = { theme: r.theme }, s = r.localStorage, i = s ? Pv(s, o) : o, a = {
    localSettingsStore: {
      ...i,
      key: s,
      updateAppShell: r.updateAppShell,
      rootEl: r.root
    },
    appEditorStore: {
      isDev: uN,
      isStage: !!r.stg,
      licenseKey: r.licenseKey,
      projectType: (i == null ? void 0 : i.lastProjectType) || ((c = r.project) == null ? void 0 : c.type) || Fe.web,
      sdkProps: {
        ...t,
        options: {
          ...Cd,
          gjsScript: lN,
          gjsStyle: cN,
          ...r
        }
      }
    }
  };
  return /* @__PURE__ */ l.jsx(IL, { initialState: a, children: /* @__PURE__ */ l.jsx(XL, { ref: n, children: /* @__PURE__ */ l.jsx(dN, {}) }) });
});
const mN = pN;
export {
  Zu as AssetStorageType,
  _p as AssetType,
  qb as BlockManagerAfter,
  Yb as BlockManagerBefore,
  On as BuiltInActionButtons,
  $r as ComponentContextMenuItem,
  jp as ComponentContextMenuSource,
  P$ as DesignManagerTab,
  Y_ as GlobalStyleFieldType,
  Q as IconNames,
  m0 as LayerManagerAfter,
  v0 as LayerManagerBefore,
  Gv as LayersProvider,
  Bo as LayoutPlacers,
  Ho as LayoutPosition,
  S0 as PageManagerAfter,
  j0 as PageManagerBefore,
  Kv as PagesProvider,
  Ju as ProjectStorageType,
  qv as SelectorsProvider,
  ye as StudioCommands,
  td as StudioCustomLayout,
  mN as StudioEditor,
  zr as StudioEvents,
  Hr as ThemeValue,
  Wo as ToastVariant,
  mN as default,
  Pt as useEditor
};
